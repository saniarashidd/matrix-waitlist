{"version":3,"file":"posthog-recorder.js","sources":["../../../node_modules/.pnpm/@posthog+rrweb-record@0.0.13/node_modules/@posthog/rrweb-record/dist/rrweb-record.js","../../../node_modules/.pnpm/@posthog+rrweb-plugin-console-record@0.0.13_@posthog+rrweb-utils@0.0.9_@posthog+rrweb@0.0.9/node_modules/@posthog/rrweb-plugin-console-record/dist/rrweb-plugin-console-record.js","../src/utils/globals.ts","../src/utils/type-utils.ts","../src/utils/logger.ts","../src/utils/index.ts","../src/utils/request-utils.ts","../src/extensions/replay/rrweb-plugins/patch.ts","../src/extensions/replay/external/denylist.ts","../src/extensions/replay/config.ts","../src/extensions/replay/external/network-plugin.ts","../src/entrypoints/posthog-recorder.ts"],"sourcesContent":["var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar _a;\nvar __defProp$1 = Object.defineProperty;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField$1 = (obj, key, value) => __defNormalProp$1(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nvar NodeType$1$1 = /* @__PURE__ */ ((NodeType2) => {\n  NodeType2[NodeType2[\"Document\"] = 0] = \"Document\";\n  NodeType2[NodeType2[\"DocumentType\"] = 1] = \"DocumentType\";\n  NodeType2[NodeType2[\"Element\"] = 2] = \"Element\";\n  NodeType2[NodeType2[\"Text\"] = 3] = \"Text\";\n  NodeType2[NodeType2[\"CDATA\"] = 4] = \"CDATA\";\n  NodeType2[NodeType2[\"Comment\"] = 5] = \"Comment\";\n  return NodeType2;\n})(NodeType$1$1 || {});\nconst testableAccessors$1 = {\n  Node: [\"childNodes\", \"parentNode\", \"parentElement\", \"textContent\"],\n  ShadowRoot: [\"host\", \"styleSheets\"],\n  Element: [\"shadowRoot\", \"querySelector\", \"querySelectorAll\"],\n  MutationObserver: []\n};\nconst testableMethods$1 = {\n  Node: [\"contains\", \"getRootNode\"],\n  ShadowRoot: [\"getSelection\"],\n  Element: [],\n  MutationObserver: [\"constructor\"]\n};\nconst untaintedBasePrototype$1 = {};\nfunction angularZoneUnpatchedAlternative$1(key) {\n  var _a2, _b;\n  const angularUnpatchedVersionSymbol = (_b = (_a2 = globalThis == null ? void 0 : globalThis.Zone) == null ? void 0 : _a2.__symbol__) == null ? void 0 : _b.call(_a2, key);\n  if (angularUnpatchedVersionSymbol && globalThis[angularUnpatchedVersionSymbol]) {\n    return globalThis[angularUnpatchedVersionSymbol];\n  } else {\n    return void 0;\n  }\n}\nfunction getUntaintedPrototype$1(key) {\n  if (untaintedBasePrototype$1[key])\n    return untaintedBasePrototype$1[key];\n  const candidate = angularZoneUnpatchedAlternative$1(key) || globalThis[key];\n  const defaultPrototype = candidate.prototype;\n  const accessorNames = key in testableAccessors$1 ? testableAccessors$1[key] : void 0;\n  const isUntaintedAccessors = Boolean(\n    accessorNames && // @ts-expect-error 2345\n    accessorNames.every(\n      (accessor) => {\n        var _a2, _b;\n        return Boolean(\n          (_b = (_a2 = Object.getOwnPropertyDescriptor(defaultPrototype, accessor)) == null ? void 0 : _a2.get) == null ? void 0 : _b.toString().includes(\"[native code]\")\n        );\n      }\n    )\n  );\n  const methodNames = key in testableMethods$1 ? testableMethods$1[key] : void 0;\n  const isUntaintedMethods = Boolean(\n    methodNames && methodNames.every(\n      // @ts-expect-error 2345\n      (method) => {\n        var _a2;\n        return typeof defaultPrototype[method] === \"function\" && ((_a2 = defaultPrototype[method]) == null ? void 0 : _a2.toString().includes(\"[native code]\"));\n      }\n    )\n  );\n  if (isUntaintedAccessors && isUntaintedMethods) {\n    untaintedBasePrototype$1[key] = candidate.prototype;\n    return candidate.prototype;\n  }\n  try {\n    const iframeEl = document.createElement(\"iframe\");\n    document.body.appendChild(iframeEl);\n    const win = iframeEl.contentWindow;\n    if (!win) return candidate.prototype;\n    const untaintedObject = win[key].prototype;\n    document.body.removeChild(iframeEl);\n    if (!untaintedObject) return defaultPrototype;\n    return untaintedBasePrototype$1[key] = untaintedObject;\n  } catch {\n    return defaultPrototype;\n  }\n}\nconst untaintedAccessorCache$1 = {};\nfunction getUntaintedAccessor$1(key, instance, accessor) {\n  var _a2;\n  const cacheKey = `${key}.${String(accessor)}`;\n  if (untaintedAccessorCache$1[cacheKey])\n    return untaintedAccessorCache$1[cacheKey].call(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype$1(key);\n  const untaintedAccessor = (_a2 = Object.getOwnPropertyDescriptor(\n    untaintedPrototype,\n    accessor\n  )) == null ? void 0 : _a2.get;\n  if (!untaintedAccessor) return instance[accessor];\n  untaintedAccessorCache$1[cacheKey] = untaintedAccessor;\n  return untaintedAccessor.call(instance);\n}\nconst untaintedMethodCache$1 = {};\nfunction getUntaintedMethod$1(key, instance, method) {\n  const cacheKey = `${key}.${String(method)}`;\n  if (untaintedMethodCache$1[cacheKey])\n    return untaintedMethodCache$1[cacheKey].bind(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype$1(key);\n  const untaintedMethod = untaintedPrototype[method];\n  if (typeof untaintedMethod !== \"function\") return instance[method];\n  untaintedMethodCache$1[cacheKey] = untaintedMethod;\n  return untaintedMethod.bind(instance);\n}\nfunction childNodes$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"childNodes\");\n}\nfunction parentNode$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"parentNode\");\n}\nfunction parentElement$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"parentElement\");\n}\nfunction textContent$1(n2) {\n  return getUntaintedAccessor$1(\"Node\", n2, \"textContent\");\n}\nfunction contains$1(n2, other) {\n  return getUntaintedMethod$1(\"Node\", n2, \"contains\")(other);\n}\nfunction getRootNode$1(n2) {\n  return getUntaintedMethod$1(\"Node\", n2, \"getRootNode\")();\n}\nfunction host$1(n2) {\n  if (!n2 || !(\"host\" in n2)) return null;\n  return getUntaintedAccessor$1(\"ShadowRoot\", n2, \"host\");\n}\nfunction styleSheets$1(n2) {\n  return n2.styleSheets;\n}\nfunction shadowRoot$1(n2) {\n  if (!n2 || !(\"shadowRoot\" in n2)) return null;\n  return getUntaintedAccessor$1(\"Element\", n2, \"shadowRoot\");\n}\nfunction querySelector$1(n2, selectors) {\n  return getUntaintedAccessor$1(\"Element\", n2, \"querySelector\")(selectors);\n}\nfunction querySelectorAll$1(n2, selectors) {\n  return getUntaintedAccessor$1(\"Element\", n2, \"querySelectorAll\")(selectors);\n}\nfunction mutationObserverCtor$1() {\n  return getUntaintedPrototype$1(\"MutationObserver\").constructor;\n}\nfunction patch$1(source, name, replacement) {\n  try {\n    if (!(name in source)) {\n      return () => {\n      };\n    }\n    const original = source[name];\n    const wrapped = replacement(original);\n    if (typeof wrapped === \"function\") {\n      wrapped.prototype = wrapped.prototype || {};\n      Object.defineProperties(wrapped, {\n        __rrweb_original__: {\n          enumerable: false,\n          value: original\n        }\n      });\n    }\n    source[name] = wrapped;\n    return () => {\n      source[name] = original;\n    };\n  } catch {\n    return () => {\n    };\n  }\n}\nconst index$1 = {\n  childNodes: childNodes$1,\n  parentNode: parentNode$1,\n  parentElement: parentElement$1,\n  textContent: textContent$1,\n  contains: contains$1,\n  getRootNode: getRootNode$1,\n  host: host$1,\n  styleSheets: styleSheets$1,\n  shadowRoot: shadowRoot$1,\n  querySelector: querySelector$1,\n  querySelectorAll: querySelectorAll$1,\n  mutationObserver: mutationObserverCtor$1,\n  patch: patch$1\n};\nfunction isElement(n2) {\n  return n2.nodeType === n2.ELEMENT_NODE;\n}\nfunction isShadowRoot(n2) {\n  const hostEl = (\n    // anchor and textarea elements also have a `host` property\n    // but only shadow roots have a `mode` property\n    n2 && \"host\" in n2 && \"mode\" in n2 && index$1.host(n2) || null\n  );\n  return Boolean(\n    hostEl && \"shadowRoot\" in hostEl && index$1.shadowRoot(hostEl) === n2\n  );\n}\nfunction isNativeShadowDom(shadowRoot2) {\n  return Object.prototype.toString.call(shadowRoot2) === \"[object ShadowRoot]\";\n}\nfunction fixBrowserCompatibilityIssuesInCSS(cssText) {\n  if (cssText.includes(\" background-clip: text;\") && !cssText.includes(\" -webkit-background-clip: text;\")) {\n    cssText = cssText.replace(\n      /\\sbackground-clip:\\s*text;/g,\n      \" -webkit-background-clip: text; background-clip: text;\"\n    );\n  }\n  return cssText;\n}\nfunction escapeImportStatement(rule2) {\n  const { cssText } = rule2;\n  if (cssText.split('\"').length < 3) return cssText;\n  const statement = [\"@import\", `url(${JSON.stringify(rule2.href)})`];\n  if (rule2.layerName === \"\") {\n    statement.push(`layer`);\n  } else if (rule2.layerName) {\n    statement.push(`layer(${rule2.layerName})`);\n  }\n  if (rule2.supportsText) {\n    statement.push(`supports(${rule2.supportsText})`);\n  }\n  if (rule2.media.length) {\n    statement.push(rule2.media.mediaText);\n  }\n  return statement.join(\" \") + \";\";\n}\nfunction stringifyStylesheet(s2) {\n  try {\n    const rules2 = s2.rules || s2.cssRules;\n    if (!rules2) {\n      return null;\n    }\n    const stringifiedRules = Array.from(\n      rules2,\n      (rule2) => stringifyRule(rule2, s2.href)\n    ).join(\"\");\n    return fixBrowserCompatibilityIssuesInCSS(stringifiedRules);\n  } catch (error) {\n    return null;\n  }\n}\nfunction stringifyRule(rule2, sheetHref) {\n  if (isCSSImportRule(rule2)) {\n    let importStringified;\n    try {\n      importStringified = // for same-origin stylesheets,\n      // we can access the imported stylesheet rules directly\n      stringifyStylesheet(rule2.styleSheet) || // work around browser issues with the raw string `@import url(...)` statement\n      escapeImportStatement(rule2);\n    } catch (error) {\n      importStringified = rule2.cssText;\n    }\n    if (rule2.styleSheet.href) {\n      return absolutifyURLs(importStringified, rule2.styleSheet.href);\n    }\n    return importStringified;\n  } else {\n    let ruleStringified = rule2.cssText;\n    if (isCSSStyleRule(rule2) && rule2.selectorText.includes(\":\")) {\n      ruleStringified = fixSafariColons(ruleStringified);\n    }\n    if (sheetHref) {\n      return absolutifyURLs(ruleStringified, sheetHref);\n    }\n    return ruleStringified;\n  }\n}\nfunction fixSafariColons(cssStringified) {\n  const regex = /(\\[(?:[\\w-]+)[^\\\\])(:(?:[\\w-]+)\\])/gm;\n  return cssStringified.replace(regex, \"$1\\\\$2\");\n}\nfunction isCSSImportRule(rule2) {\n  return \"styleSheet\" in rule2;\n}\nfunction isCSSStyleRule(rule2) {\n  return \"selectorText\" in rule2;\n}\nclass Mirror {\n  constructor() {\n    __publicField$1(this, \"idNodeMap\", /* @__PURE__ */ new Map());\n    __publicField$1(this, \"nodeMetaMap\", /* @__PURE__ */ new WeakMap());\n  }\n  getId(n2) {\n    var _a2;\n    if (!n2) return -1;\n    const id = (_a2 = this.getMeta(n2)) == null ? void 0 : _a2.id;\n    return id ?? -1;\n  }\n  getNode(id) {\n    return this.idNodeMap.get(id) || null;\n  }\n  getIds() {\n    return Array.from(this.idNodeMap.keys());\n  }\n  getMeta(n2) {\n    return this.nodeMetaMap.get(n2) || null;\n  }\n  // removes the node from idNodeMap\n  // doesn't remove the node from nodeMetaMap\n  removeNodeFromMap(n2) {\n    const id = this.getId(n2);\n    this.idNodeMap.delete(id);\n    if (n2.childNodes) {\n      n2.childNodes.forEach(\n        (childNode) => this.removeNodeFromMap(childNode)\n      );\n    }\n  }\n  has(id) {\n    return this.idNodeMap.has(id);\n  }\n  hasNode(node2) {\n    return this.nodeMetaMap.has(node2);\n  }\n  add(n2, meta) {\n    const id = meta.id;\n    this.idNodeMap.set(id, n2);\n    this.nodeMetaMap.set(n2, meta);\n  }\n  replace(id, n2) {\n    const oldNode = this.getNode(id);\n    if (oldNode) {\n      const meta = this.nodeMetaMap.get(oldNode);\n      if (meta) this.nodeMetaMap.set(n2, meta);\n    }\n    this.idNodeMap.set(id, n2);\n  }\n  reset() {\n    this.idNodeMap = /* @__PURE__ */ new Map();\n    this.nodeMetaMap = /* @__PURE__ */ new WeakMap();\n  }\n}\nfunction createMirror$2() {\n  return new Mirror();\n}\nfunction maskInputValue({\n  element,\n  maskInputOptions,\n  tagName,\n  type,\n  value,\n  maskInputFn\n}) {\n  let text = value || \"\";\n  const actualType = type && toLowerCase(type);\n  if (maskInputOptions[tagName.toLowerCase()] || actualType && maskInputOptions[actualType]) {\n    if (maskInputFn) {\n      text = maskInputFn(text, element);\n    } else {\n      text = \"*\".repeat(text.length);\n    }\n  }\n  return text;\n}\nfunction toLowerCase(str) {\n  return str.toLowerCase();\n}\nconst ORIGINAL_ATTRIBUTE_NAME = \"__rrweb_original__\";\nfunction is2DCanvasBlank(canvas) {\n  const ctx = canvas.getContext(\"2d\");\n  if (!ctx) return true;\n  const chunkSize = 50;\n  for (let x = 0; x < canvas.width; x += chunkSize) {\n    for (let y = 0; y < canvas.height; y += chunkSize) {\n      const getImageData = ctx.getImageData;\n      const originalGetImageData = ORIGINAL_ATTRIBUTE_NAME in getImageData ? getImageData[ORIGINAL_ATTRIBUTE_NAME] : getImageData;\n      const pixelBuffer = new Uint32Array(\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument, @typescript-eslint/no-unsafe-member-access\n        originalGetImageData.call(\n          ctx,\n          x,\n          y,\n          Math.min(chunkSize, canvas.width - x),\n          Math.min(chunkSize, canvas.height - y)\n        ).data.buffer\n      );\n      if (pixelBuffer.some((pixel) => pixel !== 0)) return false;\n    }\n  }\n  return true;\n}\nfunction getInputType(element) {\n  const type = element.type;\n  return element.hasAttribute(\"data-rr-is-password\") ? \"password\" : type ? (\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n    toLowerCase(type)\n  ) : null;\n}\nfunction extractFileExtension(path, baseURL) {\n  let url;\n  try {\n    url = new URL(path, baseURL ?? window.location.href);\n  } catch (err) {\n    return null;\n  }\n  const regex = /\\.([0-9a-z]+)(?:$)/i;\n  const match = url.pathname.match(regex);\n  return (match == null ? void 0 : match[1]) ?? null;\n}\nfunction extractOrigin(url) {\n  let origin = \"\";\n  if (url.indexOf(\"//\") > -1) {\n    origin = url.split(\"/\").slice(0, 3).join(\"/\");\n  } else {\n    origin = url.split(\"/\")[0];\n  }\n  origin = origin.split(\"?\")[0];\n  return origin;\n}\nconst URL_IN_CSS_REF = /url\\((?:(')([^']*)'|(\")(.*?)\"|([^)]*))\\)/gm;\nconst URL_PROTOCOL_MATCH = /^(?:[a-z+]+:)?\\/\\//i;\nconst URL_WWW_MATCH = /^www\\..*/i;\nconst DATA_URI = /^(data:)([^,]*),(.*)/i;\nfunction absolutifyURLs(cssText, href) {\n  return (cssText || \"\").replace(\n    URL_IN_CSS_REF,\n    (origin, quote1, path1, quote2, path2, path3) => {\n      const filePath = path1 || path2 || path3;\n      const maybeQuote = quote1 || quote2 || \"\";\n      if (!filePath) {\n        return origin;\n      }\n      if (URL_PROTOCOL_MATCH.test(filePath) || URL_WWW_MATCH.test(filePath)) {\n        return `url(${maybeQuote}${filePath}${maybeQuote})`;\n      }\n      if (DATA_URI.test(filePath)) {\n        return `url(${maybeQuote}${filePath}${maybeQuote})`;\n      }\n      if (filePath[0] === \"/\") {\n        return `url(${maybeQuote}${extractOrigin(href) + filePath}${maybeQuote})`;\n      }\n      const stack = href.split(\"/\");\n      const parts = filePath.split(\"/\");\n      stack.pop();\n      for (const part of parts) {\n        if (part === \".\") {\n          continue;\n        } else if (part === \"..\") {\n          stack.pop();\n        } else {\n          stack.push(part);\n        }\n      }\n      return `url(${maybeQuote}${stack.join(\"/\")}${maybeQuote})`;\n    }\n  );\n}\nlet _id = 1;\nconst tagNameRegex = new RegExp(\"[^a-z0-9-_:]\");\nconst IGNORED_NODE = -2;\nfunction genId() {\n  return _id++;\n}\nfunction getValidTagName$1(element) {\n  if (element instanceof HTMLFormElement) {\n    return \"form\";\n  }\n  const processedTagName = toLowerCase(element.tagName);\n  if (tagNameRegex.test(processedTagName)) {\n    return \"div\";\n  }\n  return processedTagName;\n}\nlet canvasService;\nlet canvasCtx;\nconst SRCSET_NOT_SPACES = /^[^ \\t\\n\\r\\u000c]+/;\nconst SRCSET_COMMAS_OR_SPACES = /^[, \\t\\n\\r\\u000c]+/;\nfunction getAbsoluteSrcsetString(doc, attributeValue) {\n  if (attributeValue.trim() === \"\") {\n    return attributeValue;\n  }\n  let pos = 0;\n  function collectCharacters(regEx) {\n    let chars2;\n    const match = regEx.exec(attributeValue.substring(pos));\n    if (match) {\n      chars2 = match[0];\n      pos += chars2.length;\n      return chars2;\n    }\n    return \"\";\n  }\n  const output = [];\n  while (true) {\n    collectCharacters(SRCSET_COMMAS_OR_SPACES);\n    if (pos >= attributeValue.length) {\n      break;\n    }\n    let url = collectCharacters(SRCSET_NOT_SPACES);\n    if (url.slice(-1) === \",\") {\n      url = absoluteToDoc(doc, url.substring(0, url.length - 1));\n      output.push(url);\n    } else {\n      let descriptorsStr = \"\";\n      url = absoluteToDoc(doc, url);\n      let inParens = false;\n      while (true) {\n        const c2 = attributeValue.charAt(pos);\n        if (c2 === \"\") {\n          output.push((url + descriptorsStr).trim());\n          break;\n        } else if (!inParens) {\n          if (c2 === \",\") {\n            pos += 1;\n            output.push((url + descriptorsStr).trim());\n            break;\n          } else if (c2 === \"(\") {\n            inParens = true;\n          }\n        } else {\n          if (c2 === \")\") {\n            inParens = false;\n          }\n        }\n        descriptorsStr += c2;\n        pos += 1;\n      }\n    }\n  }\n  return output.join(\", \");\n}\nconst cachedDocument = /* @__PURE__ */ new WeakMap();\nfunction absoluteToDoc(doc, attributeValue) {\n  if (!attributeValue || attributeValue.trim() === \"\") {\n    return attributeValue;\n  }\n  return getHref(doc, attributeValue);\n}\nfunction isSVGElement(el) {\n  return Boolean(el.tagName === \"svg\" || el.ownerSVGElement);\n}\nfunction getHref(doc, customHref) {\n  let a2 = cachedDocument.get(doc);\n  if (!a2) {\n    a2 = doc.createElement(\"a\");\n    cachedDocument.set(doc, a2);\n  }\n  if (!customHref) {\n    customHref = \"\";\n  } else if (customHref.startsWith(\"blob:\") || customHref.startsWith(\"data:\")) {\n    return customHref;\n  }\n  a2.setAttribute(\"href\", customHref);\n  return a2.href;\n}\nfunction transformAttribute(doc, tagName, name, value) {\n  if (!value) {\n    return value;\n  }\n  if (name === \"src\" || name === \"href\" && !(tagName === \"use\" && value[0] === \"#\")) {\n    return absoluteToDoc(doc, value);\n  } else if (name === \"xlink:href\" && value[0] !== \"#\") {\n    return absoluteToDoc(doc, value);\n  } else if (name === \"background\" && (tagName === \"table\" || tagName === \"td\" || tagName === \"th\")) {\n    return absoluteToDoc(doc, value);\n  } else if (name === \"srcset\") {\n    return getAbsoluteSrcsetString(doc, value);\n  } else if (name === \"style\") {\n    return absolutifyURLs(value, getHref(doc));\n  } else if (tagName === \"object\" && name === \"data\") {\n    return absoluteToDoc(doc, value);\n  }\n  return value;\n}\nfunction ignoreAttribute(tagName, name, _value) {\n  return (tagName === \"video\" || tagName === \"audio\") && name === \"autoplay\";\n}\nfunction _isBlockedElement(element, blockClass, blockSelector) {\n  try {\n    if (typeof blockClass === \"string\") {\n      if (element.classList.contains(blockClass)) {\n        return true;\n      }\n    } else {\n      for (let eIndex = element.classList.length; eIndex--; ) {\n        const className = element.classList[eIndex];\n        if (blockClass.test(className)) {\n          return true;\n        }\n      }\n    }\n    if (blockSelector) {\n      return element.matches(blockSelector);\n    }\n  } catch (e2) {\n  }\n  return false;\n}\nfunction classMatchesRegex(node2, regex, checkAncestors) {\n  if (!node2) return false;\n  if (node2.nodeType !== node2.ELEMENT_NODE) {\n    if (!checkAncestors) return false;\n    return classMatchesRegex(index$1.parentNode(node2), regex, checkAncestors);\n  }\n  for (let eIndex = node2.classList.length; eIndex--; ) {\n    const className = node2.classList[eIndex];\n    if (regex.test(className)) {\n      return true;\n    }\n  }\n  if (!checkAncestors) return false;\n  return classMatchesRegex(index$1.parentNode(node2), regex, checkAncestors);\n}\nfunction needMaskingText(node2, maskTextClass, maskTextSelector, checkAncestors) {\n  let el;\n  if (isElement(node2)) {\n    el = node2;\n    if (!index$1.childNodes(el).length) {\n      return false;\n    }\n  } else if (index$1.parentElement(node2) === null) {\n    return false;\n  } else {\n    el = index$1.parentElement(node2);\n  }\n  try {\n    if (typeof maskTextClass === \"string\") {\n      if (checkAncestors) {\n        if (el.closest(`.${maskTextClass}`)) return true;\n      } else {\n        if (el.classList.contains(maskTextClass)) return true;\n      }\n    } else {\n      if (classMatchesRegex(el, maskTextClass, checkAncestors)) return true;\n    }\n    if (maskTextSelector) {\n      if (checkAncestors) {\n        if (el.closest(maskTextSelector)) return true;\n      } else {\n        if (el.matches(maskTextSelector)) return true;\n      }\n    }\n  } catch (e2) {\n  }\n  return false;\n}\nfunction onceIframeLoaded(iframeEl, listener, iframeLoadTimeout) {\n  const win = iframeEl.contentWindow;\n  if (!win) {\n    return;\n  }\n  let fired = false;\n  let readyState;\n  try {\n    readyState = win.document.readyState;\n  } catch (error) {\n    return;\n  }\n  if (readyState !== \"complete\") {\n    const timer = setTimeout(() => {\n      if (!fired) {\n        listener();\n        fired = true;\n      }\n    }, iframeLoadTimeout);\n    iframeEl.addEventListener(\"load\", () => {\n      clearTimeout(timer);\n      fired = true;\n      listener();\n    });\n    return;\n  }\n  const blankUrl = \"about:blank\";\n  if (win.location.href !== blankUrl || iframeEl.src === blankUrl || iframeEl.src === \"\") {\n    setTimeout(listener, 0);\n    return iframeEl.addEventListener(\"load\", listener);\n  }\n  iframeEl.addEventListener(\"load\", listener);\n}\nfunction onceStylesheetLoaded(link, listener, styleSheetLoadTimeout) {\n  let fired = false;\n  let styleSheetLoaded;\n  try {\n    styleSheetLoaded = link.sheet;\n  } catch (error) {\n    return;\n  }\n  if (styleSheetLoaded) return;\n  const timer = setTimeout(() => {\n    if (!fired) {\n      listener();\n      fired = true;\n    }\n  }, styleSheetLoadTimeout);\n  link.addEventListener(\"load\", () => {\n    clearTimeout(timer);\n    fired = true;\n    listener();\n  });\n}\nfunction serializeNode(n2, options) {\n  const {\n    doc,\n    mirror: mirror2,\n    blockClass,\n    blockSelector,\n    needsMask,\n    inlineStylesheet,\n    maskInputOptions = {},\n    maskTextFn,\n    maskInputFn,\n    dataURLOptions = {},\n    inlineImages,\n    recordCanvas,\n    keepIframeSrcFn,\n    newlyAddedElement = false\n  } = options;\n  const rootId = getRootId(doc, mirror2);\n  switch (n2.nodeType) {\n    case n2.DOCUMENT_NODE:\n      if (n2.compatMode !== \"CSS1Compat\") {\n        return {\n          type: NodeType$1$1.Document,\n          childNodes: [],\n          compatMode: n2.compatMode\n          // probably \"BackCompat\"\n        };\n      } else {\n        return {\n          type: NodeType$1$1.Document,\n          childNodes: []\n        };\n      }\n    case n2.DOCUMENT_TYPE_NODE:\n      return {\n        type: NodeType$1$1.DocumentType,\n        name: n2.name,\n        publicId: n2.publicId,\n        systemId: n2.systemId,\n        rootId\n      };\n    case n2.ELEMENT_NODE:\n      return serializeElementNode(n2, {\n        doc,\n        blockClass,\n        blockSelector,\n        inlineStylesheet,\n        maskInputOptions,\n        maskInputFn,\n        dataURLOptions,\n        inlineImages,\n        recordCanvas,\n        keepIframeSrcFn,\n        newlyAddedElement,\n        rootId\n      });\n    case n2.TEXT_NODE:\n      return serializeTextNode(n2, {\n        doc,\n        needsMask,\n        maskTextFn,\n        rootId\n      });\n    case n2.CDATA_SECTION_NODE:\n      return {\n        type: NodeType$1$1.CDATA,\n        textContent: \"\",\n        rootId\n      };\n    case n2.COMMENT_NODE:\n      return {\n        type: NodeType$1$1.Comment,\n        textContent: index$1.textContent(n2) || \"\",\n        rootId\n      };\n    default:\n      return false;\n  }\n}\nfunction getRootId(doc, mirror2) {\n  if (!mirror2.hasNode(doc)) return void 0;\n  const docId = mirror2.getId(doc);\n  return docId === 1 ? void 0 : docId;\n}\nfunction serializeTextNode(n2, options) {\n  var _a2;\n  const { needsMask, maskTextFn, rootId } = options;\n  const parent = index$1.parentNode(n2);\n  const parentTagName = parent && parent.tagName;\n  let text = index$1.textContent(n2);\n  const isStyle = parentTagName === \"STYLE\" ? true : void 0;\n  const isScript = parentTagName === \"SCRIPT\" ? true : void 0;\n  if (isStyle && text) {\n    try {\n      if (n2.nextSibling || n2.previousSibling) {\n      } else if ((_a2 = parent.sheet) == null ? void 0 : _a2.cssRules) {\n        text = stringifyStylesheet(parent.sheet);\n      }\n    } catch (err) {\n      console.warn(\n        `Cannot get CSS styles from text's parentNode. Error: ${err}`,\n        n2\n      );\n    }\n    text = absolutifyURLs(text, getHref(options.doc));\n  }\n  if (isScript) {\n    text = \"SCRIPT_PLACEHOLDER\";\n  }\n  if (!isStyle && !isScript && text && needsMask) {\n    text = maskTextFn ? maskTextFn(text, index$1.parentElement(n2)) : text.replace(/[\\S]/g, \"*\");\n  }\n  return {\n    type: NodeType$1$1.Text,\n    textContent: text || \"\",\n    isStyle,\n    rootId\n  };\n}\nfunction findStylesheet(doc, href) {\n  return Array.from(doc.styleSheets).find((s2) => s2.href === href);\n}\nfunction hrefFrom(n2) {\n  return n2.href;\n}\nfunction serializeElementNode(n2, options) {\n  const {\n    doc,\n    blockClass,\n    blockSelector,\n    inlineStylesheet,\n    maskInputOptions = {},\n    maskInputFn,\n    dataURLOptions = {},\n    inlineImages,\n    recordCanvas,\n    keepIframeSrcFn,\n    newlyAddedElement = false,\n    rootId\n  } = options;\n  const needBlock = _isBlockedElement(n2, blockClass, blockSelector);\n  const tagName = getValidTagName$1(n2);\n  let attributes = {};\n  const len = n2.attributes.length;\n  for (let i2 = 0; i2 < len; i2++) {\n    const attr = n2.attributes[i2];\n    if (!ignoreAttribute(tagName, attr.name, attr.value)) {\n      attributes[attr.name] = transformAttribute(\n        doc,\n        tagName,\n        toLowerCase(attr.name),\n        attr.value\n      );\n    }\n  }\n  if (tagName === \"link\" && inlineStylesheet) {\n    const href = hrefFrom(n2);\n    if (href) {\n      let stylesheet = findStylesheet(doc, href);\n      if (!stylesheet && href.includes(\".css\")) {\n        const rootDomain = window.location.origin;\n        const stylesheetPath = href.replace(window.location.href, \"\");\n        const potentialStylesheetHref = rootDomain + \"/\" + stylesheetPath;\n        stylesheet = findStylesheet(doc, potentialStylesheetHref);\n      }\n      let cssText = null;\n      if (stylesheet) {\n        cssText = stringifyStylesheet(stylesheet);\n      }\n      if (cssText) {\n        delete attributes.rel;\n        delete attributes.href;\n        attributes._cssText = cssText;\n      }\n    }\n  }\n  if (tagName === \"style\" && n2.sheet && // TODO: Currently we only try to get dynamic stylesheet when it is an empty style element\n  !(n2.innerText || index$1.textContent(n2) || \"\").trim().length) {\n    const cssText = stringifyStylesheet(\n      n2.sheet\n    );\n    if (cssText) {\n      attributes._cssText = cssText;\n    }\n  }\n  if (tagName === \"input\" || tagName === \"textarea\" || tagName === \"select\") {\n    const value = n2.value;\n    const checked = n2.checked;\n    if (attributes.type !== \"radio\" && attributes.type !== \"checkbox\" && attributes.type !== \"submit\" && attributes.type !== \"button\" && value) {\n      attributes.value = maskInputValue({\n        element: n2,\n        type: getInputType(n2),\n        tagName,\n        value,\n        maskInputOptions,\n        maskInputFn\n      });\n    } else if (checked) {\n      attributes.checked = checked;\n    }\n  }\n  if (tagName === \"option\") {\n    if (n2.selected && !maskInputOptions[\"select\"]) {\n      attributes.selected = true;\n    } else {\n      delete attributes.selected;\n    }\n  }\n  if (tagName === \"dialog\" && n2.open) {\n    try {\n      attributes.rr_open_mode = n2.matches(\"dialog:modal\") ? \"modal\" : \"non-modal\";\n    } catch {\n      attributes.rr_open_mode = \"modal\";\n      attributes.ph_rr_could_not_detect_modal = true;\n    }\n  }\n  if (tagName === \"canvas\" && recordCanvas) {\n    if (n2.__context === \"2d\") {\n      if (!is2DCanvasBlank(n2)) {\n        attributes.rr_dataURL = n2.toDataURL(\n          dataURLOptions.type,\n          dataURLOptions.quality\n        );\n      }\n    } else if (!(\"__context\" in n2)) {\n      const canvasDataURL = n2.toDataURL(\n        dataURLOptions.type,\n        dataURLOptions.quality\n      );\n      const blankCanvas = doc.createElement(\"canvas\");\n      blankCanvas.width = n2.width;\n      blankCanvas.height = n2.height;\n      const blankCanvasDataURL = blankCanvas.toDataURL(\n        dataURLOptions.type,\n        dataURLOptions.quality\n      );\n      if (canvasDataURL !== blankCanvasDataURL) {\n        attributes.rr_dataURL = canvasDataURL;\n      }\n    }\n  }\n  if (tagName === \"img\" && inlineImages) {\n    if (!canvasService) {\n      canvasService = doc.createElement(\"canvas\");\n      canvasCtx = canvasService.getContext(\"2d\");\n    }\n    const image = n2;\n    const imageSrc = image.currentSrc || image.getAttribute(\"src\") || \"<unknown-src>\";\n    const priorCrossOrigin = image.crossOrigin;\n    const recordInlineImage = () => {\n      image.removeEventListener(\"load\", recordInlineImage);\n      try {\n        canvasService.width = image.naturalWidth;\n        canvasService.height = image.naturalHeight;\n        canvasCtx.drawImage(image, 0, 0);\n        attributes.rr_dataURL = canvasService.toDataURL(\n          dataURLOptions.type,\n          dataURLOptions.quality\n        );\n      } catch (err) {\n        if (image.crossOrigin !== \"anonymous\") {\n          image.crossOrigin = \"anonymous\";\n          if (image.complete && image.naturalWidth !== 0)\n            recordInlineImage();\n          else image.addEventListener(\"load\", recordInlineImage);\n          return;\n        } else {\n          console.warn(\n            `Cannot inline img src=${imageSrc}! Error: ${err}`\n          );\n        }\n      }\n      if (image.crossOrigin === \"anonymous\") {\n        priorCrossOrigin ? attributes.crossOrigin = priorCrossOrigin : image.removeAttribute(\"crossorigin\");\n      }\n    };\n    if (image.complete && image.naturalWidth !== 0) recordInlineImage();\n    else image.addEventListener(\"load\", recordInlineImage);\n  }\n  if (tagName === \"audio\" || tagName === \"video\") {\n    const mediaAttributes = attributes;\n    mediaAttributes.rr_mediaState = n2.paused ? \"paused\" : \"played\";\n    mediaAttributes.rr_mediaCurrentTime = n2.currentTime;\n    mediaAttributes.rr_mediaPlaybackRate = n2.playbackRate;\n    mediaAttributes.rr_mediaMuted = n2.muted;\n    mediaAttributes.rr_mediaLoop = n2.loop;\n    mediaAttributes.rr_mediaVolume = n2.volume;\n  }\n  if (!newlyAddedElement) {\n    if (n2.scrollLeft) {\n      attributes.rr_scrollLeft = n2.scrollLeft;\n    }\n    if (n2.scrollTop) {\n      attributes.rr_scrollTop = n2.scrollTop;\n    }\n  }\n  if (needBlock) {\n    const { width, height } = n2.getBoundingClientRect();\n    attributes = {\n      class: attributes.class,\n      rr_width: `${width}px`,\n      rr_height: `${height}px`\n    };\n  }\n  if (tagName === \"iframe\" && !keepIframeSrcFn(attributes.src)) {\n    if (!n2.contentDocument) {\n      attributes.rr_src = attributes.src;\n    }\n    delete attributes.src;\n  }\n  let isCustomElement;\n  try {\n    if (customElements.get(tagName)) isCustomElement = true;\n  } catch (e2) {\n  }\n  return {\n    type: NodeType$1$1.Element,\n    tagName,\n    attributes,\n    childNodes: [],\n    isSVG: isSVGElement(n2) || void 0,\n    needBlock,\n    rootId,\n    isCustom: isCustomElement\n  };\n}\nfunction lowerIfExists(maybeAttr) {\n  if (maybeAttr === void 0 || maybeAttr === null) {\n    return \"\";\n  } else {\n    return maybeAttr.toLowerCase();\n  }\n}\nfunction slimDOMExcluded(sn, slimDOMOptions) {\n  if (slimDOMOptions.comment && sn.type === NodeType$1$1.Comment) {\n    return true;\n  } else if (sn.type === NodeType$1$1.Element) {\n    if (slimDOMOptions.script && // script tag\n    (sn.tagName === \"script\" || // (module)preload link\n    sn.tagName === \"link\" && (sn.attributes.rel === \"preload\" && sn.attributes.as === \"script\" || sn.attributes.rel === \"modulepreload\") || // prefetch link\n    sn.tagName === \"link\" && sn.attributes.rel === \"prefetch\" && typeof sn.attributes.href === \"string\" && extractFileExtension(sn.attributes.href) === \"js\")) {\n      return true;\n    } else if (slimDOMOptions.headFavicon && (sn.tagName === \"link\" && sn.attributes.rel === \"shortcut icon\" || sn.tagName === \"meta\" && (lowerIfExists(sn.attributes.name).match(\n      /^msapplication-tile(image|color)$/\n    ) || lowerIfExists(sn.attributes.name) === \"application-name\" || lowerIfExists(sn.attributes.rel) === \"icon\" || lowerIfExists(sn.attributes.rel) === \"apple-touch-icon\" || lowerIfExists(sn.attributes.rel) === \"shortcut icon\"))) {\n      return true;\n    } else if (sn.tagName === \"meta\") {\n      if (slimDOMOptions.headMetaDescKeywords && lowerIfExists(sn.attributes.name).match(/^description|keywords$/)) {\n        return true;\n      } else if (slimDOMOptions.headMetaSocial && (lowerIfExists(sn.attributes.property).match(/^(og|twitter|fb):/) || // og = opengraph (facebook)\n      lowerIfExists(sn.attributes.name).match(/^(og|twitter):/) || lowerIfExists(sn.attributes.name) === \"pinterest\")) {\n        return true;\n      } else if (slimDOMOptions.headMetaRobots && (lowerIfExists(sn.attributes.name) === \"robots\" || lowerIfExists(sn.attributes.name) === \"googlebot\" || lowerIfExists(sn.attributes.name) === \"bingbot\")) {\n        return true;\n      } else if (slimDOMOptions.headMetaHttpEquiv && sn.attributes[\"http-equiv\"] !== void 0) {\n        return true;\n      } else if (slimDOMOptions.headMetaAuthorship && (lowerIfExists(sn.attributes.name) === \"author\" || lowerIfExists(sn.attributes.name) === \"generator\" || lowerIfExists(sn.attributes.name) === \"framework\" || lowerIfExists(sn.attributes.name) === \"publisher\" || lowerIfExists(sn.attributes.name) === \"progid\" || lowerIfExists(sn.attributes.property).match(/^article:/) || lowerIfExists(sn.attributes.property).match(/^product:/))) {\n        return true;\n      } else if (slimDOMOptions.headMetaVerification && (lowerIfExists(sn.attributes.name) === \"google-site-verification\" || lowerIfExists(sn.attributes.name) === \"yandex-verification\" || lowerIfExists(sn.attributes.name) === \"csrf-token\" || lowerIfExists(sn.attributes.name) === \"p:domain_verify\" || lowerIfExists(sn.attributes.name) === \"verify-v1\" || lowerIfExists(sn.attributes.name) === \"verification\" || lowerIfExists(sn.attributes.name) === \"shopify-checkout-api-token\")) {\n        return true;\n      }\n    }\n  }\n  return false;\n}\nfunction serializeNodeWithId(n2, options) {\n  const {\n    doc,\n    mirror: mirror2,\n    blockClass,\n    blockSelector,\n    maskTextClass,\n    maskTextSelector,\n    skipChild = false,\n    inlineStylesheet = true,\n    maskInputOptions = {},\n    maskTextFn,\n    maskInputFn,\n    slimDOMOptions,\n    dataURLOptions = {},\n    inlineImages = false,\n    recordCanvas = false,\n    onSerialize,\n    onIframeLoad,\n    iframeLoadTimeout = 5e3,\n    onStylesheetLoad,\n    stylesheetLoadTimeout = 5e3,\n    keepIframeSrcFn = () => false,\n    newlyAddedElement = false\n  } = options;\n  let { needsMask } = options;\n  let { preserveWhiteSpace = true } = options;\n  if (!needsMask) {\n    const checkAncestors = needsMask === void 0;\n    needsMask = needMaskingText(\n      n2,\n      maskTextClass,\n      maskTextSelector,\n      checkAncestors\n    );\n  }\n  const _serializedNode = serializeNode(n2, {\n    doc,\n    mirror: mirror2,\n    blockClass,\n    blockSelector,\n    needsMask,\n    inlineStylesheet,\n    maskInputOptions,\n    maskTextFn,\n    maskInputFn,\n    dataURLOptions,\n    inlineImages,\n    recordCanvas,\n    keepIframeSrcFn,\n    newlyAddedElement\n  });\n  if (!_serializedNode) {\n    console.warn(n2, \"not serialized\");\n    return null;\n  }\n  let id;\n  if (mirror2.hasNode(n2)) {\n    id = mirror2.getId(n2);\n  } else if (slimDOMExcluded(_serializedNode, slimDOMOptions) || !preserveWhiteSpace && _serializedNode.type === NodeType$1$1.Text && !_serializedNode.isStyle && !_serializedNode.textContent.replace(/^\\s+|\\s+$/gm, \"\").length) {\n    id = IGNORED_NODE;\n  } else {\n    id = genId();\n  }\n  const serializedNode = Object.assign(_serializedNode, { id });\n  mirror2.add(n2, serializedNode);\n  if (id === IGNORED_NODE) {\n    return null;\n  }\n  if (onSerialize) {\n    onSerialize(n2);\n  }\n  let recordChild = !skipChild;\n  if (serializedNode.type === NodeType$1$1.Element) {\n    recordChild = recordChild && !serializedNode.needBlock;\n    delete serializedNode.needBlock;\n    const shadowRootEl = index$1.shadowRoot(n2);\n    if (shadowRootEl && isNativeShadowDom(shadowRootEl))\n      serializedNode.isShadowHost = true;\n  }\n  if ((serializedNode.type === NodeType$1$1.Document || serializedNode.type === NodeType$1$1.Element) && recordChild) {\n    if (slimDOMOptions.headWhitespace && serializedNode.type === NodeType$1$1.Element && serializedNode.tagName === \"head\") {\n      preserveWhiteSpace = false;\n    }\n    const bypassOptions = {\n      doc,\n      mirror: mirror2,\n      blockClass,\n      blockSelector,\n      needsMask,\n      maskTextClass,\n      maskTextSelector,\n      skipChild,\n      inlineStylesheet,\n      maskInputOptions,\n      maskTextFn,\n      maskInputFn,\n      slimDOMOptions,\n      dataURLOptions,\n      inlineImages,\n      recordCanvas,\n      preserveWhiteSpace,\n      onSerialize,\n      onIframeLoad,\n      iframeLoadTimeout,\n      onStylesheetLoad,\n      stylesheetLoadTimeout,\n      keepIframeSrcFn\n    };\n    if (serializedNode.type === NodeType$1$1.Element && serializedNode.tagName === \"textarea\" && serializedNode.attributes.value !== void 0) ;\n    else {\n      for (const childN of Array.from(index$1.childNodes(n2))) {\n        const serializedChildNode = serializeNodeWithId(childN, bypassOptions);\n        if (serializedChildNode) {\n          serializedNode.childNodes.push(serializedChildNode);\n        }\n      }\n    }\n    let shadowRootEl = null;\n    if (isElement(n2) && (shadowRootEl = index$1.shadowRoot(n2))) {\n      for (const childN of Array.from(index$1.childNodes(shadowRootEl))) {\n        const serializedChildNode = serializeNodeWithId(childN, bypassOptions);\n        if (serializedChildNode) {\n          isNativeShadowDom(shadowRootEl) && (serializedChildNode.isShadow = true);\n          serializedNode.childNodes.push(serializedChildNode);\n        }\n      }\n    }\n  }\n  const parent = index$1.parentNode(n2);\n  if (parent && isShadowRoot(parent) && isNativeShadowDom(parent)) {\n    serializedNode.isShadow = true;\n  }\n  if (serializedNode.type === NodeType$1$1.Element && serializedNode.tagName === \"iframe\") {\n    onceIframeLoaded(\n      n2,\n      () => {\n        const iframeDoc = n2.contentDocument;\n        if (iframeDoc && onIframeLoad) {\n          const serializedIframeNode = serializeNodeWithId(iframeDoc, {\n            doc: iframeDoc,\n            mirror: mirror2,\n            blockClass,\n            blockSelector,\n            needsMask,\n            maskTextClass,\n            maskTextSelector,\n            skipChild: false,\n            inlineStylesheet,\n            maskInputOptions,\n            maskTextFn,\n            maskInputFn,\n            slimDOMOptions,\n            dataURLOptions,\n            inlineImages,\n            recordCanvas,\n            preserveWhiteSpace,\n            onSerialize,\n            onIframeLoad,\n            iframeLoadTimeout,\n            onStylesheetLoad,\n            stylesheetLoadTimeout,\n            keepIframeSrcFn\n          });\n          if (serializedIframeNode) {\n            onIframeLoad(\n              n2,\n              serializedIframeNode\n            );\n          }\n        }\n      },\n      iframeLoadTimeout\n    );\n  }\n  if (serializedNode.type === NodeType$1$1.Element && serializedNode.tagName === \"link\" && typeof serializedNode.attributes.rel === \"string\" && (serializedNode.attributes.rel === \"stylesheet\" || serializedNode.attributes.rel === \"preload\" && typeof serializedNode.attributes.href === \"string\" && extractFileExtension(serializedNode.attributes.href) === \"css\")) {\n    onceStylesheetLoaded(\n      n2,\n      () => {\n        if (onStylesheetLoad) {\n          const serializedLinkNode = serializeNodeWithId(n2, {\n            doc,\n            mirror: mirror2,\n            blockClass,\n            blockSelector,\n            needsMask,\n            maskTextClass,\n            maskTextSelector,\n            skipChild: false,\n            inlineStylesheet,\n            maskInputOptions,\n            maskTextFn,\n            maskInputFn,\n            slimDOMOptions,\n            dataURLOptions,\n            inlineImages,\n            recordCanvas,\n            preserveWhiteSpace,\n            onSerialize,\n            onIframeLoad,\n            iframeLoadTimeout,\n            onStylesheetLoad,\n            stylesheetLoadTimeout,\n            keepIframeSrcFn\n          });\n          if (serializedLinkNode) {\n            onStylesheetLoad(\n              n2,\n              serializedLinkNode\n            );\n          }\n        }\n      },\n      stylesheetLoadTimeout\n    );\n  }\n  return serializedNode;\n}\nfunction snapshot(n2, options) {\n  const {\n    mirror: mirror2 = new Mirror(),\n    blockClass = \"rr-block\",\n    blockSelector = null,\n    maskTextClass = \"rr-mask\",\n    maskTextSelector = null,\n    inlineStylesheet = true,\n    inlineImages = false,\n    recordCanvas = false,\n    maskAllInputs = false,\n    maskTextFn,\n    maskInputFn,\n    slimDOM = false,\n    dataURLOptions,\n    preserveWhiteSpace,\n    onSerialize,\n    onIframeLoad,\n    iframeLoadTimeout,\n    onStylesheetLoad,\n    stylesheetLoadTimeout,\n    keepIframeSrcFn = () => false\n  } = options || {};\n  const maskInputOptions = maskAllInputs === true ? {\n    color: true,\n    date: true,\n    \"datetime-local\": true,\n    email: true,\n    month: true,\n    number: true,\n    range: true,\n    search: true,\n    tel: true,\n    text: true,\n    time: true,\n    url: true,\n    week: true,\n    textarea: true,\n    select: true,\n    password: true\n  } : maskAllInputs === false ? {\n    password: true\n  } : maskAllInputs;\n  const slimDOMOptions = slimDOM === true || slimDOM === \"all\" ? (\n    // if true: set of sensible options that should not throw away any information\n    {\n      script: true,\n      comment: true,\n      headFavicon: true,\n      headWhitespace: true,\n      headMetaDescKeywords: slimDOM === \"all\",\n      // destructive\n      headMetaSocial: true,\n      headMetaRobots: true,\n      headMetaHttpEquiv: true,\n      headMetaAuthorship: true,\n      headMetaVerification: true\n    }\n  ) : slimDOM === false ? {} : slimDOM;\n  return serializeNodeWithId(n2, {\n    doc: n2,\n    mirror: mirror2,\n    blockClass,\n    blockSelector,\n    maskTextClass,\n    maskTextSelector,\n    skipChild: false,\n    inlineStylesheet,\n    maskInputOptions,\n    maskTextFn,\n    maskInputFn,\n    slimDOMOptions,\n    dataURLOptions,\n    inlineImages,\n    recordCanvas,\n    preserveWhiteSpace,\n    onSerialize,\n    onIframeLoad,\n    iframeLoadTimeout,\n    onStylesheetLoad,\n    stylesheetLoadTimeout,\n    keepIframeSrcFn,\n    newlyAddedElement: false\n  });\n}\nfunction getDefaultExportFromCjs$1(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, \"default\") ? x[\"default\"] : x;\n}\nfunction getAugmentedNamespace$1(n2) {\n  if (n2.__esModule) return n2;\n  var f2 = n2.default;\n  if (typeof f2 == \"function\") {\n    var a2 = function a22() {\n      if (this instanceof a22) {\n        return Reflect.construct(f2, arguments, this.constructor);\n      }\n      return f2.apply(this, arguments);\n    };\n    a2.prototype = f2.prototype;\n  } else a2 = {};\n  Object.defineProperty(a2, \"__esModule\", { value: true });\n  Object.keys(n2).forEach(function(k) {\n    var d = Object.getOwnPropertyDescriptor(n2, k);\n    Object.defineProperty(a2, k, d.get ? d : {\n      enumerable: true,\n      get: function() {\n        return n2[k];\n      }\n    });\n  });\n  return a2;\n}\nvar picocolors_browser$1 = { exports: {} };\nvar hasRequiredPicocolors_browser$1;\nfunction requirePicocolors_browser$1() {\n  if (hasRequiredPicocolors_browser$1) return picocolors_browser$1.exports;\n  hasRequiredPicocolors_browser$1 = 1;\n  var x = String;\n  var create = function() {\n    return { isColorSupported: false, reset: x, bold: x, dim: x, italic: x, underline: x, inverse: x, hidden: x, strikethrough: x, black: x, red: x, green: x, yellow: x, blue: x, magenta: x, cyan: x, white: x, gray: x, bgBlack: x, bgRed: x, bgGreen: x, bgYellow: x, bgBlue: x, bgMagenta: x, bgCyan: x, bgWhite: x, blackBright: x, redBright: x, greenBright: x, yellowBright: x, blueBright: x, magentaBright: x, cyanBright: x, whiteBright: x, bgBlackBright: x, bgRedBright: x, bgGreenBright: x, bgYellowBright: x, bgBlueBright: x, bgMagentaBright: x, bgCyanBright: x, bgWhiteBright: x };\n  };\n  picocolors_browser$1.exports = create();\n  picocolors_browser$1.exports.createColors = create;\n  return picocolors_browser$1.exports;\n}\nconst __viteBrowserExternal$2 = {};\nconst __viteBrowserExternal$1$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  default: __viteBrowserExternal$2\n}, Symbol.toStringTag, { value: \"Module\" }));\nconst require$$2$1 = /* @__PURE__ */ getAugmentedNamespace$1(__viteBrowserExternal$1$1);\nvar cssSyntaxError$1;\nvar hasRequiredCssSyntaxError$1;\nfunction requireCssSyntaxError$1() {\n  if (hasRequiredCssSyntaxError$1) return cssSyntaxError$1;\n  hasRequiredCssSyntaxError$1 = 1;\n  let pico = /* @__PURE__ */ requirePicocolors_browser$1();\n  let terminalHighlight = require$$2$1;\n  class CssSyntaxError extends Error {\n    constructor(message, line, column, source, file, plugin) {\n      super(message);\n      this.name = \"CssSyntaxError\";\n      this.reason = message;\n      if (file) {\n        this.file = file;\n      }\n      if (source) {\n        this.source = source;\n      }\n      if (plugin) {\n        this.plugin = plugin;\n      }\n      if (typeof line !== \"undefined\" && typeof column !== \"undefined\") {\n        if (typeof line === \"number\") {\n          this.line = line;\n          this.column = column;\n        } else {\n          this.line = line.line;\n          this.column = line.column;\n          this.endLine = column.line;\n          this.endColumn = column.column;\n        }\n      }\n      this.setMessage();\n      if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, CssSyntaxError);\n      }\n    }\n    setMessage() {\n      this.message = this.plugin ? this.plugin + \": \" : \"\";\n      this.message += this.file ? this.file : \"<css input>\";\n      if (typeof this.line !== \"undefined\") {\n        this.message += \":\" + this.line + \":\" + this.column;\n      }\n      this.message += \": \" + this.reason;\n    }\n    showSourceCode(color) {\n      if (!this.source) return \"\";\n      let css = this.source;\n      if (color == null) color = pico.isColorSupported;\n      let aside = (text) => text;\n      let mark = (text) => text;\n      let highlight = (text) => text;\n      if (color) {\n        let { bold, gray, red } = pico.createColors(true);\n        mark = (text) => bold(red(text));\n        aside = (text) => gray(text);\n        if (terminalHighlight) {\n          highlight = (text) => terminalHighlight(text);\n        }\n      }\n      let lines = css.split(/\\r?\\n/);\n      let start = Math.max(this.line - 3, 0);\n      let end = Math.min(this.line + 2, lines.length);\n      let maxWidth = String(end).length;\n      return lines.slice(start, end).map((line, index2) => {\n        let number = start + 1 + index2;\n        let gutter = \" \" + (\" \" + number).slice(-maxWidth) + \" | \";\n        if (number === this.line) {\n          if (line.length > 160) {\n            let padding = 20;\n            let subLineStart = Math.max(0, this.column - padding);\n            let subLineEnd = Math.max(\n              this.column + padding,\n              this.endColumn + padding\n            );\n            let subLine = line.slice(subLineStart, subLineEnd);\n            let spacing2 = aside(gutter.replace(/\\d/g, \" \")) + line.slice(0, Math.min(this.column - 1, padding - 1)).replace(/[^\\t]/g, \" \");\n            return mark(\">\") + aside(gutter) + highlight(subLine) + \"\\n \" + spacing2 + mark(\"^\");\n          }\n          let spacing = aside(gutter.replace(/\\d/g, \" \")) + line.slice(0, this.column - 1).replace(/[^\\t]/g, \" \");\n          return mark(\">\") + aside(gutter) + highlight(line) + \"\\n \" + spacing + mark(\"^\");\n        }\n        return \" \" + aside(gutter) + highlight(line);\n      }).join(\"\\n\");\n    }\n    toString() {\n      let code = this.showSourceCode();\n      if (code) {\n        code = \"\\n\\n\" + code + \"\\n\";\n      }\n      return this.name + \": \" + this.message + code;\n    }\n  }\n  cssSyntaxError$1 = CssSyntaxError;\n  CssSyntaxError.default = CssSyntaxError;\n  return cssSyntaxError$1;\n}\nvar stringifier$1;\nvar hasRequiredStringifier$1;\nfunction requireStringifier$1() {\n  if (hasRequiredStringifier$1) return stringifier$1;\n  hasRequiredStringifier$1 = 1;\n  const DEFAULT_RAW = {\n    after: \"\\n\",\n    beforeClose: \"\\n\",\n    beforeComment: \"\\n\",\n    beforeDecl: \"\\n\",\n    beforeOpen: \" \",\n    beforeRule: \"\\n\",\n    colon: \": \",\n    commentLeft: \" \",\n    commentRight: \" \",\n    emptyBody: \"\",\n    indent: \"    \",\n    semicolon: false\n  };\n  function capitalize(str) {\n    return str[0].toUpperCase() + str.slice(1);\n  }\n  class Stringifier {\n    constructor(builder) {\n      this.builder = builder;\n    }\n    atrule(node2, semicolon) {\n      let name = \"@\" + node2.name;\n      let params = node2.params ? this.rawValue(node2, \"params\") : \"\";\n      if (typeof node2.raws.afterName !== \"undefined\") {\n        name += node2.raws.afterName;\n      } else if (params) {\n        name += \" \";\n      }\n      if (node2.nodes) {\n        this.block(node2, name + params);\n      } else {\n        let end = (node2.raws.between || \"\") + (semicolon ? \";\" : \"\");\n        this.builder(name + params + end, node2);\n      }\n    }\n    beforeAfter(node2, detect) {\n      let value;\n      if (node2.type === \"decl\") {\n        value = this.raw(node2, null, \"beforeDecl\");\n      } else if (node2.type === \"comment\") {\n        value = this.raw(node2, null, \"beforeComment\");\n      } else if (detect === \"before\") {\n        value = this.raw(node2, null, \"beforeRule\");\n      } else {\n        value = this.raw(node2, null, \"beforeClose\");\n      }\n      let buf = node2.parent;\n      let depth = 0;\n      while (buf && buf.type !== \"root\") {\n        depth += 1;\n        buf = buf.parent;\n      }\n      if (value.includes(\"\\n\")) {\n        let indent = this.raw(node2, null, \"indent\");\n        if (indent.length) {\n          for (let step = 0; step < depth; step++) value += indent;\n        }\n      }\n      return value;\n    }\n    block(node2, start) {\n      let between = this.raw(node2, \"between\", \"beforeOpen\");\n      this.builder(start + between + \"{\", node2, \"start\");\n      let after;\n      if (node2.nodes && node2.nodes.length) {\n        this.body(node2);\n        after = this.raw(node2, \"after\");\n      } else {\n        after = this.raw(node2, \"after\", \"emptyBody\");\n      }\n      if (after) this.builder(after);\n      this.builder(\"}\", node2, \"end\");\n    }\n    body(node2) {\n      let last = node2.nodes.length - 1;\n      while (last > 0) {\n        if (node2.nodes[last].type !== \"comment\") break;\n        last -= 1;\n      }\n      let semicolon = this.raw(node2, \"semicolon\");\n      for (let i2 = 0; i2 < node2.nodes.length; i2++) {\n        let child = node2.nodes[i2];\n        let before = this.raw(child, \"before\");\n        if (before) this.builder(before);\n        this.stringify(child, last !== i2 || semicolon);\n      }\n    }\n    comment(node2) {\n      let left = this.raw(node2, \"left\", \"commentLeft\");\n      let right = this.raw(node2, \"right\", \"commentRight\");\n      this.builder(\"/*\" + left + node2.text + right + \"*/\", node2);\n    }\n    decl(node2, semicolon) {\n      let between = this.raw(node2, \"between\", \"colon\");\n      let string = node2.prop + between + this.rawValue(node2, \"value\");\n      if (node2.important) {\n        string += node2.raws.important || \" !important\";\n      }\n      if (semicolon) string += \";\";\n      this.builder(string, node2);\n    }\n    document(node2) {\n      this.body(node2);\n    }\n    raw(node2, own, detect) {\n      let value;\n      if (!detect) detect = own;\n      if (own) {\n        value = node2.raws[own];\n        if (typeof value !== \"undefined\") return value;\n      }\n      let parent = node2.parent;\n      if (detect === \"before\") {\n        if (!parent || parent.type === \"root\" && parent.first === node2) {\n          return \"\";\n        }\n        if (parent && parent.type === \"document\") {\n          return \"\";\n        }\n      }\n      if (!parent) return DEFAULT_RAW[detect];\n      let root2 = node2.root();\n      if (!root2.rawCache) root2.rawCache = {};\n      if (typeof root2.rawCache[detect] !== \"undefined\") {\n        return root2.rawCache[detect];\n      }\n      if (detect === \"before\" || detect === \"after\") {\n        return this.beforeAfter(node2, detect);\n      } else {\n        let method = \"raw\" + capitalize(detect);\n        if (this[method]) {\n          value = this[method](root2, node2);\n        } else {\n          root2.walk((i2) => {\n            value = i2.raws[own];\n            if (typeof value !== \"undefined\") return false;\n          });\n        }\n      }\n      if (typeof value === \"undefined\") value = DEFAULT_RAW[detect];\n      root2.rawCache[detect] = value;\n      return value;\n    }\n    rawBeforeClose(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && i2.nodes.length > 0) {\n          if (typeof i2.raws.after !== \"undefined\") {\n            value = i2.raws.after;\n            if (value.includes(\"\\n\")) {\n              value = value.replace(/[^\\n]+$/, \"\");\n            }\n            return false;\n          }\n        }\n      });\n      if (value) value = value.replace(/\\S/g, \"\");\n      return value;\n    }\n    rawBeforeComment(root2, node2) {\n      let value;\n      root2.walkComments((i2) => {\n        if (typeof i2.raws.before !== \"undefined\") {\n          value = i2.raws.before;\n          if (value.includes(\"\\n\")) {\n            value = value.replace(/[^\\n]+$/, \"\");\n          }\n          return false;\n        }\n      });\n      if (typeof value === \"undefined\") {\n        value = this.raw(node2, null, \"beforeDecl\");\n      } else if (value) {\n        value = value.replace(/\\S/g, \"\");\n      }\n      return value;\n    }\n    rawBeforeDecl(root2, node2) {\n      let value;\n      root2.walkDecls((i2) => {\n        if (typeof i2.raws.before !== \"undefined\") {\n          value = i2.raws.before;\n          if (value.includes(\"\\n\")) {\n            value = value.replace(/[^\\n]+$/, \"\");\n          }\n          return false;\n        }\n      });\n      if (typeof value === \"undefined\") {\n        value = this.raw(node2, null, \"beforeRule\");\n      } else if (value) {\n        value = value.replace(/\\S/g, \"\");\n      }\n      return value;\n    }\n    rawBeforeOpen(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.type !== \"decl\") {\n          value = i2.raws.between;\n          if (typeof value !== \"undefined\") return false;\n        }\n      });\n      return value;\n    }\n    rawBeforeRule(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && (i2.parent !== root2 || root2.first !== i2)) {\n          if (typeof i2.raws.before !== \"undefined\") {\n            value = i2.raws.before;\n            if (value.includes(\"\\n\")) {\n              value = value.replace(/[^\\n]+$/, \"\");\n            }\n            return false;\n          }\n        }\n      });\n      if (value) value = value.replace(/\\S/g, \"\");\n      return value;\n    }\n    rawColon(root2) {\n      let value;\n      root2.walkDecls((i2) => {\n        if (typeof i2.raws.between !== \"undefined\") {\n          value = i2.raws.between.replace(/[^\\s:]/g, \"\");\n          return false;\n        }\n      });\n      return value;\n    }\n    rawEmptyBody(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && i2.nodes.length === 0) {\n          value = i2.raws.after;\n          if (typeof value !== \"undefined\") return false;\n        }\n      });\n      return value;\n    }\n    rawIndent(root2) {\n      if (root2.raws.indent) return root2.raws.indent;\n      let value;\n      root2.walk((i2) => {\n        let p = i2.parent;\n        if (p && p !== root2 && p.parent && p.parent === root2) {\n          if (typeof i2.raws.before !== \"undefined\") {\n            let parts = i2.raws.before.split(\"\\n\");\n            value = parts[parts.length - 1];\n            value = value.replace(/\\S/g, \"\");\n            return false;\n          }\n        }\n      });\n      return value;\n    }\n    rawSemicolon(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && i2.nodes.length && i2.last.type === \"decl\") {\n          value = i2.raws.semicolon;\n          if (typeof value !== \"undefined\") return false;\n        }\n      });\n      return value;\n    }\n    rawValue(node2, prop) {\n      let value = node2[prop];\n      let raw = node2.raws[prop];\n      if (raw && raw.value === value) {\n        return raw.raw;\n      }\n      return value;\n    }\n    root(node2) {\n      this.body(node2);\n      if (node2.raws.after) this.builder(node2.raws.after);\n    }\n    rule(node2) {\n      this.block(node2, this.rawValue(node2, \"selector\"));\n      if (node2.raws.ownSemicolon) {\n        this.builder(node2.raws.ownSemicolon, node2, \"end\");\n      }\n    }\n    stringify(node2, semicolon) {\n      if (!this[node2.type]) {\n        throw new Error(\n          \"Unknown AST node type \" + node2.type + \". Maybe you need to change PostCSS stringifier.\"\n        );\n      }\n      this[node2.type](node2, semicolon);\n    }\n  }\n  stringifier$1 = Stringifier;\n  Stringifier.default = Stringifier;\n  return stringifier$1;\n}\nvar stringify_1$1;\nvar hasRequiredStringify$1;\nfunction requireStringify$1() {\n  if (hasRequiredStringify$1) return stringify_1$1;\n  hasRequiredStringify$1 = 1;\n  let Stringifier = requireStringifier$1();\n  function stringify(node2, builder) {\n    let str = new Stringifier(builder);\n    str.stringify(node2);\n  }\n  stringify_1$1 = stringify;\n  stringify.default = stringify;\n  return stringify_1$1;\n}\nvar symbols$1 = {};\nvar hasRequiredSymbols$1;\nfunction requireSymbols$1() {\n  if (hasRequiredSymbols$1) return symbols$1;\n  hasRequiredSymbols$1 = 1;\n  symbols$1.isClean = Symbol(\"isClean\");\n  symbols$1.my = Symbol(\"my\");\n  return symbols$1;\n}\nvar node$1;\nvar hasRequiredNode$1;\nfunction requireNode$1() {\n  if (hasRequiredNode$1) return node$1;\n  hasRequiredNode$1 = 1;\n  let CssSyntaxError = requireCssSyntaxError$1();\n  let Stringifier = requireStringifier$1();\n  let stringify = requireStringify$1();\n  let { isClean, my } = requireSymbols$1();\n  function cloneNode(obj, parent) {\n    let cloned = new obj.constructor();\n    for (let i2 in obj) {\n      if (!Object.prototype.hasOwnProperty.call(obj, i2)) {\n        continue;\n      }\n      if (i2 === \"proxyCache\") continue;\n      let value = obj[i2];\n      let type = typeof value;\n      if (i2 === \"parent\" && type === \"object\") {\n        if (parent) cloned[i2] = parent;\n      } else if (i2 === \"source\") {\n        cloned[i2] = value;\n      } else if (Array.isArray(value)) {\n        cloned[i2] = value.map((j) => cloneNode(j, cloned));\n      } else {\n        if (type === \"object\" && value !== null) value = cloneNode(value);\n        cloned[i2] = value;\n      }\n    }\n    return cloned;\n  }\n  function sourceOffset(inputCSS, position) {\n    if (position && typeof position.offset !== \"undefined\") {\n      return position.offset;\n    }\n    let column = 1;\n    let line = 1;\n    let offset = 0;\n    for (let i2 = 0; i2 < inputCSS.length; i2++) {\n      if (line === position.line && column === position.column) {\n        offset = i2;\n        break;\n      }\n      if (inputCSS[i2] === \"\\n\") {\n        column = 1;\n        line += 1;\n      } else {\n        column += 1;\n      }\n    }\n    return offset;\n  }\n  class Node2 {\n    constructor(defaults = {}) {\n      this.raws = {};\n      this[isClean] = false;\n      this[my] = true;\n      for (let name in defaults) {\n        if (name === \"nodes\") {\n          this.nodes = [];\n          for (let node2 of defaults[name]) {\n            if (typeof node2.clone === \"function\") {\n              this.append(node2.clone());\n            } else {\n              this.append(node2);\n            }\n          }\n        } else {\n          this[name] = defaults[name];\n        }\n      }\n    }\n    addToError(error) {\n      error.postcssNode = this;\n      if (error.stack && this.source && /\\n\\s{4}at /.test(error.stack)) {\n        let s2 = this.source;\n        error.stack = error.stack.replace(\n          /\\n\\s{4}at /,\n          `$&${s2.input.from}:${s2.start.line}:${s2.start.column}$&`\n        );\n      }\n      return error;\n    }\n    after(add) {\n      this.parent.insertAfter(this, add);\n      return this;\n    }\n    assign(overrides = {}) {\n      for (let name in overrides) {\n        this[name] = overrides[name];\n      }\n      return this;\n    }\n    before(add) {\n      this.parent.insertBefore(this, add);\n      return this;\n    }\n    cleanRaws(keepBetween) {\n      delete this.raws.before;\n      delete this.raws.after;\n      if (!keepBetween) delete this.raws.between;\n    }\n    clone(overrides = {}) {\n      let cloned = cloneNode(this);\n      for (let name in overrides) {\n        cloned[name] = overrides[name];\n      }\n      return cloned;\n    }\n    cloneAfter(overrides = {}) {\n      let cloned = this.clone(overrides);\n      this.parent.insertAfter(this, cloned);\n      return cloned;\n    }\n    cloneBefore(overrides = {}) {\n      let cloned = this.clone(overrides);\n      this.parent.insertBefore(this, cloned);\n      return cloned;\n    }\n    error(message, opts = {}) {\n      if (this.source) {\n        let { end, start } = this.rangeBy(opts);\n        return this.source.input.error(\n          message,\n          { column: start.column, line: start.line },\n          { column: end.column, line: end.line },\n          opts\n        );\n      }\n      return new CssSyntaxError(message);\n    }\n    getProxyProcessor() {\n      return {\n        get(node2, prop) {\n          if (prop === \"proxyOf\") {\n            return node2;\n          } else if (prop === \"root\") {\n            return () => node2.root().toProxy();\n          } else {\n            return node2[prop];\n          }\n        },\n        set(node2, prop, value) {\n          if (node2[prop] === value) return true;\n          node2[prop] = value;\n          if (prop === \"prop\" || prop === \"value\" || prop === \"name\" || prop === \"params\" || prop === \"important\" || /* c8 ignore next */\n          prop === \"text\") {\n            node2.markDirty();\n          }\n          return true;\n        }\n      };\n    }\n    /* c8 ignore next 3 */\n    markClean() {\n      this[isClean] = true;\n    }\n    markDirty() {\n      if (this[isClean]) {\n        this[isClean] = false;\n        let next = this;\n        while (next = next.parent) {\n          next[isClean] = false;\n        }\n      }\n    }\n    next() {\n      if (!this.parent) return void 0;\n      let index2 = this.parent.index(this);\n      return this.parent.nodes[index2 + 1];\n    }\n    positionBy(opts) {\n      let pos = this.source.start;\n      if (opts.index) {\n        pos = this.positionInside(opts.index);\n      } else if (opts.word) {\n        let inputString = \"document\" in this.source.input ? this.source.input.document : this.source.input.css;\n        let stringRepresentation = inputString.slice(\n          sourceOffset(inputString, this.source.start),\n          sourceOffset(inputString, this.source.end)\n        );\n        let index2 = stringRepresentation.indexOf(opts.word);\n        if (index2 !== -1) pos = this.positionInside(index2);\n      }\n      return pos;\n    }\n    positionInside(index2) {\n      let column = this.source.start.column;\n      let line = this.source.start.line;\n      let inputString = \"document\" in this.source.input ? this.source.input.document : this.source.input.css;\n      let offset = sourceOffset(inputString, this.source.start);\n      let end = offset + index2;\n      for (let i2 = offset; i2 < end; i2++) {\n        if (inputString[i2] === \"\\n\") {\n          column = 1;\n          line += 1;\n        } else {\n          column += 1;\n        }\n      }\n      return { column, line };\n    }\n    prev() {\n      if (!this.parent) return void 0;\n      let index2 = this.parent.index(this);\n      return this.parent.nodes[index2 - 1];\n    }\n    rangeBy(opts) {\n      let start = {\n        column: this.source.start.column,\n        line: this.source.start.line\n      };\n      let end = this.source.end ? {\n        column: this.source.end.column + 1,\n        line: this.source.end.line\n      } : {\n        column: start.column + 1,\n        line: start.line\n      };\n      if (opts.word) {\n        let inputString = \"document\" in this.source.input ? this.source.input.document : this.source.input.css;\n        let stringRepresentation = inputString.slice(\n          sourceOffset(inputString, this.source.start),\n          sourceOffset(inputString, this.source.end)\n        );\n        let index2 = stringRepresentation.indexOf(opts.word);\n        if (index2 !== -1) {\n          start = this.positionInside(index2);\n          end = this.positionInside(\n            index2 + opts.word.length\n          );\n        }\n      } else {\n        if (opts.start) {\n          start = {\n            column: opts.start.column,\n            line: opts.start.line\n          };\n        } else if (opts.index) {\n          start = this.positionInside(opts.index);\n        }\n        if (opts.end) {\n          end = {\n            column: opts.end.column,\n            line: opts.end.line\n          };\n        } else if (typeof opts.endIndex === \"number\") {\n          end = this.positionInside(opts.endIndex);\n        } else if (opts.index) {\n          end = this.positionInside(opts.index + 1);\n        }\n      }\n      if (end.line < start.line || end.line === start.line && end.column <= start.column) {\n        end = { column: start.column + 1, line: start.line };\n      }\n      return { end, start };\n    }\n    raw(prop, defaultType) {\n      let str = new Stringifier();\n      return str.raw(this, prop, defaultType);\n    }\n    remove() {\n      if (this.parent) {\n        this.parent.removeChild(this);\n      }\n      this.parent = void 0;\n      return this;\n    }\n    replaceWith(...nodes) {\n      if (this.parent) {\n        let bookmark = this;\n        let foundSelf = false;\n        for (let node2 of nodes) {\n          if (node2 === this) {\n            foundSelf = true;\n          } else if (foundSelf) {\n            this.parent.insertAfter(bookmark, node2);\n            bookmark = node2;\n          } else {\n            this.parent.insertBefore(bookmark, node2);\n          }\n        }\n        if (!foundSelf) {\n          this.remove();\n        }\n      }\n      return this;\n    }\n    root() {\n      let result2 = this;\n      while (result2.parent && result2.parent.type !== \"document\") {\n        result2 = result2.parent;\n      }\n      return result2;\n    }\n    toJSON(_, inputs) {\n      let fixed = {};\n      let emitInputs = inputs == null;\n      inputs = inputs || /* @__PURE__ */ new Map();\n      let inputsNextIndex = 0;\n      for (let name in this) {\n        if (!Object.prototype.hasOwnProperty.call(this, name)) {\n          continue;\n        }\n        if (name === \"parent\" || name === \"proxyCache\") continue;\n        let value = this[name];\n        if (Array.isArray(value)) {\n          fixed[name] = value.map((i2) => {\n            if (typeof i2 === \"object\" && i2.toJSON) {\n              return i2.toJSON(null, inputs);\n            } else {\n              return i2;\n            }\n          });\n        } else if (typeof value === \"object\" && value.toJSON) {\n          fixed[name] = value.toJSON(null, inputs);\n        } else if (name === \"source\") {\n          let inputId = inputs.get(value.input);\n          if (inputId == null) {\n            inputId = inputsNextIndex;\n            inputs.set(value.input, inputsNextIndex);\n            inputsNextIndex++;\n          }\n          fixed[name] = {\n            end: value.end,\n            inputId,\n            start: value.start\n          };\n        } else {\n          fixed[name] = value;\n        }\n      }\n      if (emitInputs) {\n        fixed.inputs = [...inputs.keys()].map((input2) => input2.toJSON());\n      }\n      return fixed;\n    }\n    toProxy() {\n      if (!this.proxyCache) {\n        this.proxyCache = new Proxy(this, this.getProxyProcessor());\n      }\n      return this.proxyCache;\n    }\n    toString(stringifier2 = stringify) {\n      if (stringifier2.stringify) stringifier2 = stringifier2.stringify;\n      let result2 = \"\";\n      stringifier2(this, (i2) => {\n        result2 += i2;\n      });\n      return result2;\n    }\n    warn(result2, text, opts) {\n      let data = { node: this };\n      for (let i2 in opts) data[i2] = opts[i2];\n      return result2.warn(text, data);\n    }\n    get proxyOf() {\n      return this;\n    }\n  }\n  node$1 = Node2;\n  Node2.default = Node2;\n  return node$1;\n}\nvar comment$1;\nvar hasRequiredComment$1;\nfunction requireComment$1() {\n  if (hasRequiredComment$1) return comment$1;\n  hasRequiredComment$1 = 1;\n  let Node2 = requireNode$1();\n  class Comment extends Node2 {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"comment\";\n    }\n  }\n  comment$1 = Comment;\n  Comment.default = Comment;\n  return comment$1;\n}\nvar declaration$1;\nvar hasRequiredDeclaration$1;\nfunction requireDeclaration$1() {\n  if (hasRequiredDeclaration$1) return declaration$1;\n  hasRequiredDeclaration$1 = 1;\n  let Node2 = requireNode$1();\n  class Declaration extends Node2 {\n    constructor(defaults) {\n      if (defaults && typeof defaults.value !== \"undefined\" && typeof defaults.value !== \"string\") {\n        defaults = { ...defaults, value: String(defaults.value) };\n      }\n      super(defaults);\n      this.type = \"decl\";\n    }\n    get variable() {\n      return this.prop.startsWith(\"--\") || this.prop[0] === \"$\";\n    }\n  }\n  declaration$1 = Declaration;\n  Declaration.default = Declaration;\n  return declaration$1;\n}\nvar container$1;\nvar hasRequiredContainer$1;\nfunction requireContainer$1() {\n  if (hasRequiredContainer$1) return container$1;\n  hasRequiredContainer$1 = 1;\n  let Comment = requireComment$1();\n  let Declaration = requireDeclaration$1();\n  let Node2 = requireNode$1();\n  let { isClean, my } = requireSymbols$1();\n  let AtRule, parse, Root, Rule;\n  function cleanSource(nodes) {\n    return nodes.map((i2) => {\n      if (i2.nodes) i2.nodes = cleanSource(i2.nodes);\n      delete i2.source;\n      return i2;\n    });\n  }\n  function markTreeDirty(node2) {\n    node2[isClean] = false;\n    if (node2.proxyOf.nodes) {\n      for (let i2 of node2.proxyOf.nodes) {\n        markTreeDirty(i2);\n      }\n    }\n  }\n  class Container extends Node2 {\n    append(...children) {\n      for (let child of children) {\n        let nodes = this.normalize(child, this.last);\n        for (let node2 of nodes) this.proxyOf.nodes.push(node2);\n      }\n      this.markDirty();\n      return this;\n    }\n    cleanRaws(keepBetween) {\n      super.cleanRaws(keepBetween);\n      if (this.nodes) {\n        for (let node2 of this.nodes) node2.cleanRaws(keepBetween);\n      }\n    }\n    each(callback) {\n      if (!this.proxyOf.nodes) return void 0;\n      let iterator = this.getIterator();\n      let index2, result2;\n      while (this.indexes[iterator] < this.proxyOf.nodes.length) {\n        index2 = this.indexes[iterator];\n        result2 = callback(this.proxyOf.nodes[index2], index2);\n        if (result2 === false) break;\n        this.indexes[iterator] += 1;\n      }\n      delete this.indexes[iterator];\n      return result2;\n    }\n    every(condition) {\n      return this.nodes.every(condition);\n    }\n    getIterator() {\n      if (!this.lastEach) this.lastEach = 0;\n      if (!this.indexes) this.indexes = {};\n      this.lastEach += 1;\n      let iterator = this.lastEach;\n      this.indexes[iterator] = 0;\n      return iterator;\n    }\n    getProxyProcessor() {\n      return {\n        get(node2, prop) {\n          if (prop === \"proxyOf\") {\n            return node2;\n          } else if (!node2[prop]) {\n            return node2[prop];\n          } else if (prop === \"each\" || typeof prop === \"string\" && prop.startsWith(\"walk\")) {\n            return (...args) => {\n              return node2[prop](\n                ...args.map((i2) => {\n                  if (typeof i2 === \"function\") {\n                    return (child, index2) => i2(child.toProxy(), index2);\n                  } else {\n                    return i2;\n                  }\n                })\n              );\n            };\n          } else if (prop === \"every\" || prop === \"some\") {\n            return (cb) => {\n              return node2[prop](\n                (child, ...other) => cb(child.toProxy(), ...other)\n              );\n            };\n          } else if (prop === \"root\") {\n            return () => node2.root().toProxy();\n          } else if (prop === \"nodes\") {\n            return node2.nodes.map((i2) => i2.toProxy());\n          } else if (prop === \"first\" || prop === \"last\") {\n            return node2[prop].toProxy();\n          } else {\n            return node2[prop];\n          }\n        },\n        set(node2, prop, value) {\n          if (node2[prop] === value) return true;\n          node2[prop] = value;\n          if (prop === \"name\" || prop === \"params\" || prop === \"selector\") {\n            node2.markDirty();\n          }\n          return true;\n        }\n      };\n    }\n    index(child) {\n      if (typeof child === \"number\") return child;\n      if (child.proxyOf) child = child.proxyOf;\n      return this.proxyOf.nodes.indexOf(child);\n    }\n    insertAfter(exist, add) {\n      let existIndex = this.index(exist);\n      let nodes = this.normalize(add, this.proxyOf.nodes[existIndex]).reverse();\n      existIndex = this.index(exist);\n      for (let node2 of nodes) this.proxyOf.nodes.splice(existIndex + 1, 0, node2);\n      let index2;\n      for (let id in this.indexes) {\n        index2 = this.indexes[id];\n        if (existIndex < index2) {\n          this.indexes[id] = index2 + nodes.length;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    insertBefore(exist, add) {\n      let existIndex = this.index(exist);\n      let type = existIndex === 0 ? \"prepend\" : false;\n      let nodes = this.normalize(\n        add,\n        this.proxyOf.nodes[existIndex],\n        type\n      ).reverse();\n      existIndex = this.index(exist);\n      for (let node2 of nodes) this.proxyOf.nodes.splice(existIndex, 0, node2);\n      let index2;\n      for (let id in this.indexes) {\n        index2 = this.indexes[id];\n        if (existIndex <= index2) {\n          this.indexes[id] = index2 + nodes.length;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    normalize(nodes, sample) {\n      if (typeof nodes === \"string\") {\n        nodes = cleanSource(parse(nodes).nodes);\n      } else if (typeof nodes === \"undefined\") {\n        nodes = [];\n      } else if (Array.isArray(nodes)) {\n        nodes = nodes.slice(0);\n        for (let i2 of nodes) {\n          if (i2.parent) i2.parent.removeChild(i2, \"ignore\");\n        }\n      } else if (nodes.type === \"root\" && this.type !== \"document\") {\n        nodes = nodes.nodes.slice(0);\n        for (let i2 of nodes) {\n          if (i2.parent) i2.parent.removeChild(i2, \"ignore\");\n        }\n      } else if (nodes.type) {\n        nodes = [nodes];\n      } else if (nodes.prop) {\n        if (typeof nodes.value === \"undefined\") {\n          throw new Error(\"Value field is missed in node creation\");\n        } else if (typeof nodes.value !== \"string\") {\n          nodes.value = String(nodes.value);\n        }\n        nodes = [new Declaration(nodes)];\n      } else if (nodes.selector || nodes.selectors) {\n        nodes = [new Rule(nodes)];\n      } else if (nodes.name) {\n        nodes = [new AtRule(nodes)];\n      } else if (nodes.text) {\n        nodes = [new Comment(nodes)];\n      } else {\n        throw new Error(\"Unknown node type in node creation\");\n      }\n      let processed = nodes.map((i2) => {\n        if (!i2[my]) Container.rebuild(i2);\n        i2 = i2.proxyOf;\n        if (i2.parent) i2.parent.removeChild(i2);\n        if (i2[isClean]) markTreeDirty(i2);\n        if (!i2.raws) i2.raws = {};\n        if (typeof i2.raws.before === \"undefined\") {\n          if (sample && typeof sample.raws.before !== \"undefined\") {\n            i2.raws.before = sample.raws.before.replace(/\\S/g, \"\");\n          }\n        }\n        i2.parent = this.proxyOf;\n        return i2;\n      });\n      return processed;\n    }\n    prepend(...children) {\n      children = children.reverse();\n      for (let child of children) {\n        let nodes = this.normalize(child, this.first, \"prepend\").reverse();\n        for (let node2 of nodes) this.proxyOf.nodes.unshift(node2);\n        for (let id in this.indexes) {\n          this.indexes[id] = this.indexes[id] + nodes.length;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    push(child) {\n      child.parent = this;\n      this.proxyOf.nodes.push(child);\n      return this;\n    }\n    removeAll() {\n      for (let node2 of this.proxyOf.nodes) node2.parent = void 0;\n      this.proxyOf.nodes = [];\n      this.markDirty();\n      return this;\n    }\n    removeChild(child) {\n      child = this.index(child);\n      this.proxyOf.nodes[child].parent = void 0;\n      this.proxyOf.nodes.splice(child, 1);\n      let index2;\n      for (let id in this.indexes) {\n        index2 = this.indexes[id];\n        if (index2 >= child) {\n          this.indexes[id] = index2 - 1;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    replaceValues(pattern, opts, callback) {\n      if (!callback) {\n        callback = opts;\n        opts = {};\n      }\n      this.walkDecls((decl) => {\n        if (opts.props && !opts.props.includes(decl.prop)) return;\n        if (opts.fast && !decl.value.includes(opts.fast)) return;\n        decl.value = decl.value.replace(pattern, callback);\n      });\n      this.markDirty();\n      return this;\n    }\n    some(condition) {\n      return this.nodes.some(condition);\n    }\n    walk(callback) {\n      return this.each((child, i2) => {\n        let result2;\n        try {\n          result2 = callback(child, i2);\n        } catch (e2) {\n          throw child.addToError(e2);\n        }\n        if (result2 !== false && child.walk) {\n          result2 = child.walk(callback);\n        }\n        return result2;\n      });\n    }\n    walkAtRules(name, callback) {\n      if (!callback) {\n        callback = name;\n        return this.walk((child, i2) => {\n          if (child.type === \"atrule\") {\n            return callback(child, i2);\n          }\n        });\n      }\n      if (name instanceof RegExp) {\n        return this.walk((child, i2) => {\n          if (child.type === \"atrule\" && name.test(child.name)) {\n            return callback(child, i2);\n          }\n        });\n      }\n      return this.walk((child, i2) => {\n        if (child.type === \"atrule\" && child.name === name) {\n          return callback(child, i2);\n        }\n      });\n    }\n    walkComments(callback) {\n      return this.walk((child, i2) => {\n        if (child.type === \"comment\") {\n          return callback(child, i2);\n        }\n      });\n    }\n    walkDecls(prop, callback) {\n      if (!callback) {\n        callback = prop;\n        return this.walk((child, i2) => {\n          if (child.type === \"decl\") {\n            return callback(child, i2);\n          }\n        });\n      }\n      if (prop instanceof RegExp) {\n        return this.walk((child, i2) => {\n          if (child.type === \"decl\" && prop.test(child.prop)) {\n            return callback(child, i2);\n          }\n        });\n      }\n      return this.walk((child, i2) => {\n        if (child.type === \"decl\" && child.prop === prop) {\n          return callback(child, i2);\n        }\n      });\n    }\n    walkRules(selector, callback) {\n      if (!callback) {\n        callback = selector;\n        return this.walk((child, i2) => {\n          if (child.type === \"rule\") {\n            return callback(child, i2);\n          }\n        });\n      }\n      if (selector instanceof RegExp) {\n        return this.walk((child, i2) => {\n          if (child.type === \"rule\" && selector.test(child.selector)) {\n            return callback(child, i2);\n          }\n        });\n      }\n      return this.walk((child, i2) => {\n        if (child.type === \"rule\" && child.selector === selector) {\n          return callback(child, i2);\n        }\n      });\n    }\n    get first() {\n      if (!this.proxyOf.nodes) return void 0;\n      return this.proxyOf.nodes[0];\n    }\n    get last() {\n      if (!this.proxyOf.nodes) return void 0;\n      return this.proxyOf.nodes[this.proxyOf.nodes.length - 1];\n    }\n  }\n  Container.registerParse = (dependant) => {\n    parse = dependant;\n  };\n  Container.registerRule = (dependant) => {\n    Rule = dependant;\n  };\n  Container.registerAtRule = (dependant) => {\n    AtRule = dependant;\n  };\n  Container.registerRoot = (dependant) => {\n    Root = dependant;\n  };\n  container$1 = Container;\n  Container.default = Container;\n  Container.rebuild = (node2) => {\n    if (node2.type === \"atrule\") {\n      Object.setPrototypeOf(node2, AtRule.prototype);\n    } else if (node2.type === \"rule\") {\n      Object.setPrototypeOf(node2, Rule.prototype);\n    } else if (node2.type === \"decl\") {\n      Object.setPrototypeOf(node2, Declaration.prototype);\n    } else if (node2.type === \"comment\") {\n      Object.setPrototypeOf(node2, Comment.prototype);\n    } else if (node2.type === \"root\") {\n      Object.setPrototypeOf(node2, Root.prototype);\n    }\n    node2[my] = true;\n    if (node2.nodes) {\n      node2.nodes.forEach((child) => {\n        Container.rebuild(child);\n      });\n    }\n  };\n  return container$1;\n}\nvar atRule$1;\nvar hasRequiredAtRule$1;\nfunction requireAtRule$1() {\n  if (hasRequiredAtRule$1) return atRule$1;\n  hasRequiredAtRule$1 = 1;\n  let Container = requireContainer$1();\n  class AtRule extends Container {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"atrule\";\n    }\n    append(...children) {\n      if (!this.proxyOf.nodes) this.nodes = [];\n      return super.append(...children);\n    }\n    prepend(...children) {\n      if (!this.proxyOf.nodes) this.nodes = [];\n      return super.prepend(...children);\n    }\n  }\n  atRule$1 = AtRule;\n  AtRule.default = AtRule;\n  Container.registerAtRule(AtRule);\n  return atRule$1;\n}\nvar document$1$1;\nvar hasRequiredDocument$1;\nfunction requireDocument$1() {\n  if (hasRequiredDocument$1) return document$1$1;\n  hasRequiredDocument$1 = 1;\n  let Container = requireContainer$1();\n  let LazyResult, Processor;\n  class Document2 extends Container {\n    constructor(defaults) {\n      super({ type: \"document\", ...defaults });\n      if (!this.nodes) {\n        this.nodes = [];\n      }\n    }\n    toResult(opts = {}) {\n      let lazy = new LazyResult(new Processor(), this, opts);\n      return lazy.stringify();\n    }\n  }\n  Document2.registerLazyResult = (dependant) => {\n    LazyResult = dependant;\n  };\n  Document2.registerProcessor = (dependant) => {\n    Processor = dependant;\n  };\n  document$1$1 = Document2;\n  Document2.default = Document2;\n  return document$1$1;\n}\nvar nonSecure$1;\nvar hasRequiredNonSecure$1;\nfunction requireNonSecure$1() {\n  if (hasRequiredNonSecure$1) return nonSecure$1;\n  hasRequiredNonSecure$1 = 1;\n  let urlAlphabet = \"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict\";\n  let customAlphabet = (alphabet, defaultSize = 21) => {\n    return (size = defaultSize) => {\n      let id = \"\";\n      let i2 = size | 0;\n      while (i2--) {\n        id += alphabet[Math.random() * alphabet.length | 0];\n      }\n      return id;\n    };\n  };\n  let nanoid = (size = 21) => {\n    let id = \"\";\n    let i2 = size | 0;\n    while (i2--) {\n      id += urlAlphabet[Math.random() * 64 | 0];\n    }\n    return id;\n  };\n  nonSecure$1 = { nanoid, customAlphabet };\n  return nonSecure$1;\n}\nvar previousMap$1;\nvar hasRequiredPreviousMap$1;\nfunction requirePreviousMap$1() {\n  if (hasRequiredPreviousMap$1) return previousMap$1;\n  hasRequiredPreviousMap$1 = 1;\n  let { existsSync, readFileSync } = require$$2$1;\n  let { dirname, join } = require$$2$1;\n  let { SourceMapConsumer, SourceMapGenerator } = require$$2$1;\n  function fromBase64(str) {\n    if (Buffer) {\n      return Buffer.from(str, \"base64\").toString();\n    } else {\n      return window.atob(str);\n    }\n  }\n  class PreviousMap {\n    constructor(css, opts) {\n      if (opts.map === false) return;\n      this.loadAnnotation(css);\n      this.inline = this.startWith(this.annotation, \"data:\");\n      let prev = opts.map ? opts.map.prev : void 0;\n      let text = this.loadMap(opts.from, prev);\n      if (!this.mapFile && opts.from) {\n        this.mapFile = opts.from;\n      }\n      if (this.mapFile) this.root = dirname(this.mapFile);\n      if (text) this.text = text;\n    }\n    consumer() {\n      if (!this.consumerCache) {\n        this.consumerCache = new SourceMapConsumer(this.text);\n      }\n      return this.consumerCache;\n    }\n    decodeInline(text) {\n      let baseCharsetUri = /^data:application\\/json;charset=utf-?8;base64,/;\n      let baseUri = /^data:application\\/json;base64,/;\n      let charsetUri = /^data:application\\/json;charset=utf-?8,/;\n      let uri = /^data:application\\/json,/;\n      let uriMatch = text.match(charsetUri) || text.match(uri);\n      if (uriMatch) {\n        return decodeURIComponent(text.substr(uriMatch[0].length));\n      }\n      let baseUriMatch = text.match(baseCharsetUri) || text.match(baseUri);\n      if (baseUriMatch) {\n        return fromBase64(text.substr(baseUriMatch[0].length));\n      }\n      let encoding = text.match(/data:application\\/json;([^,]+),/)[1];\n      throw new Error(\"Unsupported source map encoding \" + encoding);\n    }\n    getAnnotationURL(sourceMapString) {\n      return sourceMapString.replace(/^\\/\\*\\s*# sourceMappingURL=/, \"\").trim();\n    }\n    isMap(map) {\n      if (typeof map !== \"object\") return false;\n      return typeof map.mappings === \"string\" || typeof map._mappings === \"string\" || Array.isArray(map.sections);\n    }\n    loadAnnotation(css) {\n      let comments = css.match(/\\/\\*\\s*# sourceMappingURL=/g);\n      if (!comments) return;\n      let start = css.lastIndexOf(comments.pop());\n      let end = css.indexOf(\"*/\", start);\n      if (start > -1 && end > -1) {\n        this.annotation = this.getAnnotationURL(css.substring(start, end));\n      }\n    }\n    loadFile(path) {\n      this.root = dirname(path);\n      if (existsSync(path)) {\n        this.mapFile = path;\n        return readFileSync(path, \"utf-8\").toString().trim();\n      }\n    }\n    loadMap(file, prev) {\n      if (prev === false) return false;\n      if (prev) {\n        if (typeof prev === \"string\") {\n          return prev;\n        } else if (typeof prev === \"function\") {\n          let prevPath = prev(file);\n          if (prevPath) {\n            let map = this.loadFile(prevPath);\n            if (!map) {\n              throw new Error(\n                \"Unable to load previous source map: \" + prevPath.toString()\n              );\n            }\n            return map;\n          }\n        } else if (prev instanceof SourceMapConsumer) {\n          return SourceMapGenerator.fromSourceMap(prev).toString();\n        } else if (prev instanceof SourceMapGenerator) {\n          return prev.toString();\n        } else if (this.isMap(prev)) {\n          return JSON.stringify(prev);\n        } else {\n          throw new Error(\n            \"Unsupported previous source map format: \" + prev.toString()\n          );\n        }\n      } else if (this.inline) {\n        return this.decodeInline(this.annotation);\n      } else if (this.annotation) {\n        let map = this.annotation;\n        if (file) map = join(dirname(file), map);\n        return this.loadFile(map);\n      }\n    }\n    startWith(string, start) {\n      if (!string) return false;\n      return string.substr(0, start.length) === start;\n    }\n    withContent() {\n      return !!(this.consumer().sourcesContent && this.consumer().sourcesContent.length > 0);\n    }\n  }\n  previousMap$1 = PreviousMap;\n  PreviousMap.default = PreviousMap;\n  return previousMap$1;\n}\nvar input$1;\nvar hasRequiredInput$1;\nfunction requireInput$1() {\n  if (hasRequiredInput$1) return input$1;\n  hasRequiredInput$1 = 1;\n  let { nanoid } = /* @__PURE__ */ requireNonSecure$1();\n  let { isAbsolute, resolve } = require$$2$1;\n  let { SourceMapConsumer, SourceMapGenerator } = require$$2$1;\n  let { fileURLToPath, pathToFileURL } = require$$2$1;\n  let CssSyntaxError = requireCssSyntaxError$1();\n  let PreviousMap = requirePreviousMap$1();\n  let terminalHighlight = require$$2$1;\n  let fromOffsetCache = Symbol(\"fromOffsetCache\");\n  let sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator);\n  let pathAvailable = Boolean(resolve && isAbsolute);\n  class Input {\n    constructor(css, opts = {}) {\n      if (css === null || typeof css === \"undefined\" || typeof css === \"object\" && !css.toString) {\n        throw new Error(`PostCSS received ${css} instead of CSS string`);\n      }\n      this.css = css.toString();\n      if (this.css[0] === \"\\uFEFF\" || this.css[0] === \"￾\") {\n        this.hasBOM = true;\n        this.css = this.css.slice(1);\n      } else {\n        this.hasBOM = false;\n      }\n      this.document = this.css;\n      if (opts.document) this.document = opts.document.toString();\n      if (opts.from) {\n        if (!pathAvailable || /^\\w+:\\/\\//.test(opts.from) || isAbsolute(opts.from)) {\n          this.file = opts.from;\n        } else {\n          this.file = resolve(opts.from);\n        }\n      }\n      if (pathAvailable && sourceMapAvailable) {\n        let map = new PreviousMap(this.css, opts);\n        if (map.text) {\n          this.map = map;\n          let file = map.consumer().file;\n          if (!this.file && file) this.file = this.mapResolve(file);\n        }\n      }\n      if (!this.file) {\n        this.id = \"<input css \" + nanoid(6) + \">\";\n      }\n      if (this.map) this.map.file = this.from;\n    }\n    error(message, line, column, opts = {}) {\n      let endColumn, endLine, result2;\n      if (line && typeof line === \"object\") {\n        let start = line;\n        let end = column;\n        if (typeof start.offset === \"number\") {\n          let pos = this.fromOffset(start.offset);\n          line = pos.line;\n          column = pos.col;\n        } else {\n          line = start.line;\n          column = start.column;\n        }\n        if (typeof end.offset === \"number\") {\n          let pos = this.fromOffset(end.offset);\n          endLine = pos.line;\n          endColumn = pos.col;\n        } else {\n          endLine = end.line;\n          endColumn = end.column;\n        }\n      } else if (!column) {\n        let pos = this.fromOffset(line);\n        line = pos.line;\n        column = pos.col;\n      }\n      let origin = this.origin(line, column, endLine, endColumn);\n      if (origin) {\n        result2 = new CssSyntaxError(\n          message,\n          origin.endLine === void 0 ? origin.line : { column: origin.column, line: origin.line },\n          origin.endLine === void 0 ? origin.column : { column: origin.endColumn, line: origin.endLine },\n          origin.source,\n          origin.file,\n          opts.plugin\n        );\n      } else {\n        result2 = new CssSyntaxError(\n          message,\n          endLine === void 0 ? line : { column, line },\n          endLine === void 0 ? column : { column: endColumn, line: endLine },\n          this.css,\n          this.file,\n          opts.plugin\n        );\n      }\n      result2.input = { column, endColumn, endLine, line, source: this.css };\n      if (this.file) {\n        if (pathToFileURL) {\n          result2.input.url = pathToFileURL(this.file).toString();\n        }\n        result2.input.file = this.file;\n      }\n      return result2;\n    }\n    fromOffset(offset) {\n      let lastLine, lineToIndex;\n      if (!this[fromOffsetCache]) {\n        let lines = this.css.split(\"\\n\");\n        lineToIndex = new Array(lines.length);\n        let prevIndex = 0;\n        for (let i2 = 0, l2 = lines.length; i2 < l2; i2++) {\n          lineToIndex[i2] = prevIndex;\n          prevIndex += lines[i2].length + 1;\n        }\n        this[fromOffsetCache] = lineToIndex;\n      } else {\n        lineToIndex = this[fromOffsetCache];\n      }\n      lastLine = lineToIndex[lineToIndex.length - 1];\n      let min = 0;\n      if (offset >= lastLine) {\n        min = lineToIndex.length - 1;\n      } else {\n        let max = lineToIndex.length - 2;\n        let mid;\n        while (min < max) {\n          mid = min + (max - min >> 1);\n          if (offset < lineToIndex[mid]) {\n            max = mid - 1;\n          } else if (offset >= lineToIndex[mid + 1]) {\n            min = mid + 1;\n          } else {\n            min = mid;\n            break;\n          }\n        }\n      }\n      return {\n        col: offset - lineToIndex[min] + 1,\n        line: min + 1\n      };\n    }\n    mapResolve(file) {\n      if (/^\\w+:\\/\\//.test(file)) {\n        return file;\n      }\n      return resolve(this.map.consumer().sourceRoot || this.map.root || \".\", file);\n    }\n    origin(line, column, endLine, endColumn) {\n      if (!this.map) return false;\n      let consumer = this.map.consumer();\n      let from = consumer.originalPositionFor({ column, line });\n      if (!from.source) return false;\n      let to;\n      if (typeof endLine === \"number\") {\n        to = consumer.originalPositionFor({ column: endColumn, line: endLine });\n      }\n      let fromUrl;\n      if (isAbsolute(from.source)) {\n        fromUrl = pathToFileURL(from.source);\n      } else {\n        fromUrl = new URL(\n          from.source,\n          this.map.consumer().sourceRoot || pathToFileURL(this.map.mapFile)\n        );\n      }\n      let result2 = {\n        column: from.column,\n        endColumn: to && to.column,\n        endLine: to && to.line,\n        line: from.line,\n        url: fromUrl.toString()\n      };\n      if (fromUrl.protocol === \"file:\") {\n        if (fileURLToPath) {\n          result2.file = fileURLToPath(fromUrl);\n        } else {\n          throw new Error(`file: protocol is not available in this PostCSS build`);\n        }\n      }\n      let source = consumer.sourceContentFor(from.source);\n      if (source) result2.source = source;\n      return result2;\n    }\n    toJSON() {\n      let json = {};\n      for (let name of [\"hasBOM\", \"css\", \"file\", \"id\"]) {\n        if (this[name] != null) {\n          json[name] = this[name];\n        }\n      }\n      if (this.map) {\n        json.map = { ...this.map };\n        if (json.map.consumerCache) {\n          json.map.consumerCache = void 0;\n        }\n      }\n      return json;\n    }\n    get from() {\n      return this.file || this.id;\n    }\n  }\n  input$1 = Input;\n  Input.default = Input;\n  if (terminalHighlight && terminalHighlight.registerInput) {\n    terminalHighlight.registerInput(Input);\n  }\n  return input$1;\n}\nvar root$1;\nvar hasRequiredRoot$1;\nfunction requireRoot$1() {\n  if (hasRequiredRoot$1) return root$1;\n  hasRequiredRoot$1 = 1;\n  let Container = requireContainer$1();\n  let LazyResult, Processor;\n  class Root extends Container {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"root\";\n      if (!this.nodes) this.nodes = [];\n    }\n    normalize(child, sample, type) {\n      let nodes = super.normalize(child);\n      if (sample) {\n        if (type === \"prepend\") {\n          if (this.nodes.length > 1) {\n            sample.raws.before = this.nodes[1].raws.before;\n          } else {\n            delete sample.raws.before;\n          }\n        } else if (this.first !== sample) {\n          for (let node2 of nodes) {\n            node2.raws.before = sample.raws.before;\n          }\n        }\n      }\n      return nodes;\n    }\n    removeChild(child, ignore) {\n      let index2 = this.index(child);\n      if (!ignore && index2 === 0 && this.nodes.length > 1) {\n        this.nodes[1].raws.before = this.nodes[index2].raws.before;\n      }\n      return super.removeChild(child);\n    }\n    toResult(opts = {}) {\n      let lazy = new LazyResult(new Processor(), this, opts);\n      return lazy.stringify();\n    }\n  }\n  Root.registerLazyResult = (dependant) => {\n    LazyResult = dependant;\n  };\n  Root.registerProcessor = (dependant) => {\n    Processor = dependant;\n  };\n  root$1 = Root;\n  Root.default = Root;\n  Container.registerRoot(Root);\n  return root$1;\n}\nvar list_1$1;\nvar hasRequiredList$1;\nfunction requireList$1() {\n  if (hasRequiredList$1) return list_1$1;\n  hasRequiredList$1 = 1;\n  let list = {\n    comma(string) {\n      return list.split(string, [\",\"], true);\n    },\n    space(string) {\n      let spaces = [\" \", \"\\n\", \"\t\"];\n      return list.split(string, spaces);\n    },\n    split(string, separators, last) {\n      let array = [];\n      let current = \"\";\n      let split = false;\n      let func = 0;\n      let inQuote = false;\n      let prevQuote = \"\";\n      let escape = false;\n      for (let letter of string) {\n        if (escape) {\n          escape = false;\n        } else if (letter === \"\\\\\") {\n          escape = true;\n        } else if (inQuote) {\n          if (letter === prevQuote) {\n            inQuote = false;\n          }\n        } else if (letter === '\"' || letter === \"'\") {\n          inQuote = true;\n          prevQuote = letter;\n        } else if (letter === \"(\") {\n          func += 1;\n        } else if (letter === \")\") {\n          if (func > 0) func -= 1;\n        } else if (func === 0) {\n          if (separators.includes(letter)) split = true;\n        }\n        if (split) {\n          if (current !== \"\") array.push(current.trim());\n          current = \"\";\n          split = false;\n        } else {\n          current += letter;\n        }\n      }\n      if (last || current !== \"\") array.push(current.trim());\n      return array;\n    }\n  };\n  list_1$1 = list;\n  list.default = list;\n  return list_1$1;\n}\nvar rule$1;\nvar hasRequiredRule$1;\nfunction requireRule$1() {\n  if (hasRequiredRule$1) return rule$1;\n  hasRequiredRule$1 = 1;\n  let Container = requireContainer$1();\n  let list = requireList$1();\n  class Rule extends Container {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"rule\";\n      if (!this.nodes) this.nodes = [];\n    }\n    get selectors() {\n      return list.comma(this.selector);\n    }\n    set selectors(values) {\n      let match = this.selector ? this.selector.match(/,\\s*/) : null;\n      let sep = match ? match[0] : \",\" + this.raw(\"between\", \"beforeOpen\");\n      this.selector = values.join(sep);\n    }\n  }\n  rule$1 = Rule;\n  Rule.default = Rule;\n  Container.registerRule(Rule);\n  return rule$1;\n}\nvar fromJSON_1$1;\nvar hasRequiredFromJSON$1;\nfunction requireFromJSON$1() {\n  if (hasRequiredFromJSON$1) return fromJSON_1$1;\n  hasRequiredFromJSON$1 = 1;\n  let AtRule = requireAtRule$1();\n  let Comment = requireComment$1();\n  let Declaration = requireDeclaration$1();\n  let Input = requireInput$1();\n  let PreviousMap = requirePreviousMap$1();\n  let Root = requireRoot$1();\n  let Rule = requireRule$1();\n  function fromJSON(json, inputs) {\n    if (Array.isArray(json)) return json.map((n2) => fromJSON(n2));\n    let { inputs: ownInputs, ...defaults } = json;\n    if (ownInputs) {\n      inputs = [];\n      for (let input2 of ownInputs) {\n        let inputHydrated = { ...input2, __proto__: Input.prototype };\n        if (inputHydrated.map) {\n          inputHydrated.map = {\n            ...inputHydrated.map,\n            __proto__: PreviousMap.prototype\n          };\n        }\n        inputs.push(inputHydrated);\n      }\n    }\n    if (defaults.nodes) {\n      defaults.nodes = json.nodes.map((n2) => fromJSON(n2, inputs));\n    }\n    if (defaults.source) {\n      let { inputId, ...source } = defaults.source;\n      defaults.source = source;\n      if (inputId != null) {\n        defaults.source.input = inputs[inputId];\n      }\n    }\n    if (defaults.type === \"root\") {\n      return new Root(defaults);\n    } else if (defaults.type === \"decl\") {\n      return new Declaration(defaults);\n    } else if (defaults.type === \"rule\") {\n      return new Rule(defaults);\n    } else if (defaults.type === \"comment\") {\n      return new Comment(defaults);\n    } else if (defaults.type === \"atrule\") {\n      return new AtRule(defaults);\n    } else {\n      throw new Error(\"Unknown node type: \" + json.type);\n    }\n  }\n  fromJSON_1$1 = fromJSON;\n  fromJSON.default = fromJSON;\n  return fromJSON_1$1;\n}\nvar mapGenerator$1;\nvar hasRequiredMapGenerator$1;\nfunction requireMapGenerator$1() {\n  if (hasRequiredMapGenerator$1) return mapGenerator$1;\n  hasRequiredMapGenerator$1 = 1;\n  let { dirname, relative, resolve, sep } = require$$2$1;\n  let { SourceMapConsumer, SourceMapGenerator } = require$$2$1;\n  let { pathToFileURL } = require$$2$1;\n  let Input = requireInput$1();\n  let sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator);\n  let pathAvailable = Boolean(dirname && resolve && relative && sep);\n  class MapGenerator {\n    constructor(stringify, root2, opts, cssString) {\n      this.stringify = stringify;\n      this.mapOpts = opts.map || {};\n      this.root = root2;\n      this.opts = opts;\n      this.css = cssString;\n      this.originalCSS = cssString;\n      this.usesFileUrls = !this.mapOpts.from && this.mapOpts.absolute;\n      this.memoizedFileURLs = /* @__PURE__ */ new Map();\n      this.memoizedPaths = /* @__PURE__ */ new Map();\n      this.memoizedURLs = /* @__PURE__ */ new Map();\n    }\n    addAnnotation() {\n      let content;\n      if (this.isInline()) {\n        content = \"data:application/json;base64,\" + this.toBase64(this.map.toString());\n      } else if (typeof this.mapOpts.annotation === \"string\") {\n        content = this.mapOpts.annotation;\n      } else if (typeof this.mapOpts.annotation === \"function\") {\n        content = this.mapOpts.annotation(this.opts.to, this.root);\n      } else {\n        content = this.outputFile() + \".map\";\n      }\n      let eol = \"\\n\";\n      if (this.css.includes(\"\\r\\n\")) eol = \"\\r\\n\";\n      this.css += eol + \"/*# sourceMappingURL=\" + content + \" */\";\n    }\n    applyPrevMaps() {\n      for (let prev of this.previous()) {\n        let from = this.toUrl(this.path(prev.file));\n        let root2 = prev.root || dirname(prev.file);\n        let map;\n        if (this.mapOpts.sourcesContent === false) {\n          map = new SourceMapConsumer(prev.text);\n          if (map.sourcesContent) {\n            map.sourcesContent = null;\n          }\n        } else {\n          map = prev.consumer();\n        }\n        this.map.applySourceMap(map, from, this.toUrl(this.path(root2)));\n      }\n    }\n    clearAnnotation() {\n      if (this.mapOpts.annotation === false) return;\n      if (this.root) {\n        let node2;\n        for (let i2 = this.root.nodes.length - 1; i2 >= 0; i2--) {\n          node2 = this.root.nodes[i2];\n          if (node2.type !== \"comment\") continue;\n          if (node2.text.startsWith(\"# sourceMappingURL=\")) {\n            this.root.removeChild(i2);\n          }\n        }\n      } else if (this.css) {\n        this.css = this.css.replace(/\\n*\\/\\*#[\\S\\s]*?\\*\\/$/gm, \"\");\n      }\n    }\n    generate() {\n      this.clearAnnotation();\n      if (pathAvailable && sourceMapAvailable && this.isMap()) {\n        return this.generateMap();\n      } else {\n        let result2 = \"\";\n        this.stringify(this.root, (i2) => {\n          result2 += i2;\n        });\n        return [result2];\n      }\n    }\n    generateMap() {\n      if (this.root) {\n        this.generateString();\n      } else if (this.previous().length === 1) {\n        let prev = this.previous()[0].consumer();\n        prev.file = this.outputFile();\n        this.map = SourceMapGenerator.fromSourceMap(prev, {\n          ignoreInvalidMapping: true\n        });\n      } else {\n        this.map = new SourceMapGenerator({\n          file: this.outputFile(),\n          ignoreInvalidMapping: true\n        });\n        this.map.addMapping({\n          generated: { column: 0, line: 1 },\n          original: { column: 0, line: 1 },\n          source: this.opts.from ? this.toUrl(this.path(this.opts.from)) : \"<no source>\"\n        });\n      }\n      if (this.isSourcesContent()) this.setSourcesContent();\n      if (this.root && this.previous().length > 0) this.applyPrevMaps();\n      if (this.isAnnotation()) this.addAnnotation();\n      if (this.isInline()) {\n        return [this.css];\n      } else {\n        return [this.css, this.map];\n      }\n    }\n    generateString() {\n      this.css = \"\";\n      this.map = new SourceMapGenerator({\n        file: this.outputFile(),\n        ignoreInvalidMapping: true\n      });\n      let line = 1;\n      let column = 1;\n      let noSource = \"<no source>\";\n      let mapping = {\n        generated: { column: 0, line: 0 },\n        original: { column: 0, line: 0 },\n        source: \"\"\n      };\n      let last, lines;\n      this.stringify(this.root, (str, node2, type) => {\n        this.css += str;\n        if (node2 && type !== \"end\") {\n          mapping.generated.line = line;\n          mapping.generated.column = column - 1;\n          if (node2.source && node2.source.start) {\n            mapping.source = this.sourcePath(node2);\n            mapping.original.line = node2.source.start.line;\n            mapping.original.column = node2.source.start.column - 1;\n            this.map.addMapping(mapping);\n          } else {\n            mapping.source = noSource;\n            mapping.original.line = 1;\n            mapping.original.column = 0;\n            this.map.addMapping(mapping);\n          }\n        }\n        lines = str.match(/\\n/g);\n        if (lines) {\n          line += lines.length;\n          last = str.lastIndexOf(\"\\n\");\n          column = str.length - last;\n        } else {\n          column += str.length;\n        }\n        if (node2 && type !== \"start\") {\n          let p = node2.parent || { raws: {} };\n          let childless = node2.type === \"decl\" || node2.type === \"atrule\" && !node2.nodes;\n          if (!childless || node2 !== p.last || p.raws.semicolon) {\n            if (node2.source && node2.source.end) {\n              mapping.source = this.sourcePath(node2);\n              mapping.original.line = node2.source.end.line;\n              mapping.original.column = node2.source.end.column - 1;\n              mapping.generated.line = line;\n              mapping.generated.column = column - 2;\n              this.map.addMapping(mapping);\n            } else {\n              mapping.source = noSource;\n              mapping.original.line = 1;\n              mapping.original.column = 0;\n              mapping.generated.line = line;\n              mapping.generated.column = column - 1;\n              this.map.addMapping(mapping);\n            }\n          }\n        }\n      });\n    }\n    isAnnotation() {\n      if (this.isInline()) {\n        return true;\n      }\n      if (typeof this.mapOpts.annotation !== \"undefined\") {\n        return this.mapOpts.annotation;\n      }\n      if (this.previous().length) {\n        return this.previous().some((i2) => i2.annotation);\n      }\n      return true;\n    }\n    isInline() {\n      if (typeof this.mapOpts.inline !== \"undefined\") {\n        return this.mapOpts.inline;\n      }\n      let annotation = this.mapOpts.annotation;\n      if (typeof annotation !== \"undefined\" && annotation !== true) {\n        return false;\n      }\n      if (this.previous().length) {\n        return this.previous().some((i2) => i2.inline);\n      }\n      return true;\n    }\n    isMap() {\n      if (typeof this.opts.map !== \"undefined\") {\n        return !!this.opts.map;\n      }\n      return this.previous().length > 0;\n    }\n    isSourcesContent() {\n      if (typeof this.mapOpts.sourcesContent !== \"undefined\") {\n        return this.mapOpts.sourcesContent;\n      }\n      if (this.previous().length) {\n        return this.previous().some((i2) => i2.withContent());\n      }\n      return true;\n    }\n    outputFile() {\n      if (this.opts.to) {\n        return this.path(this.opts.to);\n      } else if (this.opts.from) {\n        return this.path(this.opts.from);\n      } else {\n        return \"to.css\";\n      }\n    }\n    path(file) {\n      if (this.mapOpts.absolute) return file;\n      if (file.charCodeAt(0) === 60) return file;\n      if (/^\\w+:\\/\\//.test(file)) return file;\n      let cached = this.memoizedPaths.get(file);\n      if (cached) return cached;\n      let from = this.opts.to ? dirname(this.opts.to) : \".\";\n      if (typeof this.mapOpts.annotation === \"string\") {\n        from = dirname(resolve(from, this.mapOpts.annotation));\n      }\n      let path = relative(from, file);\n      this.memoizedPaths.set(file, path);\n      return path;\n    }\n    previous() {\n      if (!this.previousMaps) {\n        this.previousMaps = [];\n        if (this.root) {\n          this.root.walk((node2) => {\n            if (node2.source && node2.source.input.map) {\n              let map = node2.source.input.map;\n              if (!this.previousMaps.includes(map)) {\n                this.previousMaps.push(map);\n              }\n            }\n          });\n        } else {\n          let input2 = new Input(this.originalCSS, this.opts);\n          if (input2.map) this.previousMaps.push(input2.map);\n        }\n      }\n      return this.previousMaps;\n    }\n    setSourcesContent() {\n      let already = {};\n      if (this.root) {\n        this.root.walk((node2) => {\n          if (node2.source) {\n            let from = node2.source.input.from;\n            if (from && !already[from]) {\n              already[from] = true;\n              let fromUrl = this.usesFileUrls ? this.toFileUrl(from) : this.toUrl(this.path(from));\n              this.map.setSourceContent(fromUrl, node2.source.input.css);\n            }\n          }\n        });\n      } else if (this.css) {\n        let from = this.opts.from ? this.toUrl(this.path(this.opts.from)) : \"<no source>\";\n        this.map.setSourceContent(from, this.css);\n      }\n    }\n    sourcePath(node2) {\n      if (this.mapOpts.from) {\n        return this.toUrl(this.mapOpts.from);\n      } else if (this.usesFileUrls) {\n        return this.toFileUrl(node2.source.input.from);\n      } else {\n        return this.toUrl(this.path(node2.source.input.from));\n      }\n    }\n    toBase64(str) {\n      if (Buffer) {\n        return Buffer.from(str).toString(\"base64\");\n      } else {\n        return window.btoa(unescape(encodeURIComponent(str)));\n      }\n    }\n    toFileUrl(path) {\n      let cached = this.memoizedFileURLs.get(path);\n      if (cached) return cached;\n      if (pathToFileURL) {\n        let fileURL = pathToFileURL(path).toString();\n        this.memoizedFileURLs.set(path, fileURL);\n        return fileURL;\n      } else {\n        throw new Error(\n          \"`map.absolute` option is not available in this PostCSS build\"\n        );\n      }\n    }\n    toUrl(path) {\n      let cached = this.memoizedURLs.get(path);\n      if (cached) return cached;\n      if (sep === \"\\\\\") {\n        path = path.replace(/\\\\/g, \"/\");\n      }\n      let url = encodeURI(path).replace(/[#?]/g, encodeURIComponent);\n      this.memoizedURLs.set(path, url);\n      return url;\n    }\n  }\n  mapGenerator$1 = MapGenerator;\n  return mapGenerator$1;\n}\nvar tokenize$1;\nvar hasRequiredTokenize$1;\nfunction requireTokenize$1() {\n  if (hasRequiredTokenize$1) return tokenize$1;\n  hasRequiredTokenize$1 = 1;\n  const SINGLE_QUOTE = \"'\".charCodeAt(0);\n  const DOUBLE_QUOTE = '\"'.charCodeAt(0);\n  const BACKSLASH = \"\\\\\".charCodeAt(0);\n  const SLASH = \"/\".charCodeAt(0);\n  const NEWLINE = \"\\n\".charCodeAt(0);\n  const SPACE = \" \".charCodeAt(0);\n  const FEED = \"\\f\".charCodeAt(0);\n  const TAB = \"\t\".charCodeAt(0);\n  const CR = \"\\r\".charCodeAt(0);\n  const OPEN_SQUARE = \"[\".charCodeAt(0);\n  const CLOSE_SQUARE = \"]\".charCodeAt(0);\n  const OPEN_PARENTHESES = \"(\".charCodeAt(0);\n  const CLOSE_PARENTHESES = \")\".charCodeAt(0);\n  const OPEN_CURLY = \"{\".charCodeAt(0);\n  const CLOSE_CURLY = \"}\".charCodeAt(0);\n  const SEMICOLON = \";\".charCodeAt(0);\n  const ASTERISK = \"*\".charCodeAt(0);\n  const COLON = \":\".charCodeAt(0);\n  const AT = \"@\".charCodeAt(0);\n  const RE_AT_END = /[\\t\\n\\f\\r \"#'()/;[\\\\\\]{}]/g;\n  const RE_WORD_END = /[\\t\\n\\f\\r !\"#'():;@[\\\\\\]{}]|\\/(?=\\*)/g;\n  const RE_BAD_BRACKET = /.[\\r\\n\"'(/\\\\]/;\n  const RE_HEX_ESCAPE = /[\\da-f]/i;\n  tokenize$1 = function tokenizer(input2, options = {}) {\n    let css = input2.css.valueOf();\n    let ignore = options.ignoreErrors;\n    let code, content, escape, next, quote;\n    let currentToken, escaped, escapePos, n2, prev;\n    let length = css.length;\n    let pos = 0;\n    let buffer = [];\n    let returned = [];\n    function position() {\n      return pos;\n    }\n    function unclosed(what) {\n      throw input2.error(\"Unclosed \" + what, pos);\n    }\n    function endOfFile() {\n      return returned.length === 0 && pos >= length;\n    }\n    function nextToken(opts) {\n      if (returned.length) return returned.pop();\n      if (pos >= length) return;\n      let ignoreUnclosed = opts ? opts.ignoreUnclosed : false;\n      code = css.charCodeAt(pos);\n      switch (code) {\n        case NEWLINE:\n        case SPACE:\n        case TAB:\n        case CR:\n        case FEED: {\n          next = pos;\n          do {\n            next += 1;\n            code = css.charCodeAt(next);\n          } while (code === SPACE || code === NEWLINE || code === TAB || code === CR || code === FEED);\n          currentToken = [\"space\", css.slice(pos, next)];\n          pos = next - 1;\n          break;\n        }\n        case OPEN_SQUARE:\n        case CLOSE_SQUARE:\n        case OPEN_CURLY:\n        case CLOSE_CURLY:\n        case COLON:\n        case SEMICOLON:\n        case CLOSE_PARENTHESES: {\n          let controlChar = String.fromCharCode(code);\n          currentToken = [controlChar, controlChar, pos];\n          break;\n        }\n        case OPEN_PARENTHESES: {\n          prev = buffer.length ? buffer.pop()[1] : \"\";\n          n2 = css.charCodeAt(pos + 1);\n          if (prev === \"url\" && n2 !== SINGLE_QUOTE && n2 !== DOUBLE_QUOTE && n2 !== SPACE && n2 !== NEWLINE && n2 !== TAB && n2 !== FEED && n2 !== CR) {\n            next = pos;\n            do {\n              escaped = false;\n              next = css.indexOf(\")\", next + 1);\n              if (next === -1) {\n                if (ignore || ignoreUnclosed) {\n                  next = pos;\n                  break;\n                } else {\n                  unclosed(\"bracket\");\n                }\n              }\n              escapePos = next;\n              while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n                escapePos -= 1;\n                escaped = !escaped;\n              }\n            } while (escaped);\n            currentToken = [\"brackets\", css.slice(pos, next + 1), pos, next];\n            pos = next;\n          } else {\n            next = css.indexOf(\")\", pos + 1);\n            content = css.slice(pos, next + 1);\n            if (next === -1 || RE_BAD_BRACKET.test(content)) {\n              currentToken = [\"(\", \"(\", pos];\n            } else {\n              currentToken = [\"brackets\", content, pos, next];\n              pos = next;\n            }\n          }\n          break;\n        }\n        case SINGLE_QUOTE:\n        case DOUBLE_QUOTE: {\n          quote = code === SINGLE_QUOTE ? \"'\" : '\"';\n          next = pos;\n          do {\n            escaped = false;\n            next = css.indexOf(quote, next + 1);\n            if (next === -1) {\n              if (ignore || ignoreUnclosed) {\n                next = pos + 1;\n                break;\n              } else {\n                unclosed(\"string\");\n              }\n            }\n            escapePos = next;\n            while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n              escapePos -= 1;\n              escaped = !escaped;\n            }\n          } while (escaped);\n          currentToken = [\"string\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n          break;\n        }\n        case AT: {\n          RE_AT_END.lastIndex = pos + 1;\n          RE_AT_END.test(css);\n          if (RE_AT_END.lastIndex === 0) {\n            next = css.length - 1;\n          } else {\n            next = RE_AT_END.lastIndex - 2;\n          }\n          currentToken = [\"at-word\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n          break;\n        }\n        case BACKSLASH: {\n          next = pos;\n          escape = true;\n          while (css.charCodeAt(next + 1) === BACKSLASH) {\n            next += 1;\n            escape = !escape;\n          }\n          code = css.charCodeAt(next + 1);\n          if (escape && code !== SLASH && code !== SPACE && code !== NEWLINE && code !== TAB && code !== CR && code !== FEED) {\n            next += 1;\n            if (RE_HEX_ESCAPE.test(css.charAt(next))) {\n              while (RE_HEX_ESCAPE.test(css.charAt(next + 1))) {\n                next += 1;\n              }\n              if (css.charCodeAt(next + 1) === SPACE) {\n                next += 1;\n              }\n            }\n          }\n          currentToken = [\"word\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n          break;\n        }\n        default: {\n          if (code === SLASH && css.charCodeAt(pos + 1) === ASTERISK) {\n            next = css.indexOf(\"*/\", pos + 2) + 1;\n            if (next === 0) {\n              if (ignore || ignoreUnclosed) {\n                next = css.length;\n              } else {\n                unclosed(\"comment\");\n              }\n            }\n            currentToken = [\"comment\", css.slice(pos, next + 1), pos, next];\n            pos = next;\n          } else {\n            RE_WORD_END.lastIndex = pos + 1;\n            RE_WORD_END.test(css);\n            if (RE_WORD_END.lastIndex === 0) {\n              next = css.length - 1;\n            } else {\n              next = RE_WORD_END.lastIndex - 2;\n            }\n            currentToken = [\"word\", css.slice(pos, next + 1), pos, next];\n            buffer.push(currentToken);\n            pos = next;\n          }\n          break;\n        }\n      }\n      pos++;\n      return currentToken;\n    }\n    function back(token) {\n      returned.push(token);\n    }\n    return {\n      back,\n      endOfFile,\n      nextToken,\n      position\n    };\n  };\n  return tokenize$1;\n}\nvar parser$1;\nvar hasRequiredParser$1;\nfunction requireParser$1() {\n  if (hasRequiredParser$1) return parser$1;\n  hasRequiredParser$1 = 1;\n  let AtRule = requireAtRule$1();\n  let Comment = requireComment$1();\n  let Declaration = requireDeclaration$1();\n  let Root = requireRoot$1();\n  let Rule = requireRule$1();\n  let tokenizer = requireTokenize$1();\n  const SAFE_COMMENT_NEIGHBOR = {\n    empty: true,\n    space: true\n  };\n  function findLastWithPosition(tokens) {\n    for (let i2 = tokens.length - 1; i2 >= 0; i2--) {\n      let token = tokens[i2];\n      let pos = token[3] || token[2];\n      if (pos) return pos;\n    }\n  }\n  class Parser {\n    constructor(input2) {\n      this.input = input2;\n      this.root = new Root();\n      this.current = this.root;\n      this.spaces = \"\";\n      this.semicolon = false;\n      this.createTokenizer();\n      this.root.source = { input: input2, start: { column: 1, line: 1, offset: 0 } };\n    }\n    atrule(token) {\n      let node2 = new AtRule();\n      node2.name = token[1].slice(1);\n      if (node2.name === \"\") {\n        this.unnamedAtrule(node2, token);\n      }\n      this.init(node2, token[2]);\n      let type;\n      let prev;\n      let shift;\n      let last = false;\n      let open = false;\n      let params = [];\n      let brackets = [];\n      while (!this.tokenizer.endOfFile()) {\n        token = this.tokenizer.nextToken();\n        type = token[0];\n        if (type === \"(\" || type === \"[\") {\n          brackets.push(type === \"(\" ? \")\" : \"]\");\n        } else if (type === \"{\" && brackets.length > 0) {\n          brackets.push(\"}\");\n        } else if (type === brackets[brackets.length - 1]) {\n          brackets.pop();\n        }\n        if (brackets.length === 0) {\n          if (type === \";\") {\n            node2.source.end = this.getPosition(token[2]);\n            node2.source.end.offset++;\n            this.semicolon = true;\n            break;\n          } else if (type === \"{\") {\n            open = true;\n            break;\n          } else if (type === \"}\") {\n            if (params.length > 0) {\n              shift = params.length - 1;\n              prev = params[shift];\n              while (prev && prev[0] === \"space\") {\n                prev = params[--shift];\n              }\n              if (prev) {\n                node2.source.end = this.getPosition(prev[3] || prev[2]);\n                node2.source.end.offset++;\n              }\n            }\n            this.end(token);\n            break;\n          } else {\n            params.push(token);\n          }\n        } else {\n          params.push(token);\n        }\n        if (this.tokenizer.endOfFile()) {\n          last = true;\n          break;\n        }\n      }\n      node2.raws.between = this.spacesAndCommentsFromEnd(params);\n      if (params.length) {\n        node2.raws.afterName = this.spacesAndCommentsFromStart(params);\n        this.raw(node2, \"params\", params);\n        if (last) {\n          token = params[params.length - 1];\n          node2.source.end = this.getPosition(token[3] || token[2]);\n          node2.source.end.offset++;\n          this.spaces = node2.raws.between;\n          node2.raws.between = \"\";\n        }\n      } else {\n        node2.raws.afterName = \"\";\n        node2.params = \"\";\n      }\n      if (open) {\n        node2.nodes = [];\n        this.current = node2;\n      }\n    }\n    checkMissedSemicolon(tokens) {\n      let colon = this.colon(tokens);\n      if (colon === false) return;\n      let founded = 0;\n      let token;\n      for (let j = colon - 1; j >= 0; j--) {\n        token = tokens[j];\n        if (token[0] !== \"space\") {\n          founded += 1;\n          if (founded === 2) break;\n        }\n      }\n      throw this.input.error(\n        \"Missed semicolon\",\n        token[0] === \"word\" ? token[3] + 1 : token[2]\n      );\n    }\n    colon(tokens) {\n      let brackets = 0;\n      let prev, token, type;\n      for (let [i2, element] of tokens.entries()) {\n        token = element;\n        type = token[0];\n        if (type === \"(\") {\n          brackets += 1;\n        }\n        if (type === \")\") {\n          brackets -= 1;\n        }\n        if (brackets === 0 && type === \":\") {\n          if (!prev) {\n            this.doubleColon(token);\n          } else if (prev[0] === \"word\" && prev[1] === \"progid\") {\n            continue;\n          } else {\n            return i2;\n          }\n        }\n        prev = token;\n      }\n      return false;\n    }\n    comment(token) {\n      let node2 = new Comment();\n      this.init(node2, token[2]);\n      node2.source.end = this.getPosition(token[3] || token[2]);\n      node2.source.end.offset++;\n      let text = token[1].slice(2, -2);\n      if (/^\\s*$/.test(text)) {\n        node2.text = \"\";\n        node2.raws.left = text;\n        node2.raws.right = \"\";\n      } else {\n        let match = text.match(/^(\\s*)([^]*\\S)(\\s*)$/);\n        node2.text = match[2];\n        node2.raws.left = match[1];\n        node2.raws.right = match[3];\n      }\n    }\n    createTokenizer() {\n      this.tokenizer = tokenizer(this.input);\n    }\n    decl(tokens, customProperty) {\n      let node2 = new Declaration();\n      this.init(node2, tokens[0][2]);\n      let last = tokens[tokens.length - 1];\n      if (last[0] === \";\") {\n        this.semicolon = true;\n        tokens.pop();\n      }\n      node2.source.end = this.getPosition(\n        last[3] || last[2] || findLastWithPosition(tokens)\n      );\n      node2.source.end.offset++;\n      while (tokens[0][0] !== \"word\") {\n        if (tokens.length === 1) this.unknownWord(tokens);\n        node2.raws.before += tokens.shift()[1];\n      }\n      node2.source.start = this.getPosition(tokens[0][2]);\n      node2.prop = \"\";\n      while (tokens.length) {\n        let type = tokens[0][0];\n        if (type === \":\" || type === \"space\" || type === \"comment\") {\n          break;\n        }\n        node2.prop += tokens.shift()[1];\n      }\n      node2.raws.between = \"\";\n      let token;\n      while (tokens.length) {\n        token = tokens.shift();\n        if (token[0] === \":\") {\n          node2.raws.between += token[1];\n          break;\n        } else {\n          if (token[0] === \"word\" && /\\w/.test(token[1])) {\n            this.unknownWord([token]);\n          }\n          node2.raws.between += token[1];\n        }\n      }\n      if (node2.prop[0] === \"_\" || node2.prop[0] === \"*\") {\n        node2.raws.before += node2.prop[0];\n        node2.prop = node2.prop.slice(1);\n      }\n      let firstSpaces = [];\n      let next;\n      while (tokens.length) {\n        next = tokens[0][0];\n        if (next !== \"space\" && next !== \"comment\") break;\n        firstSpaces.push(tokens.shift());\n      }\n      this.precheckMissedSemicolon(tokens);\n      for (let i2 = tokens.length - 1; i2 >= 0; i2--) {\n        token = tokens[i2];\n        if (token[1].toLowerCase() === \"!important\") {\n          node2.important = true;\n          let string = this.stringFrom(tokens, i2);\n          string = this.spacesFromEnd(tokens) + string;\n          if (string !== \" !important\") node2.raws.important = string;\n          break;\n        } else if (token[1].toLowerCase() === \"important\") {\n          let cache = tokens.slice(0);\n          let str = \"\";\n          for (let j = i2; j > 0; j--) {\n            let type = cache[j][0];\n            if (str.trim().startsWith(\"!\") && type !== \"space\") {\n              break;\n            }\n            str = cache.pop()[1] + str;\n          }\n          if (str.trim().startsWith(\"!\")) {\n            node2.important = true;\n            node2.raws.important = str;\n            tokens = cache;\n          }\n        }\n        if (token[0] !== \"space\" && token[0] !== \"comment\") {\n          break;\n        }\n      }\n      let hasWord = tokens.some((i2) => i2[0] !== \"space\" && i2[0] !== \"comment\");\n      if (hasWord) {\n        node2.raws.between += firstSpaces.map((i2) => i2[1]).join(\"\");\n        firstSpaces = [];\n      }\n      this.raw(node2, \"value\", firstSpaces.concat(tokens), customProperty);\n      if (node2.value.includes(\":\") && !customProperty) {\n        this.checkMissedSemicolon(tokens);\n      }\n    }\n    doubleColon(token) {\n      throw this.input.error(\n        \"Double colon\",\n        { offset: token[2] },\n        { offset: token[2] + token[1].length }\n      );\n    }\n    emptyRule(token) {\n      let node2 = new Rule();\n      this.init(node2, token[2]);\n      node2.selector = \"\";\n      node2.raws.between = \"\";\n      this.current = node2;\n    }\n    end(token) {\n      if (this.current.nodes && this.current.nodes.length) {\n        this.current.raws.semicolon = this.semicolon;\n      }\n      this.semicolon = false;\n      this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n      this.spaces = \"\";\n      if (this.current.parent) {\n        this.current.source.end = this.getPosition(token[2]);\n        this.current.source.end.offset++;\n        this.current = this.current.parent;\n      } else {\n        this.unexpectedClose(token);\n      }\n    }\n    endFile() {\n      if (this.current.parent) this.unclosedBlock();\n      if (this.current.nodes && this.current.nodes.length) {\n        this.current.raws.semicolon = this.semicolon;\n      }\n      this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n      this.root.source.end = this.getPosition(this.tokenizer.position());\n    }\n    freeSemicolon(token) {\n      this.spaces += token[1];\n      if (this.current.nodes) {\n        let prev = this.current.nodes[this.current.nodes.length - 1];\n        if (prev && prev.type === \"rule\" && !prev.raws.ownSemicolon) {\n          prev.raws.ownSemicolon = this.spaces;\n          this.spaces = \"\";\n        }\n      }\n    }\n    // Helpers\n    getPosition(offset) {\n      let pos = this.input.fromOffset(offset);\n      return {\n        column: pos.col,\n        line: pos.line,\n        offset\n      };\n    }\n    init(node2, offset) {\n      this.current.push(node2);\n      node2.source = {\n        input: this.input,\n        start: this.getPosition(offset)\n      };\n      node2.raws.before = this.spaces;\n      this.spaces = \"\";\n      if (node2.type !== \"comment\") this.semicolon = false;\n    }\n    other(start) {\n      let end = false;\n      let type = null;\n      let colon = false;\n      let bracket = null;\n      let brackets = [];\n      let customProperty = start[1].startsWith(\"--\");\n      let tokens = [];\n      let token = start;\n      while (token) {\n        type = token[0];\n        tokens.push(token);\n        if (type === \"(\" || type === \"[\") {\n          if (!bracket) bracket = token;\n          brackets.push(type === \"(\" ? \")\" : \"]\");\n        } else if (customProperty && colon && type === \"{\") {\n          if (!bracket) bracket = token;\n          brackets.push(\"}\");\n        } else if (brackets.length === 0) {\n          if (type === \";\") {\n            if (colon) {\n              this.decl(tokens, customProperty);\n              return;\n            } else {\n              break;\n            }\n          } else if (type === \"{\") {\n            this.rule(tokens);\n            return;\n          } else if (type === \"}\") {\n            this.tokenizer.back(tokens.pop());\n            end = true;\n            break;\n          } else if (type === \":\") {\n            colon = true;\n          }\n        } else if (type === brackets[brackets.length - 1]) {\n          brackets.pop();\n          if (brackets.length === 0) bracket = null;\n        }\n        token = this.tokenizer.nextToken();\n      }\n      if (this.tokenizer.endOfFile()) end = true;\n      if (brackets.length > 0) this.unclosedBracket(bracket);\n      if (end && colon) {\n        if (!customProperty) {\n          while (tokens.length) {\n            token = tokens[tokens.length - 1][0];\n            if (token !== \"space\" && token !== \"comment\") break;\n            this.tokenizer.back(tokens.pop());\n          }\n        }\n        this.decl(tokens, customProperty);\n      } else {\n        this.unknownWord(tokens);\n      }\n    }\n    parse() {\n      let token;\n      while (!this.tokenizer.endOfFile()) {\n        token = this.tokenizer.nextToken();\n        switch (token[0]) {\n          case \"space\":\n            this.spaces += token[1];\n            break;\n          case \";\":\n            this.freeSemicolon(token);\n            break;\n          case \"}\":\n            this.end(token);\n            break;\n          case \"comment\":\n            this.comment(token);\n            break;\n          case \"at-word\":\n            this.atrule(token);\n            break;\n          case \"{\":\n            this.emptyRule(token);\n            break;\n          default:\n            this.other(token);\n            break;\n        }\n      }\n      this.endFile();\n    }\n    precheckMissedSemicolon() {\n    }\n    raw(node2, prop, tokens, customProperty) {\n      let token, type;\n      let length = tokens.length;\n      let value = \"\";\n      let clean = true;\n      let next, prev;\n      for (let i2 = 0; i2 < length; i2 += 1) {\n        token = tokens[i2];\n        type = token[0];\n        if (type === \"space\" && i2 === length - 1 && !customProperty) {\n          clean = false;\n        } else if (type === \"comment\") {\n          prev = tokens[i2 - 1] ? tokens[i2 - 1][0] : \"empty\";\n          next = tokens[i2 + 1] ? tokens[i2 + 1][0] : \"empty\";\n          if (!SAFE_COMMENT_NEIGHBOR[prev] && !SAFE_COMMENT_NEIGHBOR[next]) {\n            if (value.slice(-1) === \",\") {\n              clean = false;\n            } else {\n              value += token[1];\n            }\n          } else {\n            clean = false;\n          }\n        } else {\n          value += token[1];\n        }\n      }\n      if (!clean) {\n        let raw = tokens.reduce((all, i2) => all + i2[1], \"\");\n        node2.raws[prop] = { raw, value };\n      }\n      node2[prop] = value;\n    }\n    rule(tokens) {\n      tokens.pop();\n      let node2 = new Rule();\n      this.init(node2, tokens[0][2]);\n      node2.raws.between = this.spacesAndCommentsFromEnd(tokens);\n      this.raw(node2, \"selector\", tokens);\n      this.current = node2;\n    }\n    spacesAndCommentsFromEnd(tokens) {\n      let lastTokenType;\n      let spaces = \"\";\n      while (tokens.length) {\n        lastTokenType = tokens[tokens.length - 1][0];\n        if (lastTokenType !== \"space\" && lastTokenType !== \"comment\") break;\n        spaces = tokens.pop()[1] + spaces;\n      }\n      return spaces;\n    }\n    // Errors\n    spacesAndCommentsFromStart(tokens) {\n      let next;\n      let spaces = \"\";\n      while (tokens.length) {\n        next = tokens[0][0];\n        if (next !== \"space\" && next !== \"comment\") break;\n        spaces += tokens.shift()[1];\n      }\n      return spaces;\n    }\n    spacesFromEnd(tokens) {\n      let lastTokenType;\n      let spaces = \"\";\n      while (tokens.length) {\n        lastTokenType = tokens[tokens.length - 1][0];\n        if (lastTokenType !== \"space\") break;\n        spaces = tokens.pop()[1] + spaces;\n      }\n      return spaces;\n    }\n    stringFrom(tokens, from) {\n      let result2 = \"\";\n      for (let i2 = from; i2 < tokens.length; i2++) {\n        result2 += tokens[i2][1];\n      }\n      tokens.splice(from, tokens.length - from);\n      return result2;\n    }\n    unclosedBlock() {\n      let pos = this.current.source.start;\n      throw this.input.error(\"Unclosed block\", pos.line, pos.column);\n    }\n    unclosedBracket(bracket) {\n      throw this.input.error(\n        \"Unclosed bracket\",\n        { offset: bracket[2] },\n        { offset: bracket[2] + 1 }\n      );\n    }\n    unexpectedClose(token) {\n      throw this.input.error(\n        \"Unexpected }\",\n        { offset: token[2] },\n        { offset: token[2] + 1 }\n      );\n    }\n    unknownWord(tokens) {\n      throw this.input.error(\n        \"Unknown word\",\n        { offset: tokens[0][2] },\n        { offset: tokens[0][2] + tokens[0][1].length }\n      );\n    }\n    unnamedAtrule(node2, token) {\n      throw this.input.error(\n        \"At-rule without name\",\n        { offset: token[2] },\n        { offset: token[2] + token[1].length }\n      );\n    }\n  }\n  parser$1 = Parser;\n  return parser$1;\n}\nvar parse_1$1;\nvar hasRequiredParse$1;\nfunction requireParse$1() {\n  if (hasRequiredParse$1) return parse_1$1;\n  hasRequiredParse$1 = 1;\n  let Container = requireContainer$1();\n  let Input = requireInput$1();\n  let Parser = requireParser$1();\n  function parse(css, opts) {\n    let input2 = new Input(css, opts);\n    let parser2 = new Parser(input2);\n    try {\n      parser2.parse();\n    } catch (e2) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (e2.name === \"CssSyntaxError\" && opts && opts.from) {\n          if (/\\.scss$/i.test(opts.from)) {\n            e2.message += \"\\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser\";\n          } else if (/\\.sass/i.test(opts.from)) {\n            e2.message += \"\\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser\";\n          } else if (/\\.less$/i.test(opts.from)) {\n            e2.message += \"\\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser\";\n          }\n        }\n      }\n      throw e2;\n    }\n    return parser2.root;\n  }\n  parse_1$1 = parse;\n  parse.default = parse;\n  Container.registerParse(parse);\n  return parse_1$1;\n}\nvar warning$1;\nvar hasRequiredWarning$1;\nfunction requireWarning$1() {\n  if (hasRequiredWarning$1) return warning$1;\n  hasRequiredWarning$1 = 1;\n  class Warning {\n    constructor(text, opts = {}) {\n      this.type = \"warning\";\n      this.text = text;\n      if (opts.node && opts.node.source) {\n        let range = opts.node.rangeBy(opts);\n        this.line = range.start.line;\n        this.column = range.start.column;\n        this.endLine = range.end.line;\n        this.endColumn = range.end.column;\n      }\n      for (let opt in opts) this[opt] = opts[opt];\n    }\n    toString() {\n      if (this.node) {\n        return this.node.error(this.text, {\n          index: this.index,\n          plugin: this.plugin,\n          word: this.word\n        }).message;\n      }\n      if (this.plugin) {\n        return this.plugin + \": \" + this.text;\n      }\n      return this.text;\n    }\n  }\n  warning$1 = Warning;\n  Warning.default = Warning;\n  return warning$1;\n}\nvar result$1;\nvar hasRequiredResult$1;\nfunction requireResult$1() {\n  if (hasRequiredResult$1) return result$1;\n  hasRequiredResult$1 = 1;\n  let Warning = requireWarning$1();\n  class Result {\n    constructor(processor2, root2, opts) {\n      this.processor = processor2;\n      this.messages = [];\n      this.root = root2;\n      this.opts = opts;\n      this.css = void 0;\n      this.map = void 0;\n    }\n    toString() {\n      return this.css;\n    }\n    warn(text, opts = {}) {\n      if (!opts.plugin) {\n        if (this.lastPlugin && this.lastPlugin.postcssPlugin) {\n          opts.plugin = this.lastPlugin.postcssPlugin;\n        }\n      }\n      let warning2 = new Warning(text, opts);\n      this.messages.push(warning2);\n      return warning2;\n    }\n    warnings() {\n      return this.messages.filter((i2) => i2.type === \"warning\");\n    }\n    get content() {\n      return this.css;\n    }\n  }\n  result$1 = Result;\n  Result.default = Result;\n  return result$1;\n}\nvar warnOnce$1;\nvar hasRequiredWarnOnce$1;\nfunction requireWarnOnce$1() {\n  if (hasRequiredWarnOnce$1) return warnOnce$1;\n  hasRequiredWarnOnce$1 = 1;\n  let printed = {};\n  warnOnce$1 = function warnOnce2(message) {\n    if (printed[message]) return;\n    printed[message] = true;\n    if (typeof console !== \"undefined\" && console.warn) {\n      console.warn(message);\n    }\n  };\n  return warnOnce$1;\n}\nvar lazyResult$1;\nvar hasRequiredLazyResult$1;\nfunction requireLazyResult$1() {\n  if (hasRequiredLazyResult$1) return lazyResult$1;\n  hasRequiredLazyResult$1 = 1;\n  let Container = requireContainer$1();\n  let Document2 = requireDocument$1();\n  let MapGenerator = requireMapGenerator$1();\n  let parse = requireParse$1();\n  let Result = requireResult$1();\n  let Root = requireRoot$1();\n  let stringify = requireStringify$1();\n  let { isClean, my } = requireSymbols$1();\n  let warnOnce2 = requireWarnOnce$1();\n  const TYPE_TO_CLASS_NAME = {\n    atrule: \"AtRule\",\n    comment: \"Comment\",\n    decl: \"Declaration\",\n    document: \"Document\",\n    root: \"Root\",\n    rule: \"Rule\"\n  };\n  const PLUGIN_PROPS = {\n    AtRule: true,\n    AtRuleExit: true,\n    Comment: true,\n    CommentExit: true,\n    Declaration: true,\n    DeclarationExit: true,\n    Document: true,\n    DocumentExit: true,\n    Once: true,\n    OnceExit: true,\n    postcssPlugin: true,\n    prepare: true,\n    Root: true,\n    RootExit: true,\n    Rule: true,\n    RuleExit: true\n  };\n  const NOT_VISITORS = {\n    Once: true,\n    postcssPlugin: true,\n    prepare: true\n  };\n  const CHILDREN = 0;\n  function isPromise(obj) {\n    return typeof obj === \"object\" && typeof obj.then === \"function\";\n  }\n  function getEvents(node2) {\n    let key = false;\n    let type = TYPE_TO_CLASS_NAME[node2.type];\n    if (node2.type === \"decl\") {\n      key = node2.prop.toLowerCase();\n    } else if (node2.type === \"atrule\") {\n      key = node2.name.toLowerCase();\n    }\n    if (key && node2.append) {\n      return [\n        type,\n        type + \"-\" + key,\n        CHILDREN,\n        type + \"Exit\",\n        type + \"Exit-\" + key\n      ];\n    } else if (key) {\n      return [type, type + \"-\" + key, type + \"Exit\", type + \"Exit-\" + key];\n    } else if (node2.append) {\n      return [type, CHILDREN, type + \"Exit\"];\n    } else {\n      return [type, type + \"Exit\"];\n    }\n  }\n  function toStack(node2) {\n    let events;\n    if (node2.type === \"document\") {\n      events = [\"Document\", CHILDREN, \"DocumentExit\"];\n    } else if (node2.type === \"root\") {\n      events = [\"Root\", CHILDREN, \"RootExit\"];\n    } else {\n      events = getEvents(node2);\n    }\n    return {\n      eventIndex: 0,\n      events,\n      iterator: 0,\n      node: node2,\n      visitorIndex: 0,\n      visitors: []\n    };\n  }\n  function cleanMarks(node2) {\n    node2[isClean] = false;\n    if (node2.nodes) node2.nodes.forEach((i2) => cleanMarks(i2));\n    return node2;\n  }\n  let postcss2 = {};\n  class LazyResult {\n    constructor(processor2, css, opts) {\n      this.stringified = false;\n      this.processed = false;\n      let root2;\n      if (typeof css === \"object\" && css !== null && (css.type === \"root\" || css.type === \"document\")) {\n        root2 = cleanMarks(css);\n      } else if (css instanceof LazyResult || css instanceof Result) {\n        root2 = cleanMarks(css.root);\n        if (css.map) {\n          if (typeof opts.map === \"undefined\") opts.map = {};\n          if (!opts.map.inline) opts.map.inline = false;\n          opts.map.prev = css.map;\n        }\n      } else {\n        let parser2 = parse;\n        if (opts.syntax) parser2 = opts.syntax.parse;\n        if (opts.parser) parser2 = opts.parser;\n        if (parser2.parse) parser2 = parser2.parse;\n        try {\n          root2 = parser2(css, opts);\n        } catch (error) {\n          this.processed = true;\n          this.error = error;\n        }\n        if (root2 && !root2[my]) {\n          Container.rebuild(root2);\n        }\n      }\n      this.result = new Result(processor2, root2, opts);\n      this.helpers = { ...postcss2, postcss: postcss2, result: this.result };\n      this.plugins = this.processor.plugins.map((plugin) => {\n        if (typeof plugin === \"object\" && plugin.prepare) {\n          return { ...plugin, ...plugin.prepare(this.result) };\n        } else {\n          return plugin;\n        }\n      });\n    }\n    async() {\n      if (this.error) return Promise.reject(this.error);\n      if (this.processed) return Promise.resolve(this.result);\n      if (!this.processing) {\n        this.processing = this.runAsync();\n      }\n      return this.processing;\n    }\n    catch(onRejected) {\n      return this.async().catch(onRejected);\n    }\n    finally(onFinally) {\n      return this.async().then(onFinally, onFinally);\n    }\n    getAsyncError() {\n      throw new Error(\"Use process(css).then(cb) to work with async plugins\");\n    }\n    handleError(error, node2) {\n      let plugin = this.result.lastPlugin;\n      try {\n        if (node2) node2.addToError(error);\n        this.error = error;\n        if (error.name === \"CssSyntaxError\" && !error.plugin) {\n          error.plugin = plugin.postcssPlugin;\n          error.setMessage();\n        } else if (plugin.postcssVersion) {\n          if (process.env.NODE_ENV !== \"production\") {\n            let pluginName = plugin.postcssPlugin;\n            let pluginVer = plugin.postcssVersion;\n            let runtimeVer = this.result.processor.version;\n            let a2 = pluginVer.split(\".\");\n            let b = runtimeVer.split(\".\");\n            if (a2[0] !== b[0] || parseInt(a2[1]) > parseInt(b[1])) {\n              console.error(\n                \"Unknown error from PostCSS plugin. Your current PostCSS version is \" + runtimeVer + \", but \" + pluginName + \" uses \" + pluginVer + \". Perhaps this is the source of the error below.\"\n              );\n            }\n          }\n        }\n      } catch (err) {\n        if (console && console.error) console.error(err);\n      }\n      return error;\n    }\n    prepareVisitors() {\n      this.listeners = {};\n      let add = (plugin, type, cb) => {\n        if (!this.listeners[type]) this.listeners[type] = [];\n        this.listeners[type].push([plugin, cb]);\n      };\n      for (let plugin of this.plugins) {\n        if (typeof plugin === \"object\") {\n          for (let event in plugin) {\n            if (!PLUGIN_PROPS[event] && /^[A-Z]/.test(event)) {\n              throw new Error(\n                `Unknown event ${event} in ${plugin.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`\n              );\n            }\n            if (!NOT_VISITORS[event]) {\n              if (typeof plugin[event] === \"object\") {\n                for (let filter in plugin[event]) {\n                  if (filter === \"*\") {\n                    add(plugin, event, plugin[event][filter]);\n                  } else {\n                    add(\n                      plugin,\n                      event + \"-\" + filter.toLowerCase(),\n                      plugin[event][filter]\n                    );\n                  }\n                }\n              } else if (typeof plugin[event] === \"function\") {\n                add(plugin, event, plugin[event]);\n              }\n            }\n          }\n        }\n      }\n      this.hasListener = Object.keys(this.listeners).length > 0;\n    }\n    async runAsync() {\n      this.plugin = 0;\n      for (let i2 = 0; i2 < this.plugins.length; i2++) {\n        let plugin = this.plugins[i2];\n        let promise = this.runOnRoot(plugin);\n        if (isPromise(promise)) {\n          try {\n            await promise;\n          } catch (error) {\n            throw this.handleError(error);\n          }\n        }\n      }\n      this.prepareVisitors();\n      if (this.hasListener) {\n        let root2 = this.result.root;\n        while (!root2[isClean]) {\n          root2[isClean] = true;\n          let stack = [toStack(root2)];\n          while (stack.length > 0) {\n            let promise = this.visitTick(stack);\n            if (isPromise(promise)) {\n              try {\n                await promise;\n              } catch (e2) {\n                let node2 = stack[stack.length - 1].node;\n                throw this.handleError(e2, node2);\n              }\n            }\n          }\n        }\n        if (this.listeners.OnceExit) {\n          for (let [plugin, visitor] of this.listeners.OnceExit) {\n            this.result.lastPlugin = plugin;\n            try {\n              if (root2.type === \"document\") {\n                let roots = root2.nodes.map(\n                  (subRoot) => visitor(subRoot, this.helpers)\n                );\n                await Promise.all(roots);\n              } else {\n                await visitor(root2, this.helpers);\n              }\n            } catch (e2) {\n              throw this.handleError(e2);\n            }\n          }\n        }\n      }\n      this.processed = true;\n      return this.stringify();\n    }\n    runOnRoot(plugin) {\n      this.result.lastPlugin = plugin;\n      try {\n        if (typeof plugin === \"object\" && plugin.Once) {\n          if (this.result.root.type === \"document\") {\n            let roots = this.result.root.nodes.map(\n              (root2) => plugin.Once(root2, this.helpers)\n            );\n            if (isPromise(roots[0])) {\n              return Promise.all(roots);\n            }\n            return roots;\n          }\n          return plugin.Once(this.result.root, this.helpers);\n        } else if (typeof plugin === \"function\") {\n          return plugin(this.result.root, this.result);\n        }\n      } catch (error) {\n        throw this.handleError(error);\n      }\n    }\n    stringify() {\n      if (this.error) throw this.error;\n      if (this.stringified) return this.result;\n      this.stringified = true;\n      this.sync();\n      let opts = this.result.opts;\n      let str = stringify;\n      if (opts.syntax) str = opts.syntax.stringify;\n      if (opts.stringifier) str = opts.stringifier;\n      if (str.stringify) str = str.stringify;\n      let map = new MapGenerator(str, this.result.root, this.result.opts);\n      let data = map.generate();\n      this.result.css = data[0];\n      this.result.map = data[1];\n      return this.result;\n    }\n    sync() {\n      if (this.error) throw this.error;\n      if (this.processed) return this.result;\n      this.processed = true;\n      if (this.processing) {\n        throw this.getAsyncError();\n      }\n      for (let plugin of this.plugins) {\n        let promise = this.runOnRoot(plugin);\n        if (isPromise(promise)) {\n          throw this.getAsyncError();\n        }\n      }\n      this.prepareVisitors();\n      if (this.hasListener) {\n        let root2 = this.result.root;\n        while (!root2[isClean]) {\n          root2[isClean] = true;\n          this.walkSync(root2);\n        }\n        if (this.listeners.OnceExit) {\n          if (root2.type === \"document\") {\n            for (let subRoot of root2.nodes) {\n              this.visitSync(this.listeners.OnceExit, subRoot);\n            }\n          } else {\n            this.visitSync(this.listeners.OnceExit, root2);\n          }\n        }\n      }\n      return this.result;\n    }\n    then(onFulfilled, onRejected) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!(\"from\" in this.opts)) {\n          warnOnce2(\n            \"Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.\"\n          );\n        }\n      }\n      return this.async().then(onFulfilled, onRejected);\n    }\n    toString() {\n      return this.css;\n    }\n    visitSync(visitors, node2) {\n      for (let [plugin, visitor] of visitors) {\n        this.result.lastPlugin = plugin;\n        let promise;\n        try {\n          promise = visitor(node2, this.helpers);\n        } catch (e2) {\n          throw this.handleError(e2, node2.proxyOf);\n        }\n        if (node2.type !== \"root\" && node2.type !== \"document\" && !node2.parent) {\n          return true;\n        }\n        if (isPromise(promise)) {\n          throw this.getAsyncError();\n        }\n      }\n    }\n    visitTick(stack) {\n      let visit2 = stack[stack.length - 1];\n      let { node: node2, visitors } = visit2;\n      if (node2.type !== \"root\" && node2.type !== \"document\" && !node2.parent) {\n        stack.pop();\n        return;\n      }\n      if (visitors.length > 0 && visit2.visitorIndex < visitors.length) {\n        let [plugin, visitor] = visitors[visit2.visitorIndex];\n        visit2.visitorIndex += 1;\n        if (visit2.visitorIndex === visitors.length) {\n          visit2.visitors = [];\n          visit2.visitorIndex = 0;\n        }\n        this.result.lastPlugin = plugin;\n        try {\n          return visitor(node2.toProxy(), this.helpers);\n        } catch (e2) {\n          throw this.handleError(e2, node2);\n        }\n      }\n      if (visit2.iterator !== 0) {\n        let iterator = visit2.iterator;\n        let child;\n        while (child = node2.nodes[node2.indexes[iterator]]) {\n          node2.indexes[iterator] += 1;\n          if (!child[isClean]) {\n            child[isClean] = true;\n            stack.push(toStack(child));\n            return;\n          }\n        }\n        visit2.iterator = 0;\n        delete node2.indexes[iterator];\n      }\n      let events = visit2.events;\n      while (visit2.eventIndex < events.length) {\n        let event = events[visit2.eventIndex];\n        visit2.eventIndex += 1;\n        if (event === CHILDREN) {\n          if (node2.nodes && node2.nodes.length) {\n            node2[isClean] = true;\n            visit2.iterator = node2.getIterator();\n          }\n          return;\n        } else if (this.listeners[event]) {\n          visit2.visitors = this.listeners[event];\n          return;\n        }\n      }\n      stack.pop();\n    }\n    walkSync(node2) {\n      node2[isClean] = true;\n      let events = getEvents(node2);\n      for (let event of events) {\n        if (event === CHILDREN) {\n          if (node2.nodes) {\n            node2.each((child) => {\n              if (!child[isClean]) this.walkSync(child);\n            });\n          }\n        } else {\n          let visitors = this.listeners[event];\n          if (visitors) {\n            if (this.visitSync(visitors, node2.toProxy())) return;\n          }\n        }\n      }\n    }\n    warnings() {\n      return this.sync().warnings();\n    }\n    get content() {\n      return this.stringify().content;\n    }\n    get css() {\n      return this.stringify().css;\n    }\n    get map() {\n      return this.stringify().map;\n    }\n    get messages() {\n      return this.sync().messages;\n    }\n    get opts() {\n      return this.result.opts;\n    }\n    get processor() {\n      return this.result.processor;\n    }\n    get root() {\n      return this.sync().root;\n    }\n    get [Symbol.toStringTag]() {\n      return \"LazyResult\";\n    }\n  }\n  LazyResult.registerPostcss = (dependant) => {\n    postcss2 = dependant;\n  };\n  lazyResult$1 = LazyResult;\n  LazyResult.default = LazyResult;\n  Root.registerLazyResult(LazyResult);\n  Document2.registerLazyResult(LazyResult);\n  return lazyResult$1;\n}\nvar noWorkResult$1;\nvar hasRequiredNoWorkResult$1;\nfunction requireNoWorkResult$1() {\n  if (hasRequiredNoWorkResult$1) return noWorkResult$1;\n  hasRequiredNoWorkResult$1 = 1;\n  let MapGenerator = requireMapGenerator$1();\n  let parse = requireParse$1();\n  const Result = requireResult$1();\n  let stringify = requireStringify$1();\n  let warnOnce2 = requireWarnOnce$1();\n  class NoWorkResult {\n    constructor(processor2, css, opts) {\n      css = css.toString();\n      this.stringified = false;\n      this._processor = processor2;\n      this._css = css;\n      this._opts = opts;\n      this._map = void 0;\n      let root2;\n      let str = stringify;\n      this.result = new Result(this._processor, root2, this._opts);\n      this.result.css = css;\n      let self2 = this;\n      Object.defineProperty(this.result, \"root\", {\n        get() {\n          return self2.root;\n        }\n      });\n      let map = new MapGenerator(str, root2, this._opts, css);\n      if (map.isMap()) {\n        let [generatedCSS, generatedMap] = map.generate();\n        if (generatedCSS) {\n          this.result.css = generatedCSS;\n        }\n        if (generatedMap) {\n          this.result.map = generatedMap;\n        }\n      } else {\n        map.clearAnnotation();\n        this.result.css = map.css;\n      }\n    }\n    async() {\n      if (this.error) return Promise.reject(this.error);\n      return Promise.resolve(this.result);\n    }\n    catch(onRejected) {\n      return this.async().catch(onRejected);\n    }\n    finally(onFinally) {\n      return this.async().then(onFinally, onFinally);\n    }\n    sync() {\n      if (this.error) throw this.error;\n      return this.result;\n    }\n    then(onFulfilled, onRejected) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!(\"from\" in this._opts)) {\n          warnOnce2(\n            \"Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.\"\n          );\n        }\n      }\n      return this.async().then(onFulfilled, onRejected);\n    }\n    toString() {\n      return this._css;\n    }\n    warnings() {\n      return [];\n    }\n    get content() {\n      return this.result.css;\n    }\n    get css() {\n      return this.result.css;\n    }\n    get map() {\n      return this.result.map;\n    }\n    get messages() {\n      return [];\n    }\n    get opts() {\n      return this.result.opts;\n    }\n    get processor() {\n      return this.result.processor;\n    }\n    get root() {\n      if (this._root) {\n        return this._root;\n      }\n      let root2;\n      let parser2 = parse;\n      try {\n        root2 = parser2(this._css, this._opts);\n      } catch (error) {\n        this.error = error;\n      }\n      if (this.error) {\n        throw this.error;\n      } else {\n        this._root = root2;\n        return root2;\n      }\n    }\n    get [Symbol.toStringTag]() {\n      return \"NoWorkResult\";\n    }\n  }\n  noWorkResult$1 = NoWorkResult;\n  NoWorkResult.default = NoWorkResult;\n  return noWorkResult$1;\n}\nvar processor$1;\nvar hasRequiredProcessor$1;\nfunction requireProcessor$1() {\n  if (hasRequiredProcessor$1) return processor$1;\n  hasRequiredProcessor$1 = 1;\n  let Document2 = requireDocument$1();\n  let LazyResult = requireLazyResult$1();\n  let NoWorkResult = requireNoWorkResult$1();\n  let Root = requireRoot$1();\n  class Processor {\n    constructor(plugins = []) {\n      this.version = \"8.5.1\";\n      this.plugins = this.normalize(plugins);\n    }\n    normalize(plugins) {\n      let normalized = [];\n      for (let i2 of plugins) {\n        if (i2.postcss === true) {\n          i2 = i2();\n        } else if (i2.postcss) {\n          i2 = i2.postcss;\n        }\n        if (typeof i2 === \"object\" && Array.isArray(i2.plugins)) {\n          normalized = normalized.concat(i2.plugins);\n        } else if (typeof i2 === \"object\" && i2.postcssPlugin) {\n          normalized.push(i2);\n        } else if (typeof i2 === \"function\") {\n          normalized.push(i2);\n        } else if (typeof i2 === \"object\" && (i2.parse || i2.stringify)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            throw new Error(\n              \"PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.\"\n            );\n          }\n        } else {\n          throw new Error(i2 + \" is not a PostCSS plugin\");\n        }\n      }\n      return normalized;\n    }\n    process(css, opts = {}) {\n      if (!this.plugins.length && !opts.parser && !opts.stringifier && !opts.syntax) {\n        return new NoWorkResult(this, css, opts);\n      } else {\n        return new LazyResult(this, css, opts);\n      }\n    }\n    use(plugin) {\n      this.plugins = this.plugins.concat(this.normalize([plugin]));\n      return this;\n    }\n  }\n  processor$1 = Processor;\n  Processor.default = Processor;\n  Root.registerProcessor(Processor);\n  Document2.registerProcessor(Processor);\n  return processor$1;\n}\nvar postcss_1$1;\nvar hasRequiredPostcss$1;\nfunction requirePostcss$1() {\n  if (hasRequiredPostcss$1) return postcss_1$1;\n  hasRequiredPostcss$1 = 1;\n  let AtRule = requireAtRule$1();\n  let Comment = requireComment$1();\n  let Container = requireContainer$1();\n  let CssSyntaxError = requireCssSyntaxError$1();\n  let Declaration = requireDeclaration$1();\n  let Document2 = requireDocument$1();\n  let fromJSON = requireFromJSON$1();\n  let Input = requireInput$1();\n  let LazyResult = requireLazyResult$1();\n  let list = requireList$1();\n  let Node2 = requireNode$1();\n  let parse = requireParse$1();\n  let Processor = requireProcessor$1();\n  let Result = requireResult$1();\n  let Root = requireRoot$1();\n  let Rule = requireRule$1();\n  let stringify = requireStringify$1();\n  let Warning = requireWarning$1();\n  function postcss2(...plugins) {\n    if (plugins.length === 1 && Array.isArray(plugins[0])) {\n      plugins = plugins[0];\n    }\n    return new Processor(plugins);\n  }\n  postcss2.plugin = function plugin(name, initializer) {\n    let warningPrinted = false;\n    function creator(...args) {\n      if (console && console.warn && !warningPrinted) {\n        warningPrinted = true;\n        console.warn(\n          name + \": postcss.plugin was deprecated. Migration guide:\\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration\"\n        );\n        if (process.env.LANG && process.env.LANG.startsWith(\"cn\")) {\n          console.warn(\n            name + \": 里面 postcss.plugin 被弃用. 迁移指南:\\nhttps://www.w3ctech.com/topic/2226\"\n          );\n        }\n      }\n      let transformer = initializer(...args);\n      transformer.postcssPlugin = name;\n      transformer.postcssVersion = new Processor().version;\n      return transformer;\n    }\n    let cache;\n    Object.defineProperty(creator, \"postcss\", {\n      get() {\n        if (!cache) cache = creator();\n        return cache;\n      }\n    });\n    creator.process = function(css, processOpts, pluginOpts) {\n      return postcss2([creator(pluginOpts)]).process(css, processOpts);\n    };\n    return creator;\n  };\n  postcss2.stringify = stringify;\n  postcss2.parse = parse;\n  postcss2.fromJSON = fromJSON;\n  postcss2.list = list;\n  postcss2.comment = (defaults) => new Comment(defaults);\n  postcss2.atRule = (defaults) => new AtRule(defaults);\n  postcss2.decl = (defaults) => new Declaration(defaults);\n  postcss2.rule = (defaults) => new Rule(defaults);\n  postcss2.root = (defaults) => new Root(defaults);\n  postcss2.document = (defaults) => new Document2(defaults);\n  postcss2.CssSyntaxError = CssSyntaxError;\n  postcss2.Declaration = Declaration;\n  postcss2.Container = Container;\n  postcss2.Processor = Processor;\n  postcss2.Document = Document2;\n  postcss2.Comment = Comment;\n  postcss2.Warning = Warning;\n  postcss2.AtRule = AtRule;\n  postcss2.Result = Result;\n  postcss2.Input = Input;\n  postcss2.Rule = Rule;\n  postcss2.Root = Root;\n  postcss2.Node = Node2;\n  LazyResult.registerPostcss(postcss2);\n  postcss_1$1 = postcss2;\n  postcss2.default = postcss2;\n  return postcss_1$1;\n}\nvar safeParser$1$1;\nvar hasRequiredSafeParser$1;\nfunction requireSafeParser$1() {\n  if (hasRequiredSafeParser$1) return safeParser$1$1;\n  hasRequiredSafeParser$1 = 1;\n  let Comment = requireComment$1();\n  let Parser = requireParser$1();\n  let tokenizer = requireTokenize$1();\n  class SafeParser extends Parser {\n    checkMissedSemicolon() {\n    }\n    comment(token) {\n      let node2 = new Comment();\n      this.init(node2, token[2]);\n      let pos = this.input.fromOffset(token[3]) || this.input.fromOffset(this.input.css.length - 1);\n      node2.source.end = {\n        column: pos.col,\n        line: pos.line,\n        offset: token[3] + 1\n      };\n      let text = token[1].slice(2);\n      if (text.slice(-2) === \"*/\") text = text.slice(0, -2);\n      if (/^\\s*$/.test(text)) {\n        node2.text = \"\";\n        node2.raws.left = text;\n        node2.raws.right = \"\";\n      } else {\n        let match = text.match(/^(\\s*)([^]*\\S)(\\s*)$/);\n        node2.text = match[2];\n        node2.raws.left = match[1];\n        node2.raws.right = match[3];\n      }\n    }\n    createTokenizer() {\n      this.tokenizer = tokenizer(this.input, { ignoreErrors: true });\n    }\n    decl(tokens) {\n      if (tokens.length > 1 && tokens.some((i2) => i2[0] === \"word\")) {\n        super.decl(tokens);\n      }\n    }\n    doubleColon() {\n    }\n    endFile() {\n      if (this.current.nodes && this.current.nodes.length) {\n        this.current.raws.semicolon = this.semicolon;\n      }\n      this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n      while (this.current.parent) {\n        this.current = this.current.parent;\n        this.current.raws.after = \"\";\n      }\n      this.root.source.end = this.getPosition(this.tokenizer.position());\n    }\n    precheckMissedSemicolon(tokens) {\n      let colon = this.colon(tokens);\n      if (colon === false) return;\n      let nextStart, prevEnd;\n      for (nextStart = colon - 1; nextStart >= 0; nextStart--) {\n        if (tokens[nextStart][0] === \"word\") break;\n      }\n      if (nextStart === 0 || nextStart < 0) return;\n      for (prevEnd = nextStart - 1; prevEnd >= 0; prevEnd--) {\n        if (tokens[prevEnd][0] !== \"space\") {\n          prevEnd += 1;\n          break;\n        }\n      }\n      let other = tokens.slice(nextStart);\n      let spaces = tokens.slice(prevEnd, nextStart);\n      tokens.splice(prevEnd, tokens.length - prevEnd);\n      this.spaces = spaces.map((i2) => i2[1]).join(\"\");\n      this.decl(other);\n    }\n    unclosedBracket() {\n    }\n    unexpectedClose() {\n      this.current.raws.after += \"}\";\n    }\n    unknownWord(tokens) {\n      this.spaces += tokens.map((i2) => i2[1]).join(\"\");\n    }\n    unnamedAtrule(node2) {\n      node2.name = \"\";\n    }\n  }\n  safeParser$1$1 = SafeParser;\n  return safeParser$1$1;\n}\nvar safeParse$1;\nvar hasRequiredSafeParse$1;\nfunction requireSafeParse$1() {\n  if (hasRequiredSafeParse$1) return safeParse$1;\n  hasRequiredSafeParse$1 = 1;\n  let { Input } = requirePostcss$1();\n  let SafeParser = requireSafeParser$1();\n  safeParse$1 = function safeParse2(css, opts) {\n    let input2 = new Input(css, opts);\n    let parser2 = new SafeParser(input2);\n    parser2.parse();\n    return parser2.root;\n  };\n  return safeParse$1;\n}\nrequireSafeParse$1();\nvar postcssExports$1 = requirePostcss$1();\nconst postcss$1 = /* @__PURE__ */ getDefaultExportFromCjs$1(postcssExports$1);\npostcss$1.stringify;\npostcss$1.fromJSON;\npostcss$1.plugin;\npostcss$1.parse;\npostcss$1.list;\npostcss$1.document;\npostcss$1.comment;\npostcss$1.atRule;\npostcss$1.rule;\npostcss$1.decl;\npostcss$1.root;\npostcss$1.CssSyntaxError;\npostcss$1.Declaration;\npostcss$1.Container;\npostcss$1.Processor;\npostcss$1.Document;\npostcss$1.Comment;\npostcss$1.Warning;\npostcss$1.AtRule;\npostcss$1.Result;\npostcss$1.Input;\npostcss$1.Rule;\npostcss$1.Root;\npostcss$1.Node;\nvar __defProp2 = Object.defineProperty;\nvar __defNormalProp2 = (obj, key, value) => key in obj ? __defProp2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField2 = (obj, key, value) => __defNormalProp2(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nfunction getDefaultExportFromCjs(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, \"default\") ? x[\"default\"] : x;\n}\nfunction getAugmentedNamespace(n2) {\n  if (n2.__esModule) return n2;\n  var f2 = n2.default;\n  if (typeof f2 == \"function\") {\n    var a2 = function a22() {\n      if (this instanceof a22) {\n        return Reflect.construct(f2, arguments, this.constructor);\n      }\n      return f2.apply(this, arguments);\n    };\n    a2.prototype = f2.prototype;\n  } else a2 = {};\n  Object.defineProperty(a2, \"__esModule\", { value: true });\n  Object.keys(n2).forEach(function(k) {\n    var d = Object.getOwnPropertyDescriptor(n2, k);\n    Object.defineProperty(a2, k, d.get ? d : {\n      enumerable: true,\n      get: function() {\n        return n2[k];\n      }\n    });\n  });\n  return a2;\n}\nvar picocolors_browser = { exports: {} };\nvar hasRequiredPicocolors_browser;\nfunction requirePicocolors_browser() {\n  if (hasRequiredPicocolors_browser) return picocolors_browser.exports;\n  hasRequiredPicocolors_browser = 1;\n  var x = String;\n  var create = function() {\n    return { isColorSupported: false, reset: x, bold: x, dim: x, italic: x, underline: x, inverse: x, hidden: x, strikethrough: x, black: x, red: x, green: x, yellow: x, blue: x, magenta: x, cyan: x, white: x, gray: x, bgBlack: x, bgRed: x, bgGreen: x, bgYellow: x, bgBlue: x, bgMagenta: x, bgCyan: x, bgWhite: x, blackBright: x, redBright: x, greenBright: x, yellowBright: x, blueBright: x, magentaBright: x, cyanBright: x, whiteBright: x, bgBlackBright: x, bgRedBright: x, bgGreenBright: x, bgYellowBright: x, bgBlueBright: x, bgMagentaBright: x, bgCyanBright: x, bgWhiteBright: x };\n  };\n  picocolors_browser.exports = create();\n  picocolors_browser.exports.createColors = create;\n  return picocolors_browser.exports;\n}\nconst __viteBrowserExternal = {};\nconst __viteBrowserExternal$1 = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  default: __viteBrowserExternal\n}, Symbol.toStringTag, { value: \"Module\" }));\nconst require$$2 = /* @__PURE__ */ getAugmentedNamespace(__viteBrowserExternal$1);\nvar cssSyntaxError;\nvar hasRequiredCssSyntaxError;\nfunction requireCssSyntaxError() {\n  if (hasRequiredCssSyntaxError) return cssSyntaxError;\n  hasRequiredCssSyntaxError = 1;\n  let pico = /* @__PURE__ */ requirePicocolors_browser();\n  let terminalHighlight = require$$2;\n  class CssSyntaxError extends Error {\n    constructor(message, line, column, source, file, plugin) {\n      super(message);\n      this.name = \"CssSyntaxError\";\n      this.reason = message;\n      if (file) {\n        this.file = file;\n      }\n      if (source) {\n        this.source = source;\n      }\n      if (plugin) {\n        this.plugin = plugin;\n      }\n      if (typeof line !== \"undefined\" && typeof column !== \"undefined\") {\n        if (typeof line === \"number\") {\n          this.line = line;\n          this.column = column;\n        } else {\n          this.line = line.line;\n          this.column = line.column;\n          this.endLine = column.line;\n          this.endColumn = column.column;\n        }\n      }\n      this.setMessage();\n      if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, CssSyntaxError);\n      }\n    }\n    setMessage() {\n      this.message = this.plugin ? this.plugin + \": \" : \"\";\n      this.message += this.file ? this.file : \"<css input>\";\n      if (typeof this.line !== \"undefined\") {\n        this.message += \":\" + this.line + \":\" + this.column;\n      }\n      this.message += \": \" + this.reason;\n    }\n    showSourceCode(color) {\n      if (!this.source) return \"\";\n      let css = this.source;\n      if (color == null) color = pico.isColorSupported;\n      let aside = (text) => text;\n      let mark = (text) => text;\n      let highlight = (text) => text;\n      if (color) {\n        let { bold, gray, red } = pico.createColors(true);\n        mark = (text) => bold(red(text));\n        aside = (text) => gray(text);\n        if (terminalHighlight) {\n          highlight = (text) => terminalHighlight(text);\n        }\n      }\n      let lines = css.split(/\\r?\\n/);\n      let start = Math.max(this.line - 3, 0);\n      let end = Math.min(this.line + 2, lines.length);\n      let maxWidth = String(end).length;\n      return lines.slice(start, end).map((line, index2) => {\n        let number = start + 1 + index2;\n        let gutter = \" \" + (\" \" + number).slice(-maxWidth) + \" | \";\n        if (number === this.line) {\n          if (line.length > 160) {\n            let padding = 20;\n            let subLineStart = Math.max(0, this.column - padding);\n            let subLineEnd = Math.max(\n              this.column + padding,\n              this.endColumn + padding\n            );\n            let subLine = line.slice(subLineStart, subLineEnd);\n            let spacing2 = aside(gutter.replace(/\\d/g, \" \")) + line.slice(0, Math.min(this.column - 1, padding - 1)).replace(/[^\\t]/g, \" \");\n            return mark(\">\") + aside(gutter) + highlight(subLine) + \"\\n \" + spacing2 + mark(\"^\");\n          }\n          let spacing = aside(gutter.replace(/\\d/g, \" \")) + line.slice(0, this.column - 1).replace(/[^\\t]/g, \" \");\n          return mark(\">\") + aside(gutter) + highlight(line) + \"\\n \" + spacing + mark(\"^\");\n        }\n        return \" \" + aside(gutter) + highlight(line);\n      }).join(\"\\n\");\n    }\n    toString() {\n      let code = this.showSourceCode();\n      if (code) {\n        code = \"\\n\\n\" + code + \"\\n\";\n      }\n      return this.name + \": \" + this.message + code;\n    }\n  }\n  cssSyntaxError = CssSyntaxError;\n  CssSyntaxError.default = CssSyntaxError;\n  return cssSyntaxError;\n}\nvar stringifier;\nvar hasRequiredStringifier;\nfunction requireStringifier() {\n  if (hasRequiredStringifier) return stringifier;\n  hasRequiredStringifier = 1;\n  const DEFAULT_RAW = {\n    after: \"\\n\",\n    beforeClose: \"\\n\",\n    beforeComment: \"\\n\",\n    beforeDecl: \"\\n\",\n    beforeOpen: \" \",\n    beforeRule: \"\\n\",\n    colon: \": \",\n    commentLeft: \" \",\n    commentRight: \" \",\n    emptyBody: \"\",\n    indent: \"    \",\n    semicolon: false\n  };\n  function capitalize(str) {\n    return str[0].toUpperCase() + str.slice(1);\n  }\n  class Stringifier {\n    constructor(builder) {\n      this.builder = builder;\n    }\n    atrule(node2, semicolon) {\n      let name = \"@\" + node2.name;\n      let params = node2.params ? this.rawValue(node2, \"params\") : \"\";\n      if (typeof node2.raws.afterName !== \"undefined\") {\n        name += node2.raws.afterName;\n      } else if (params) {\n        name += \" \";\n      }\n      if (node2.nodes) {\n        this.block(node2, name + params);\n      } else {\n        let end = (node2.raws.between || \"\") + (semicolon ? \";\" : \"\");\n        this.builder(name + params + end, node2);\n      }\n    }\n    beforeAfter(node2, detect) {\n      let value;\n      if (node2.type === \"decl\") {\n        value = this.raw(node2, null, \"beforeDecl\");\n      } else if (node2.type === \"comment\") {\n        value = this.raw(node2, null, \"beforeComment\");\n      } else if (detect === \"before\") {\n        value = this.raw(node2, null, \"beforeRule\");\n      } else {\n        value = this.raw(node2, null, \"beforeClose\");\n      }\n      let buf = node2.parent;\n      let depth = 0;\n      while (buf && buf.type !== \"root\") {\n        depth += 1;\n        buf = buf.parent;\n      }\n      if (value.includes(\"\\n\")) {\n        let indent = this.raw(node2, null, \"indent\");\n        if (indent.length) {\n          for (let step = 0; step < depth; step++) value += indent;\n        }\n      }\n      return value;\n    }\n    block(node2, start) {\n      let between = this.raw(node2, \"between\", \"beforeOpen\");\n      this.builder(start + between + \"{\", node2, \"start\");\n      let after;\n      if (node2.nodes && node2.nodes.length) {\n        this.body(node2);\n        after = this.raw(node2, \"after\");\n      } else {\n        after = this.raw(node2, \"after\", \"emptyBody\");\n      }\n      if (after) this.builder(after);\n      this.builder(\"}\", node2, \"end\");\n    }\n    body(node2) {\n      let last = node2.nodes.length - 1;\n      while (last > 0) {\n        if (node2.nodes[last].type !== \"comment\") break;\n        last -= 1;\n      }\n      let semicolon = this.raw(node2, \"semicolon\");\n      for (let i2 = 0; i2 < node2.nodes.length; i2++) {\n        let child = node2.nodes[i2];\n        let before = this.raw(child, \"before\");\n        if (before) this.builder(before);\n        this.stringify(child, last !== i2 || semicolon);\n      }\n    }\n    comment(node2) {\n      let left = this.raw(node2, \"left\", \"commentLeft\");\n      let right = this.raw(node2, \"right\", \"commentRight\");\n      this.builder(\"/*\" + left + node2.text + right + \"*/\", node2);\n    }\n    decl(node2, semicolon) {\n      let between = this.raw(node2, \"between\", \"colon\");\n      let string = node2.prop + between + this.rawValue(node2, \"value\");\n      if (node2.important) {\n        string += node2.raws.important || \" !important\";\n      }\n      if (semicolon) string += \";\";\n      this.builder(string, node2);\n    }\n    document(node2) {\n      this.body(node2);\n    }\n    raw(node2, own, detect) {\n      let value;\n      if (!detect) detect = own;\n      if (own) {\n        value = node2.raws[own];\n        if (typeof value !== \"undefined\") return value;\n      }\n      let parent = node2.parent;\n      if (detect === \"before\") {\n        if (!parent || parent.type === \"root\" && parent.first === node2) {\n          return \"\";\n        }\n        if (parent && parent.type === \"document\") {\n          return \"\";\n        }\n      }\n      if (!parent) return DEFAULT_RAW[detect];\n      let root2 = node2.root();\n      if (!root2.rawCache) root2.rawCache = {};\n      if (typeof root2.rawCache[detect] !== \"undefined\") {\n        return root2.rawCache[detect];\n      }\n      if (detect === \"before\" || detect === \"after\") {\n        return this.beforeAfter(node2, detect);\n      } else {\n        let method = \"raw\" + capitalize(detect);\n        if (this[method]) {\n          value = this[method](root2, node2);\n        } else {\n          root2.walk((i2) => {\n            value = i2.raws[own];\n            if (typeof value !== \"undefined\") return false;\n          });\n        }\n      }\n      if (typeof value === \"undefined\") value = DEFAULT_RAW[detect];\n      root2.rawCache[detect] = value;\n      return value;\n    }\n    rawBeforeClose(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && i2.nodes.length > 0) {\n          if (typeof i2.raws.after !== \"undefined\") {\n            value = i2.raws.after;\n            if (value.includes(\"\\n\")) {\n              value = value.replace(/[^\\n]+$/, \"\");\n            }\n            return false;\n          }\n        }\n      });\n      if (value) value = value.replace(/\\S/g, \"\");\n      return value;\n    }\n    rawBeforeComment(root2, node2) {\n      let value;\n      root2.walkComments((i2) => {\n        if (typeof i2.raws.before !== \"undefined\") {\n          value = i2.raws.before;\n          if (value.includes(\"\\n\")) {\n            value = value.replace(/[^\\n]+$/, \"\");\n          }\n          return false;\n        }\n      });\n      if (typeof value === \"undefined\") {\n        value = this.raw(node2, null, \"beforeDecl\");\n      } else if (value) {\n        value = value.replace(/\\S/g, \"\");\n      }\n      return value;\n    }\n    rawBeforeDecl(root2, node2) {\n      let value;\n      root2.walkDecls((i2) => {\n        if (typeof i2.raws.before !== \"undefined\") {\n          value = i2.raws.before;\n          if (value.includes(\"\\n\")) {\n            value = value.replace(/[^\\n]+$/, \"\");\n          }\n          return false;\n        }\n      });\n      if (typeof value === \"undefined\") {\n        value = this.raw(node2, null, \"beforeRule\");\n      } else if (value) {\n        value = value.replace(/\\S/g, \"\");\n      }\n      return value;\n    }\n    rawBeforeOpen(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.type !== \"decl\") {\n          value = i2.raws.between;\n          if (typeof value !== \"undefined\") return false;\n        }\n      });\n      return value;\n    }\n    rawBeforeRule(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && (i2.parent !== root2 || root2.first !== i2)) {\n          if (typeof i2.raws.before !== \"undefined\") {\n            value = i2.raws.before;\n            if (value.includes(\"\\n\")) {\n              value = value.replace(/[^\\n]+$/, \"\");\n            }\n            return false;\n          }\n        }\n      });\n      if (value) value = value.replace(/\\S/g, \"\");\n      return value;\n    }\n    rawColon(root2) {\n      let value;\n      root2.walkDecls((i2) => {\n        if (typeof i2.raws.between !== \"undefined\") {\n          value = i2.raws.between.replace(/[^\\s:]/g, \"\");\n          return false;\n        }\n      });\n      return value;\n    }\n    rawEmptyBody(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && i2.nodes.length === 0) {\n          value = i2.raws.after;\n          if (typeof value !== \"undefined\") return false;\n        }\n      });\n      return value;\n    }\n    rawIndent(root2) {\n      if (root2.raws.indent) return root2.raws.indent;\n      let value;\n      root2.walk((i2) => {\n        let p = i2.parent;\n        if (p && p !== root2 && p.parent && p.parent === root2) {\n          if (typeof i2.raws.before !== \"undefined\") {\n            let parts = i2.raws.before.split(\"\\n\");\n            value = parts[parts.length - 1];\n            value = value.replace(/\\S/g, \"\");\n            return false;\n          }\n        }\n      });\n      return value;\n    }\n    rawSemicolon(root2) {\n      let value;\n      root2.walk((i2) => {\n        if (i2.nodes && i2.nodes.length && i2.last.type === \"decl\") {\n          value = i2.raws.semicolon;\n          if (typeof value !== \"undefined\") return false;\n        }\n      });\n      return value;\n    }\n    rawValue(node2, prop) {\n      let value = node2[prop];\n      let raw = node2.raws[prop];\n      if (raw && raw.value === value) {\n        return raw.raw;\n      }\n      return value;\n    }\n    root(node2) {\n      this.body(node2);\n      if (node2.raws.after) this.builder(node2.raws.after);\n    }\n    rule(node2) {\n      this.block(node2, this.rawValue(node2, \"selector\"));\n      if (node2.raws.ownSemicolon) {\n        this.builder(node2.raws.ownSemicolon, node2, \"end\");\n      }\n    }\n    stringify(node2, semicolon) {\n      if (!this[node2.type]) {\n        throw new Error(\n          \"Unknown AST node type \" + node2.type + \". Maybe you need to change PostCSS stringifier.\"\n        );\n      }\n      this[node2.type](node2, semicolon);\n    }\n  }\n  stringifier = Stringifier;\n  Stringifier.default = Stringifier;\n  return stringifier;\n}\nvar stringify_1;\nvar hasRequiredStringify;\nfunction requireStringify() {\n  if (hasRequiredStringify) return stringify_1;\n  hasRequiredStringify = 1;\n  let Stringifier = requireStringifier();\n  function stringify(node2, builder) {\n    let str = new Stringifier(builder);\n    str.stringify(node2);\n  }\n  stringify_1 = stringify;\n  stringify.default = stringify;\n  return stringify_1;\n}\nvar symbols = {};\nvar hasRequiredSymbols;\nfunction requireSymbols() {\n  if (hasRequiredSymbols) return symbols;\n  hasRequiredSymbols = 1;\n  symbols.isClean = Symbol(\"isClean\");\n  symbols.my = Symbol(\"my\");\n  return symbols;\n}\nvar node;\nvar hasRequiredNode;\nfunction requireNode() {\n  if (hasRequiredNode) return node;\n  hasRequiredNode = 1;\n  let CssSyntaxError = requireCssSyntaxError();\n  let Stringifier = requireStringifier();\n  let stringify = requireStringify();\n  let { isClean, my } = requireSymbols();\n  function cloneNode(obj, parent) {\n    let cloned = new obj.constructor();\n    for (let i2 in obj) {\n      if (!Object.prototype.hasOwnProperty.call(obj, i2)) {\n        continue;\n      }\n      if (i2 === \"proxyCache\") continue;\n      let value = obj[i2];\n      let type = typeof value;\n      if (i2 === \"parent\" && type === \"object\") {\n        if (parent) cloned[i2] = parent;\n      } else if (i2 === \"source\") {\n        cloned[i2] = value;\n      } else if (Array.isArray(value)) {\n        cloned[i2] = value.map((j) => cloneNode(j, cloned));\n      } else {\n        if (type === \"object\" && value !== null) value = cloneNode(value);\n        cloned[i2] = value;\n      }\n    }\n    return cloned;\n  }\n  function sourceOffset(inputCSS, position) {\n    if (position && typeof position.offset !== \"undefined\") {\n      return position.offset;\n    }\n    let column = 1;\n    let line = 1;\n    let offset = 0;\n    for (let i2 = 0; i2 < inputCSS.length; i2++) {\n      if (line === position.line && column === position.column) {\n        offset = i2;\n        break;\n      }\n      if (inputCSS[i2] === \"\\n\") {\n        column = 1;\n        line += 1;\n      } else {\n        column += 1;\n      }\n    }\n    return offset;\n  }\n  class Node2 {\n    constructor(defaults = {}) {\n      this.raws = {};\n      this[isClean] = false;\n      this[my] = true;\n      for (let name in defaults) {\n        if (name === \"nodes\") {\n          this.nodes = [];\n          for (let node2 of defaults[name]) {\n            if (typeof node2.clone === \"function\") {\n              this.append(node2.clone());\n            } else {\n              this.append(node2);\n            }\n          }\n        } else {\n          this[name] = defaults[name];\n        }\n      }\n    }\n    addToError(error) {\n      error.postcssNode = this;\n      if (error.stack && this.source && /\\n\\s{4}at /.test(error.stack)) {\n        let s2 = this.source;\n        error.stack = error.stack.replace(\n          /\\n\\s{4}at /,\n          `$&${s2.input.from}:${s2.start.line}:${s2.start.column}$&`\n        );\n      }\n      return error;\n    }\n    after(add) {\n      this.parent.insertAfter(this, add);\n      return this;\n    }\n    assign(overrides = {}) {\n      for (let name in overrides) {\n        this[name] = overrides[name];\n      }\n      return this;\n    }\n    before(add) {\n      this.parent.insertBefore(this, add);\n      return this;\n    }\n    cleanRaws(keepBetween) {\n      delete this.raws.before;\n      delete this.raws.after;\n      if (!keepBetween) delete this.raws.between;\n    }\n    clone(overrides = {}) {\n      let cloned = cloneNode(this);\n      for (let name in overrides) {\n        cloned[name] = overrides[name];\n      }\n      return cloned;\n    }\n    cloneAfter(overrides = {}) {\n      let cloned = this.clone(overrides);\n      this.parent.insertAfter(this, cloned);\n      return cloned;\n    }\n    cloneBefore(overrides = {}) {\n      let cloned = this.clone(overrides);\n      this.parent.insertBefore(this, cloned);\n      return cloned;\n    }\n    error(message, opts = {}) {\n      if (this.source) {\n        let { end, start } = this.rangeBy(opts);\n        return this.source.input.error(\n          message,\n          { column: start.column, line: start.line },\n          { column: end.column, line: end.line },\n          opts\n        );\n      }\n      return new CssSyntaxError(message);\n    }\n    getProxyProcessor() {\n      return {\n        get(node2, prop) {\n          if (prop === \"proxyOf\") {\n            return node2;\n          } else if (prop === \"root\") {\n            return () => node2.root().toProxy();\n          } else {\n            return node2[prop];\n          }\n        },\n        set(node2, prop, value) {\n          if (node2[prop] === value) return true;\n          node2[prop] = value;\n          if (prop === \"prop\" || prop === \"value\" || prop === \"name\" || prop === \"params\" || prop === \"important\" || /* c8 ignore next */\n          prop === \"text\") {\n            node2.markDirty();\n          }\n          return true;\n        }\n      };\n    }\n    /* c8 ignore next 3 */\n    markClean() {\n      this[isClean] = true;\n    }\n    markDirty() {\n      if (this[isClean]) {\n        this[isClean] = false;\n        let next = this;\n        while (next = next.parent) {\n          next[isClean] = false;\n        }\n      }\n    }\n    next() {\n      if (!this.parent) return void 0;\n      let index2 = this.parent.index(this);\n      return this.parent.nodes[index2 + 1];\n    }\n    positionBy(opts) {\n      let pos = this.source.start;\n      if (opts.index) {\n        pos = this.positionInside(opts.index);\n      } else if (opts.word) {\n        let inputString = \"document\" in this.source.input ? this.source.input.document : this.source.input.css;\n        let stringRepresentation = inputString.slice(\n          sourceOffset(inputString, this.source.start),\n          sourceOffset(inputString, this.source.end)\n        );\n        let index2 = stringRepresentation.indexOf(opts.word);\n        if (index2 !== -1) pos = this.positionInside(index2);\n      }\n      return pos;\n    }\n    positionInside(index2) {\n      let column = this.source.start.column;\n      let line = this.source.start.line;\n      let inputString = \"document\" in this.source.input ? this.source.input.document : this.source.input.css;\n      let offset = sourceOffset(inputString, this.source.start);\n      let end = offset + index2;\n      for (let i2 = offset; i2 < end; i2++) {\n        if (inputString[i2] === \"\\n\") {\n          column = 1;\n          line += 1;\n        } else {\n          column += 1;\n        }\n      }\n      return { column, line };\n    }\n    prev() {\n      if (!this.parent) return void 0;\n      let index2 = this.parent.index(this);\n      return this.parent.nodes[index2 - 1];\n    }\n    rangeBy(opts) {\n      let start = {\n        column: this.source.start.column,\n        line: this.source.start.line\n      };\n      let end = this.source.end ? {\n        column: this.source.end.column + 1,\n        line: this.source.end.line\n      } : {\n        column: start.column + 1,\n        line: start.line\n      };\n      if (opts.word) {\n        let inputString = \"document\" in this.source.input ? this.source.input.document : this.source.input.css;\n        let stringRepresentation = inputString.slice(\n          sourceOffset(inputString, this.source.start),\n          sourceOffset(inputString, this.source.end)\n        );\n        let index2 = stringRepresentation.indexOf(opts.word);\n        if (index2 !== -1) {\n          start = this.positionInside(index2);\n          end = this.positionInside(\n            index2 + opts.word.length\n          );\n        }\n      } else {\n        if (opts.start) {\n          start = {\n            column: opts.start.column,\n            line: opts.start.line\n          };\n        } else if (opts.index) {\n          start = this.positionInside(opts.index);\n        }\n        if (opts.end) {\n          end = {\n            column: opts.end.column,\n            line: opts.end.line\n          };\n        } else if (typeof opts.endIndex === \"number\") {\n          end = this.positionInside(opts.endIndex);\n        } else if (opts.index) {\n          end = this.positionInside(opts.index + 1);\n        }\n      }\n      if (end.line < start.line || end.line === start.line && end.column <= start.column) {\n        end = { column: start.column + 1, line: start.line };\n      }\n      return { end, start };\n    }\n    raw(prop, defaultType) {\n      let str = new Stringifier();\n      return str.raw(this, prop, defaultType);\n    }\n    remove() {\n      if (this.parent) {\n        this.parent.removeChild(this);\n      }\n      this.parent = void 0;\n      return this;\n    }\n    replaceWith(...nodes) {\n      if (this.parent) {\n        let bookmark = this;\n        let foundSelf = false;\n        for (let node2 of nodes) {\n          if (node2 === this) {\n            foundSelf = true;\n          } else if (foundSelf) {\n            this.parent.insertAfter(bookmark, node2);\n            bookmark = node2;\n          } else {\n            this.parent.insertBefore(bookmark, node2);\n          }\n        }\n        if (!foundSelf) {\n          this.remove();\n        }\n      }\n      return this;\n    }\n    root() {\n      let result2 = this;\n      while (result2.parent && result2.parent.type !== \"document\") {\n        result2 = result2.parent;\n      }\n      return result2;\n    }\n    toJSON(_, inputs) {\n      let fixed = {};\n      let emitInputs = inputs == null;\n      inputs = inputs || /* @__PURE__ */ new Map();\n      let inputsNextIndex = 0;\n      for (let name in this) {\n        if (!Object.prototype.hasOwnProperty.call(this, name)) {\n          continue;\n        }\n        if (name === \"parent\" || name === \"proxyCache\") continue;\n        let value = this[name];\n        if (Array.isArray(value)) {\n          fixed[name] = value.map((i2) => {\n            if (typeof i2 === \"object\" && i2.toJSON) {\n              return i2.toJSON(null, inputs);\n            } else {\n              return i2;\n            }\n          });\n        } else if (typeof value === \"object\" && value.toJSON) {\n          fixed[name] = value.toJSON(null, inputs);\n        } else if (name === \"source\") {\n          let inputId = inputs.get(value.input);\n          if (inputId == null) {\n            inputId = inputsNextIndex;\n            inputs.set(value.input, inputsNextIndex);\n            inputsNextIndex++;\n          }\n          fixed[name] = {\n            end: value.end,\n            inputId,\n            start: value.start\n          };\n        } else {\n          fixed[name] = value;\n        }\n      }\n      if (emitInputs) {\n        fixed.inputs = [...inputs.keys()].map((input2) => input2.toJSON());\n      }\n      return fixed;\n    }\n    toProxy() {\n      if (!this.proxyCache) {\n        this.proxyCache = new Proxy(this, this.getProxyProcessor());\n      }\n      return this.proxyCache;\n    }\n    toString(stringifier2 = stringify) {\n      if (stringifier2.stringify) stringifier2 = stringifier2.stringify;\n      let result2 = \"\";\n      stringifier2(this, (i2) => {\n        result2 += i2;\n      });\n      return result2;\n    }\n    warn(result2, text, opts) {\n      let data = { node: this };\n      for (let i2 in opts) data[i2] = opts[i2];\n      return result2.warn(text, data);\n    }\n    get proxyOf() {\n      return this;\n    }\n  }\n  node = Node2;\n  Node2.default = Node2;\n  return node;\n}\nvar comment;\nvar hasRequiredComment;\nfunction requireComment() {\n  if (hasRequiredComment) return comment;\n  hasRequiredComment = 1;\n  let Node2 = requireNode();\n  class Comment extends Node2 {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"comment\";\n    }\n  }\n  comment = Comment;\n  Comment.default = Comment;\n  return comment;\n}\nvar declaration;\nvar hasRequiredDeclaration;\nfunction requireDeclaration() {\n  if (hasRequiredDeclaration) return declaration;\n  hasRequiredDeclaration = 1;\n  let Node2 = requireNode();\n  class Declaration extends Node2 {\n    constructor(defaults) {\n      if (defaults && typeof defaults.value !== \"undefined\" && typeof defaults.value !== \"string\") {\n        defaults = { ...defaults, value: String(defaults.value) };\n      }\n      super(defaults);\n      this.type = \"decl\";\n    }\n    get variable() {\n      return this.prop.startsWith(\"--\") || this.prop[0] === \"$\";\n    }\n  }\n  declaration = Declaration;\n  Declaration.default = Declaration;\n  return declaration;\n}\nvar container;\nvar hasRequiredContainer;\nfunction requireContainer() {\n  if (hasRequiredContainer) return container;\n  hasRequiredContainer = 1;\n  let Comment = requireComment();\n  let Declaration = requireDeclaration();\n  let Node2 = requireNode();\n  let { isClean, my } = requireSymbols();\n  let AtRule, parse, Root, Rule;\n  function cleanSource(nodes) {\n    return nodes.map((i2) => {\n      if (i2.nodes) i2.nodes = cleanSource(i2.nodes);\n      delete i2.source;\n      return i2;\n    });\n  }\n  function markTreeDirty(node2) {\n    node2[isClean] = false;\n    if (node2.proxyOf.nodes) {\n      for (let i2 of node2.proxyOf.nodes) {\n        markTreeDirty(i2);\n      }\n    }\n  }\n  class Container extends Node2 {\n    append(...children) {\n      for (let child of children) {\n        let nodes = this.normalize(child, this.last);\n        for (let node2 of nodes) this.proxyOf.nodes.push(node2);\n      }\n      this.markDirty();\n      return this;\n    }\n    cleanRaws(keepBetween) {\n      super.cleanRaws(keepBetween);\n      if (this.nodes) {\n        for (let node2 of this.nodes) node2.cleanRaws(keepBetween);\n      }\n    }\n    each(callback) {\n      if (!this.proxyOf.nodes) return void 0;\n      let iterator = this.getIterator();\n      let index2, result2;\n      while (this.indexes[iterator] < this.proxyOf.nodes.length) {\n        index2 = this.indexes[iterator];\n        result2 = callback(this.proxyOf.nodes[index2], index2);\n        if (result2 === false) break;\n        this.indexes[iterator] += 1;\n      }\n      delete this.indexes[iterator];\n      return result2;\n    }\n    every(condition) {\n      return this.nodes.every(condition);\n    }\n    getIterator() {\n      if (!this.lastEach) this.lastEach = 0;\n      if (!this.indexes) this.indexes = {};\n      this.lastEach += 1;\n      let iterator = this.lastEach;\n      this.indexes[iterator] = 0;\n      return iterator;\n    }\n    getProxyProcessor() {\n      return {\n        get(node2, prop) {\n          if (prop === \"proxyOf\") {\n            return node2;\n          } else if (!node2[prop]) {\n            return node2[prop];\n          } else if (prop === \"each\" || typeof prop === \"string\" && prop.startsWith(\"walk\")) {\n            return (...args) => {\n              return node2[prop](\n                ...args.map((i2) => {\n                  if (typeof i2 === \"function\") {\n                    return (child, index2) => i2(child.toProxy(), index2);\n                  } else {\n                    return i2;\n                  }\n                })\n              );\n            };\n          } else if (prop === \"every\" || prop === \"some\") {\n            return (cb) => {\n              return node2[prop](\n                (child, ...other) => cb(child.toProxy(), ...other)\n              );\n            };\n          } else if (prop === \"root\") {\n            return () => node2.root().toProxy();\n          } else if (prop === \"nodes\") {\n            return node2.nodes.map((i2) => i2.toProxy());\n          } else if (prop === \"first\" || prop === \"last\") {\n            return node2[prop].toProxy();\n          } else {\n            return node2[prop];\n          }\n        },\n        set(node2, prop, value) {\n          if (node2[prop] === value) return true;\n          node2[prop] = value;\n          if (prop === \"name\" || prop === \"params\" || prop === \"selector\") {\n            node2.markDirty();\n          }\n          return true;\n        }\n      };\n    }\n    index(child) {\n      if (typeof child === \"number\") return child;\n      if (child.proxyOf) child = child.proxyOf;\n      return this.proxyOf.nodes.indexOf(child);\n    }\n    insertAfter(exist, add) {\n      let existIndex = this.index(exist);\n      let nodes = this.normalize(add, this.proxyOf.nodes[existIndex]).reverse();\n      existIndex = this.index(exist);\n      for (let node2 of nodes) this.proxyOf.nodes.splice(existIndex + 1, 0, node2);\n      let index2;\n      for (let id in this.indexes) {\n        index2 = this.indexes[id];\n        if (existIndex < index2) {\n          this.indexes[id] = index2 + nodes.length;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    insertBefore(exist, add) {\n      let existIndex = this.index(exist);\n      let type = existIndex === 0 ? \"prepend\" : false;\n      let nodes = this.normalize(\n        add,\n        this.proxyOf.nodes[existIndex],\n        type\n      ).reverse();\n      existIndex = this.index(exist);\n      for (let node2 of nodes) this.proxyOf.nodes.splice(existIndex, 0, node2);\n      let index2;\n      for (let id in this.indexes) {\n        index2 = this.indexes[id];\n        if (existIndex <= index2) {\n          this.indexes[id] = index2 + nodes.length;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    normalize(nodes, sample) {\n      if (typeof nodes === \"string\") {\n        nodes = cleanSource(parse(nodes).nodes);\n      } else if (typeof nodes === \"undefined\") {\n        nodes = [];\n      } else if (Array.isArray(nodes)) {\n        nodes = nodes.slice(0);\n        for (let i2 of nodes) {\n          if (i2.parent) i2.parent.removeChild(i2, \"ignore\");\n        }\n      } else if (nodes.type === \"root\" && this.type !== \"document\") {\n        nodes = nodes.nodes.slice(0);\n        for (let i2 of nodes) {\n          if (i2.parent) i2.parent.removeChild(i2, \"ignore\");\n        }\n      } else if (nodes.type) {\n        nodes = [nodes];\n      } else if (nodes.prop) {\n        if (typeof nodes.value === \"undefined\") {\n          throw new Error(\"Value field is missed in node creation\");\n        } else if (typeof nodes.value !== \"string\") {\n          nodes.value = String(nodes.value);\n        }\n        nodes = [new Declaration(nodes)];\n      } else if (nodes.selector || nodes.selectors) {\n        nodes = [new Rule(nodes)];\n      } else if (nodes.name) {\n        nodes = [new AtRule(nodes)];\n      } else if (nodes.text) {\n        nodes = [new Comment(nodes)];\n      } else {\n        throw new Error(\"Unknown node type in node creation\");\n      }\n      let processed = nodes.map((i2) => {\n        if (!i2[my]) Container.rebuild(i2);\n        i2 = i2.proxyOf;\n        if (i2.parent) i2.parent.removeChild(i2);\n        if (i2[isClean]) markTreeDirty(i2);\n        if (!i2.raws) i2.raws = {};\n        if (typeof i2.raws.before === \"undefined\") {\n          if (sample && typeof sample.raws.before !== \"undefined\") {\n            i2.raws.before = sample.raws.before.replace(/\\S/g, \"\");\n          }\n        }\n        i2.parent = this.proxyOf;\n        return i2;\n      });\n      return processed;\n    }\n    prepend(...children) {\n      children = children.reverse();\n      for (let child of children) {\n        let nodes = this.normalize(child, this.first, \"prepend\").reverse();\n        for (let node2 of nodes) this.proxyOf.nodes.unshift(node2);\n        for (let id in this.indexes) {\n          this.indexes[id] = this.indexes[id] + nodes.length;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    push(child) {\n      child.parent = this;\n      this.proxyOf.nodes.push(child);\n      return this;\n    }\n    removeAll() {\n      for (let node2 of this.proxyOf.nodes) node2.parent = void 0;\n      this.proxyOf.nodes = [];\n      this.markDirty();\n      return this;\n    }\n    removeChild(child) {\n      child = this.index(child);\n      this.proxyOf.nodes[child].parent = void 0;\n      this.proxyOf.nodes.splice(child, 1);\n      let index2;\n      for (let id in this.indexes) {\n        index2 = this.indexes[id];\n        if (index2 >= child) {\n          this.indexes[id] = index2 - 1;\n        }\n      }\n      this.markDirty();\n      return this;\n    }\n    replaceValues(pattern, opts, callback) {\n      if (!callback) {\n        callback = opts;\n        opts = {};\n      }\n      this.walkDecls((decl) => {\n        if (opts.props && !opts.props.includes(decl.prop)) return;\n        if (opts.fast && !decl.value.includes(opts.fast)) return;\n        decl.value = decl.value.replace(pattern, callback);\n      });\n      this.markDirty();\n      return this;\n    }\n    some(condition) {\n      return this.nodes.some(condition);\n    }\n    walk(callback) {\n      return this.each((child, i2) => {\n        let result2;\n        try {\n          result2 = callback(child, i2);\n        } catch (e2) {\n          throw child.addToError(e2);\n        }\n        if (result2 !== false && child.walk) {\n          result2 = child.walk(callback);\n        }\n        return result2;\n      });\n    }\n    walkAtRules(name, callback) {\n      if (!callback) {\n        callback = name;\n        return this.walk((child, i2) => {\n          if (child.type === \"atrule\") {\n            return callback(child, i2);\n          }\n        });\n      }\n      if (name instanceof RegExp) {\n        return this.walk((child, i2) => {\n          if (child.type === \"atrule\" && name.test(child.name)) {\n            return callback(child, i2);\n          }\n        });\n      }\n      return this.walk((child, i2) => {\n        if (child.type === \"atrule\" && child.name === name) {\n          return callback(child, i2);\n        }\n      });\n    }\n    walkComments(callback) {\n      return this.walk((child, i2) => {\n        if (child.type === \"comment\") {\n          return callback(child, i2);\n        }\n      });\n    }\n    walkDecls(prop, callback) {\n      if (!callback) {\n        callback = prop;\n        return this.walk((child, i2) => {\n          if (child.type === \"decl\") {\n            return callback(child, i2);\n          }\n        });\n      }\n      if (prop instanceof RegExp) {\n        return this.walk((child, i2) => {\n          if (child.type === \"decl\" && prop.test(child.prop)) {\n            return callback(child, i2);\n          }\n        });\n      }\n      return this.walk((child, i2) => {\n        if (child.type === \"decl\" && child.prop === prop) {\n          return callback(child, i2);\n        }\n      });\n    }\n    walkRules(selector, callback) {\n      if (!callback) {\n        callback = selector;\n        return this.walk((child, i2) => {\n          if (child.type === \"rule\") {\n            return callback(child, i2);\n          }\n        });\n      }\n      if (selector instanceof RegExp) {\n        return this.walk((child, i2) => {\n          if (child.type === \"rule\" && selector.test(child.selector)) {\n            return callback(child, i2);\n          }\n        });\n      }\n      return this.walk((child, i2) => {\n        if (child.type === \"rule\" && child.selector === selector) {\n          return callback(child, i2);\n        }\n      });\n    }\n    get first() {\n      if (!this.proxyOf.nodes) return void 0;\n      return this.proxyOf.nodes[0];\n    }\n    get last() {\n      if (!this.proxyOf.nodes) return void 0;\n      return this.proxyOf.nodes[this.proxyOf.nodes.length - 1];\n    }\n  }\n  Container.registerParse = (dependant) => {\n    parse = dependant;\n  };\n  Container.registerRule = (dependant) => {\n    Rule = dependant;\n  };\n  Container.registerAtRule = (dependant) => {\n    AtRule = dependant;\n  };\n  Container.registerRoot = (dependant) => {\n    Root = dependant;\n  };\n  container = Container;\n  Container.default = Container;\n  Container.rebuild = (node2) => {\n    if (node2.type === \"atrule\") {\n      Object.setPrototypeOf(node2, AtRule.prototype);\n    } else if (node2.type === \"rule\") {\n      Object.setPrototypeOf(node2, Rule.prototype);\n    } else if (node2.type === \"decl\") {\n      Object.setPrototypeOf(node2, Declaration.prototype);\n    } else if (node2.type === \"comment\") {\n      Object.setPrototypeOf(node2, Comment.prototype);\n    } else if (node2.type === \"root\") {\n      Object.setPrototypeOf(node2, Root.prototype);\n    }\n    node2[my] = true;\n    if (node2.nodes) {\n      node2.nodes.forEach((child) => {\n        Container.rebuild(child);\n      });\n    }\n  };\n  return container;\n}\nvar atRule;\nvar hasRequiredAtRule;\nfunction requireAtRule() {\n  if (hasRequiredAtRule) return atRule;\n  hasRequiredAtRule = 1;\n  let Container = requireContainer();\n  class AtRule extends Container {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"atrule\";\n    }\n    append(...children) {\n      if (!this.proxyOf.nodes) this.nodes = [];\n      return super.append(...children);\n    }\n    prepend(...children) {\n      if (!this.proxyOf.nodes) this.nodes = [];\n      return super.prepend(...children);\n    }\n  }\n  atRule = AtRule;\n  AtRule.default = AtRule;\n  Container.registerAtRule(AtRule);\n  return atRule;\n}\nvar document$1;\nvar hasRequiredDocument;\nfunction requireDocument() {\n  if (hasRequiredDocument) return document$1;\n  hasRequiredDocument = 1;\n  let Container = requireContainer();\n  let LazyResult, Processor;\n  class Document2 extends Container {\n    constructor(defaults) {\n      super({ type: \"document\", ...defaults });\n      if (!this.nodes) {\n        this.nodes = [];\n      }\n    }\n    toResult(opts = {}) {\n      let lazy = new LazyResult(new Processor(), this, opts);\n      return lazy.stringify();\n    }\n  }\n  Document2.registerLazyResult = (dependant) => {\n    LazyResult = dependant;\n  };\n  Document2.registerProcessor = (dependant) => {\n    Processor = dependant;\n  };\n  document$1 = Document2;\n  Document2.default = Document2;\n  return document$1;\n}\nvar nonSecure;\nvar hasRequiredNonSecure;\nfunction requireNonSecure() {\n  if (hasRequiredNonSecure) return nonSecure;\n  hasRequiredNonSecure = 1;\n  let urlAlphabet = \"useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict\";\n  let customAlphabet = (alphabet, defaultSize = 21) => {\n    return (size = defaultSize) => {\n      let id = \"\";\n      let i2 = size | 0;\n      while (i2--) {\n        id += alphabet[Math.random() * alphabet.length | 0];\n      }\n      return id;\n    };\n  };\n  let nanoid = (size = 21) => {\n    let id = \"\";\n    let i2 = size | 0;\n    while (i2--) {\n      id += urlAlphabet[Math.random() * 64 | 0];\n    }\n    return id;\n  };\n  nonSecure = { nanoid, customAlphabet };\n  return nonSecure;\n}\nvar previousMap;\nvar hasRequiredPreviousMap;\nfunction requirePreviousMap() {\n  if (hasRequiredPreviousMap) return previousMap;\n  hasRequiredPreviousMap = 1;\n  let { existsSync, readFileSync } = require$$2;\n  let { dirname, join } = require$$2;\n  let { SourceMapConsumer, SourceMapGenerator } = require$$2;\n  function fromBase64(str) {\n    if (Buffer) {\n      return Buffer.from(str, \"base64\").toString();\n    } else {\n      return window.atob(str);\n    }\n  }\n  class PreviousMap {\n    constructor(css, opts) {\n      if (opts.map === false) return;\n      this.loadAnnotation(css);\n      this.inline = this.startWith(this.annotation, \"data:\");\n      let prev = opts.map ? opts.map.prev : void 0;\n      let text = this.loadMap(opts.from, prev);\n      if (!this.mapFile && opts.from) {\n        this.mapFile = opts.from;\n      }\n      if (this.mapFile) this.root = dirname(this.mapFile);\n      if (text) this.text = text;\n    }\n    consumer() {\n      if (!this.consumerCache) {\n        this.consumerCache = new SourceMapConsumer(this.text);\n      }\n      return this.consumerCache;\n    }\n    decodeInline(text) {\n      let baseCharsetUri = /^data:application\\/json;charset=utf-?8;base64,/;\n      let baseUri = /^data:application\\/json;base64,/;\n      let charsetUri = /^data:application\\/json;charset=utf-?8,/;\n      let uri = /^data:application\\/json,/;\n      let uriMatch = text.match(charsetUri) || text.match(uri);\n      if (uriMatch) {\n        return decodeURIComponent(text.substr(uriMatch[0].length));\n      }\n      let baseUriMatch = text.match(baseCharsetUri) || text.match(baseUri);\n      if (baseUriMatch) {\n        return fromBase64(text.substr(baseUriMatch[0].length));\n      }\n      let encoding = text.match(/data:application\\/json;([^,]+),/)[1];\n      throw new Error(\"Unsupported source map encoding \" + encoding);\n    }\n    getAnnotationURL(sourceMapString) {\n      return sourceMapString.replace(/^\\/\\*\\s*# sourceMappingURL=/, \"\").trim();\n    }\n    isMap(map) {\n      if (typeof map !== \"object\") return false;\n      return typeof map.mappings === \"string\" || typeof map._mappings === \"string\" || Array.isArray(map.sections);\n    }\n    loadAnnotation(css) {\n      let comments = css.match(/\\/\\*\\s*# sourceMappingURL=/g);\n      if (!comments) return;\n      let start = css.lastIndexOf(comments.pop());\n      let end = css.indexOf(\"*/\", start);\n      if (start > -1 && end > -1) {\n        this.annotation = this.getAnnotationURL(css.substring(start, end));\n      }\n    }\n    loadFile(path) {\n      this.root = dirname(path);\n      if (existsSync(path)) {\n        this.mapFile = path;\n        return readFileSync(path, \"utf-8\").toString().trim();\n      }\n    }\n    loadMap(file, prev) {\n      if (prev === false) return false;\n      if (prev) {\n        if (typeof prev === \"string\") {\n          return prev;\n        } else if (typeof prev === \"function\") {\n          let prevPath = prev(file);\n          if (prevPath) {\n            let map = this.loadFile(prevPath);\n            if (!map) {\n              throw new Error(\n                \"Unable to load previous source map: \" + prevPath.toString()\n              );\n            }\n            return map;\n          }\n        } else if (prev instanceof SourceMapConsumer) {\n          return SourceMapGenerator.fromSourceMap(prev).toString();\n        } else if (prev instanceof SourceMapGenerator) {\n          return prev.toString();\n        } else if (this.isMap(prev)) {\n          return JSON.stringify(prev);\n        } else {\n          throw new Error(\n            \"Unsupported previous source map format: \" + prev.toString()\n          );\n        }\n      } else if (this.inline) {\n        return this.decodeInline(this.annotation);\n      } else if (this.annotation) {\n        let map = this.annotation;\n        if (file) map = join(dirname(file), map);\n        return this.loadFile(map);\n      }\n    }\n    startWith(string, start) {\n      if (!string) return false;\n      return string.substr(0, start.length) === start;\n    }\n    withContent() {\n      return !!(this.consumer().sourcesContent && this.consumer().sourcesContent.length > 0);\n    }\n  }\n  previousMap = PreviousMap;\n  PreviousMap.default = PreviousMap;\n  return previousMap;\n}\nvar input;\nvar hasRequiredInput;\nfunction requireInput() {\n  if (hasRequiredInput) return input;\n  hasRequiredInput = 1;\n  let { nanoid } = /* @__PURE__ */ requireNonSecure();\n  let { isAbsolute, resolve } = require$$2;\n  let { SourceMapConsumer, SourceMapGenerator } = require$$2;\n  let { fileURLToPath, pathToFileURL } = require$$2;\n  let CssSyntaxError = requireCssSyntaxError();\n  let PreviousMap = requirePreviousMap();\n  let terminalHighlight = require$$2;\n  let fromOffsetCache = Symbol(\"fromOffsetCache\");\n  let sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator);\n  let pathAvailable = Boolean(resolve && isAbsolute);\n  class Input {\n    constructor(css, opts = {}) {\n      if (css === null || typeof css === \"undefined\" || typeof css === \"object\" && !css.toString) {\n        throw new Error(`PostCSS received ${css} instead of CSS string`);\n      }\n      this.css = css.toString();\n      if (this.css[0] === \"\\uFEFF\" || this.css[0] === \"￾\") {\n        this.hasBOM = true;\n        this.css = this.css.slice(1);\n      } else {\n        this.hasBOM = false;\n      }\n      this.document = this.css;\n      if (opts.document) this.document = opts.document.toString();\n      if (opts.from) {\n        if (!pathAvailable || /^\\w+:\\/\\//.test(opts.from) || isAbsolute(opts.from)) {\n          this.file = opts.from;\n        } else {\n          this.file = resolve(opts.from);\n        }\n      }\n      if (pathAvailable && sourceMapAvailable) {\n        let map = new PreviousMap(this.css, opts);\n        if (map.text) {\n          this.map = map;\n          let file = map.consumer().file;\n          if (!this.file && file) this.file = this.mapResolve(file);\n        }\n      }\n      if (!this.file) {\n        this.id = \"<input css \" + nanoid(6) + \">\";\n      }\n      if (this.map) this.map.file = this.from;\n    }\n    error(message, line, column, opts = {}) {\n      let endColumn, endLine, result2;\n      if (line && typeof line === \"object\") {\n        let start = line;\n        let end = column;\n        if (typeof start.offset === \"number\") {\n          let pos = this.fromOffset(start.offset);\n          line = pos.line;\n          column = pos.col;\n        } else {\n          line = start.line;\n          column = start.column;\n        }\n        if (typeof end.offset === \"number\") {\n          let pos = this.fromOffset(end.offset);\n          endLine = pos.line;\n          endColumn = pos.col;\n        } else {\n          endLine = end.line;\n          endColumn = end.column;\n        }\n      } else if (!column) {\n        let pos = this.fromOffset(line);\n        line = pos.line;\n        column = pos.col;\n      }\n      let origin = this.origin(line, column, endLine, endColumn);\n      if (origin) {\n        result2 = new CssSyntaxError(\n          message,\n          origin.endLine === void 0 ? origin.line : { column: origin.column, line: origin.line },\n          origin.endLine === void 0 ? origin.column : { column: origin.endColumn, line: origin.endLine },\n          origin.source,\n          origin.file,\n          opts.plugin\n        );\n      } else {\n        result2 = new CssSyntaxError(\n          message,\n          endLine === void 0 ? line : { column, line },\n          endLine === void 0 ? column : { column: endColumn, line: endLine },\n          this.css,\n          this.file,\n          opts.plugin\n        );\n      }\n      result2.input = { column, endColumn, endLine, line, source: this.css };\n      if (this.file) {\n        if (pathToFileURL) {\n          result2.input.url = pathToFileURL(this.file).toString();\n        }\n        result2.input.file = this.file;\n      }\n      return result2;\n    }\n    fromOffset(offset) {\n      let lastLine, lineToIndex;\n      if (!this[fromOffsetCache]) {\n        let lines = this.css.split(\"\\n\");\n        lineToIndex = new Array(lines.length);\n        let prevIndex = 0;\n        for (let i2 = 0, l2 = lines.length; i2 < l2; i2++) {\n          lineToIndex[i2] = prevIndex;\n          prevIndex += lines[i2].length + 1;\n        }\n        this[fromOffsetCache] = lineToIndex;\n      } else {\n        lineToIndex = this[fromOffsetCache];\n      }\n      lastLine = lineToIndex[lineToIndex.length - 1];\n      let min = 0;\n      if (offset >= lastLine) {\n        min = lineToIndex.length - 1;\n      } else {\n        let max = lineToIndex.length - 2;\n        let mid;\n        while (min < max) {\n          mid = min + (max - min >> 1);\n          if (offset < lineToIndex[mid]) {\n            max = mid - 1;\n          } else if (offset >= lineToIndex[mid + 1]) {\n            min = mid + 1;\n          } else {\n            min = mid;\n            break;\n          }\n        }\n      }\n      return {\n        col: offset - lineToIndex[min] + 1,\n        line: min + 1\n      };\n    }\n    mapResolve(file) {\n      if (/^\\w+:\\/\\//.test(file)) {\n        return file;\n      }\n      return resolve(this.map.consumer().sourceRoot || this.map.root || \".\", file);\n    }\n    origin(line, column, endLine, endColumn) {\n      if (!this.map) return false;\n      let consumer = this.map.consumer();\n      let from = consumer.originalPositionFor({ column, line });\n      if (!from.source) return false;\n      let to;\n      if (typeof endLine === \"number\") {\n        to = consumer.originalPositionFor({ column: endColumn, line: endLine });\n      }\n      let fromUrl;\n      if (isAbsolute(from.source)) {\n        fromUrl = pathToFileURL(from.source);\n      } else {\n        fromUrl = new URL(\n          from.source,\n          this.map.consumer().sourceRoot || pathToFileURL(this.map.mapFile)\n        );\n      }\n      let result2 = {\n        column: from.column,\n        endColumn: to && to.column,\n        endLine: to && to.line,\n        line: from.line,\n        url: fromUrl.toString()\n      };\n      if (fromUrl.protocol === \"file:\") {\n        if (fileURLToPath) {\n          result2.file = fileURLToPath(fromUrl);\n        } else {\n          throw new Error(`file: protocol is not available in this PostCSS build`);\n        }\n      }\n      let source = consumer.sourceContentFor(from.source);\n      if (source) result2.source = source;\n      return result2;\n    }\n    toJSON() {\n      let json = {};\n      for (let name of [\"hasBOM\", \"css\", \"file\", \"id\"]) {\n        if (this[name] != null) {\n          json[name] = this[name];\n        }\n      }\n      if (this.map) {\n        json.map = { ...this.map };\n        if (json.map.consumerCache) {\n          json.map.consumerCache = void 0;\n        }\n      }\n      return json;\n    }\n    get from() {\n      return this.file || this.id;\n    }\n  }\n  input = Input;\n  Input.default = Input;\n  if (terminalHighlight && terminalHighlight.registerInput) {\n    terminalHighlight.registerInput(Input);\n  }\n  return input;\n}\nvar root;\nvar hasRequiredRoot;\nfunction requireRoot() {\n  if (hasRequiredRoot) return root;\n  hasRequiredRoot = 1;\n  let Container = requireContainer();\n  let LazyResult, Processor;\n  class Root extends Container {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"root\";\n      if (!this.nodes) this.nodes = [];\n    }\n    normalize(child, sample, type) {\n      let nodes = super.normalize(child);\n      if (sample) {\n        if (type === \"prepend\") {\n          if (this.nodes.length > 1) {\n            sample.raws.before = this.nodes[1].raws.before;\n          } else {\n            delete sample.raws.before;\n          }\n        } else if (this.first !== sample) {\n          for (let node2 of nodes) {\n            node2.raws.before = sample.raws.before;\n          }\n        }\n      }\n      return nodes;\n    }\n    removeChild(child, ignore) {\n      let index2 = this.index(child);\n      if (!ignore && index2 === 0 && this.nodes.length > 1) {\n        this.nodes[1].raws.before = this.nodes[index2].raws.before;\n      }\n      return super.removeChild(child);\n    }\n    toResult(opts = {}) {\n      let lazy = new LazyResult(new Processor(), this, opts);\n      return lazy.stringify();\n    }\n  }\n  Root.registerLazyResult = (dependant) => {\n    LazyResult = dependant;\n  };\n  Root.registerProcessor = (dependant) => {\n    Processor = dependant;\n  };\n  root = Root;\n  Root.default = Root;\n  Container.registerRoot(Root);\n  return root;\n}\nvar list_1;\nvar hasRequiredList;\nfunction requireList() {\n  if (hasRequiredList) return list_1;\n  hasRequiredList = 1;\n  let list = {\n    comma(string) {\n      return list.split(string, [\",\"], true);\n    },\n    space(string) {\n      let spaces = [\" \", \"\\n\", \"\t\"];\n      return list.split(string, spaces);\n    },\n    split(string, separators, last) {\n      let array = [];\n      let current = \"\";\n      let split = false;\n      let func = 0;\n      let inQuote = false;\n      let prevQuote = \"\";\n      let escape = false;\n      for (let letter of string) {\n        if (escape) {\n          escape = false;\n        } else if (letter === \"\\\\\") {\n          escape = true;\n        } else if (inQuote) {\n          if (letter === prevQuote) {\n            inQuote = false;\n          }\n        } else if (letter === '\"' || letter === \"'\") {\n          inQuote = true;\n          prevQuote = letter;\n        } else if (letter === \"(\") {\n          func += 1;\n        } else if (letter === \")\") {\n          if (func > 0) func -= 1;\n        } else if (func === 0) {\n          if (separators.includes(letter)) split = true;\n        }\n        if (split) {\n          if (current !== \"\") array.push(current.trim());\n          current = \"\";\n          split = false;\n        } else {\n          current += letter;\n        }\n      }\n      if (last || current !== \"\") array.push(current.trim());\n      return array;\n    }\n  };\n  list_1 = list;\n  list.default = list;\n  return list_1;\n}\nvar rule;\nvar hasRequiredRule;\nfunction requireRule() {\n  if (hasRequiredRule) return rule;\n  hasRequiredRule = 1;\n  let Container = requireContainer();\n  let list = requireList();\n  class Rule extends Container {\n    constructor(defaults) {\n      super(defaults);\n      this.type = \"rule\";\n      if (!this.nodes) this.nodes = [];\n    }\n    get selectors() {\n      return list.comma(this.selector);\n    }\n    set selectors(values) {\n      let match = this.selector ? this.selector.match(/,\\s*/) : null;\n      let sep = match ? match[0] : \",\" + this.raw(\"between\", \"beforeOpen\");\n      this.selector = values.join(sep);\n    }\n  }\n  rule = Rule;\n  Rule.default = Rule;\n  Container.registerRule(Rule);\n  return rule;\n}\nvar fromJSON_1;\nvar hasRequiredFromJSON;\nfunction requireFromJSON() {\n  if (hasRequiredFromJSON) return fromJSON_1;\n  hasRequiredFromJSON = 1;\n  let AtRule = requireAtRule();\n  let Comment = requireComment();\n  let Declaration = requireDeclaration();\n  let Input = requireInput();\n  let PreviousMap = requirePreviousMap();\n  let Root = requireRoot();\n  let Rule = requireRule();\n  function fromJSON(json, inputs) {\n    if (Array.isArray(json)) return json.map((n2) => fromJSON(n2));\n    let { inputs: ownInputs, ...defaults } = json;\n    if (ownInputs) {\n      inputs = [];\n      for (let input2 of ownInputs) {\n        let inputHydrated = { ...input2, __proto__: Input.prototype };\n        if (inputHydrated.map) {\n          inputHydrated.map = {\n            ...inputHydrated.map,\n            __proto__: PreviousMap.prototype\n          };\n        }\n        inputs.push(inputHydrated);\n      }\n    }\n    if (defaults.nodes) {\n      defaults.nodes = json.nodes.map((n2) => fromJSON(n2, inputs));\n    }\n    if (defaults.source) {\n      let { inputId, ...source } = defaults.source;\n      defaults.source = source;\n      if (inputId != null) {\n        defaults.source.input = inputs[inputId];\n      }\n    }\n    if (defaults.type === \"root\") {\n      return new Root(defaults);\n    } else if (defaults.type === \"decl\") {\n      return new Declaration(defaults);\n    } else if (defaults.type === \"rule\") {\n      return new Rule(defaults);\n    } else if (defaults.type === \"comment\") {\n      return new Comment(defaults);\n    } else if (defaults.type === \"atrule\") {\n      return new AtRule(defaults);\n    } else {\n      throw new Error(\"Unknown node type: \" + json.type);\n    }\n  }\n  fromJSON_1 = fromJSON;\n  fromJSON.default = fromJSON;\n  return fromJSON_1;\n}\nvar mapGenerator;\nvar hasRequiredMapGenerator;\nfunction requireMapGenerator() {\n  if (hasRequiredMapGenerator) return mapGenerator;\n  hasRequiredMapGenerator = 1;\n  let { dirname, relative, resolve, sep } = require$$2;\n  let { SourceMapConsumer, SourceMapGenerator } = require$$2;\n  let { pathToFileURL } = require$$2;\n  let Input = requireInput();\n  let sourceMapAvailable = Boolean(SourceMapConsumer && SourceMapGenerator);\n  let pathAvailable = Boolean(dirname && resolve && relative && sep);\n  class MapGenerator {\n    constructor(stringify, root2, opts, cssString) {\n      this.stringify = stringify;\n      this.mapOpts = opts.map || {};\n      this.root = root2;\n      this.opts = opts;\n      this.css = cssString;\n      this.originalCSS = cssString;\n      this.usesFileUrls = !this.mapOpts.from && this.mapOpts.absolute;\n      this.memoizedFileURLs = /* @__PURE__ */ new Map();\n      this.memoizedPaths = /* @__PURE__ */ new Map();\n      this.memoizedURLs = /* @__PURE__ */ new Map();\n    }\n    addAnnotation() {\n      let content;\n      if (this.isInline()) {\n        content = \"data:application/json;base64,\" + this.toBase64(this.map.toString());\n      } else if (typeof this.mapOpts.annotation === \"string\") {\n        content = this.mapOpts.annotation;\n      } else if (typeof this.mapOpts.annotation === \"function\") {\n        content = this.mapOpts.annotation(this.opts.to, this.root);\n      } else {\n        content = this.outputFile() + \".map\";\n      }\n      let eol = \"\\n\";\n      if (this.css.includes(\"\\r\\n\")) eol = \"\\r\\n\";\n      this.css += eol + \"/*# sourceMappingURL=\" + content + \" */\";\n    }\n    applyPrevMaps() {\n      for (let prev of this.previous()) {\n        let from = this.toUrl(this.path(prev.file));\n        let root2 = prev.root || dirname(prev.file);\n        let map;\n        if (this.mapOpts.sourcesContent === false) {\n          map = new SourceMapConsumer(prev.text);\n          if (map.sourcesContent) {\n            map.sourcesContent = null;\n          }\n        } else {\n          map = prev.consumer();\n        }\n        this.map.applySourceMap(map, from, this.toUrl(this.path(root2)));\n      }\n    }\n    clearAnnotation() {\n      if (this.mapOpts.annotation === false) return;\n      if (this.root) {\n        let node2;\n        for (let i2 = this.root.nodes.length - 1; i2 >= 0; i2--) {\n          node2 = this.root.nodes[i2];\n          if (node2.type !== \"comment\") continue;\n          if (node2.text.startsWith(\"# sourceMappingURL=\")) {\n            this.root.removeChild(i2);\n          }\n        }\n      } else if (this.css) {\n        this.css = this.css.replace(/\\n*\\/\\*#[\\S\\s]*?\\*\\/$/gm, \"\");\n      }\n    }\n    generate() {\n      this.clearAnnotation();\n      if (pathAvailable && sourceMapAvailable && this.isMap()) {\n        return this.generateMap();\n      } else {\n        let result2 = \"\";\n        this.stringify(this.root, (i2) => {\n          result2 += i2;\n        });\n        return [result2];\n      }\n    }\n    generateMap() {\n      if (this.root) {\n        this.generateString();\n      } else if (this.previous().length === 1) {\n        let prev = this.previous()[0].consumer();\n        prev.file = this.outputFile();\n        this.map = SourceMapGenerator.fromSourceMap(prev, {\n          ignoreInvalidMapping: true\n        });\n      } else {\n        this.map = new SourceMapGenerator({\n          file: this.outputFile(),\n          ignoreInvalidMapping: true\n        });\n        this.map.addMapping({\n          generated: { column: 0, line: 1 },\n          original: { column: 0, line: 1 },\n          source: this.opts.from ? this.toUrl(this.path(this.opts.from)) : \"<no source>\"\n        });\n      }\n      if (this.isSourcesContent()) this.setSourcesContent();\n      if (this.root && this.previous().length > 0) this.applyPrevMaps();\n      if (this.isAnnotation()) this.addAnnotation();\n      if (this.isInline()) {\n        return [this.css];\n      } else {\n        return [this.css, this.map];\n      }\n    }\n    generateString() {\n      this.css = \"\";\n      this.map = new SourceMapGenerator({\n        file: this.outputFile(),\n        ignoreInvalidMapping: true\n      });\n      let line = 1;\n      let column = 1;\n      let noSource = \"<no source>\";\n      let mapping = {\n        generated: { column: 0, line: 0 },\n        original: { column: 0, line: 0 },\n        source: \"\"\n      };\n      let last, lines;\n      this.stringify(this.root, (str, node2, type) => {\n        this.css += str;\n        if (node2 && type !== \"end\") {\n          mapping.generated.line = line;\n          mapping.generated.column = column - 1;\n          if (node2.source && node2.source.start) {\n            mapping.source = this.sourcePath(node2);\n            mapping.original.line = node2.source.start.line;\n            mapping.original.column = node2.source.start.column - 1;\n            this.map.addMapping(mapping);\n          } else {\n            mapping.source = noSource;\n            mapping.original.line = 1;\n            mapping.original.column = 0;\n            this.map.addMapping(mapping);\n          }\n        }\n        lines = str.match(/\\n/g);\n        if (lines) {\n          line += lines.length;\n          last = str.lastIndexOf(\"\\n\");\n          column = str.length - last;\n        } else {\n          column += str.length;\n        }\n        if (node2 && type !== \"start\") {\n          let p = node2.parent || { raws: {} };\n          let childless = node2.type === \"decl\" || node2.type === \"atrule\" && !node2.nodes;\n          if (!childless || node2 !== p.last || p.raws.semicolon) {\n            if (node2.source && node2.source.end) {\n              mapping.source = this.sourcePath(node2);\n              mapping.original.line = node2.source.end.line;\n              mapping.original.column = node2.source.end.column - 1;\n              mapping.generated.line = line;\n              mapping.generated.column = column - 2;\n              this.map.addMapping(mapping);\n            } else {\n              mapping.source = noSource;\n              mapping.original.line = 1;\n              mapping.original.column = 0;\n              mapping.generated.line = line;\n              mapping.generated.column = column - 1;\n              this.map.addMapping(mapping);\n            }\n          }\n        }\n      });\n    }\n    isAnnotation() {\n      if (this.isInline()) {\n        return true;\n      }\n      if (typeof this.mapOpts.annotation !== \"undefined\") {\n        return this.mapOpts.annotation;\n      }\n      if (this.previous().length) {\n        return this.previous().some((i2) => i2.annotation);\n      }\n      return true;\n    }\n    isInline() {\n      if (typeof this.mapOpts.inline !== \"undefined\") {\n        return this.mapOpts.inline;\n      }\n      let annotation = this.mapOpts.annotation;\n      if (typeof annotation !== \"undefined\" && annotation !== true) {\n        return false;\n      }\n      if (this.previous().length) {\n        return this.previous().some((i2) => i2.inline);\n      }\n      return true;\n    }\n    isMap() {\n      if (typeof this.opts.map !== \"undefined\") {\n        return !!this.opts.map;\n      }\n      return this.previous().length > 0;\n    }\n    isSourcesContent() {\n      if (typeof this.mapOpts.sourcesContent !== \"undefined\") {\n        return this.mapOpts.sourcesContent;\n      }\n      if (this.previous().length) {\n        return this.previous().some((i2) => i2.withContent());\n      }\n      return true;\n    }\n    outputFile() {\n      if (this.opts.to) {\n        return this.path(this.opts.to);\n      } else if (this.opts.from) {\n        return this.path(this.opts.from);\n      } else {\n        return \"to.css\";\n      }\n    }\n    path(file) {\n      if (this.mapOpts.absolute) return file;\n      if (file.charCodeAt(0) === 60) return file;\n      if (/^\\w+:\\/\\//.test(file)) return file;\n      let cached = this.memoizedPaths.get(file);\n      if (cached) return cached;\n      let from = this.opts.to ? dirname(this.opts.to) : \".\";\n      if (typeof this.mapOpts.annotation === \"string\") {\n        from = dirname(resolve(from, this.mapOpts.annotation));\n      }\n      let path = relative(from, file);\n      this.memoizedPaths.set(file, path);\n      return path;\n    }\n    previous() {\n      if (!this.previousMaps) {\n        this.previousMaps = [];\n        if (this.root) {\n          this.root.walk((node2) => {\n            if (node2.source && node2.source.input.map) {\n              let map = node2.source.input.map;\n              if (!this.previousMaps.includes(map)) {\n                this.previousMaps.push(map);\n              }\n            }\n          });\n        } else {\n          let input2 = new Input(this.originalCSS, this.opts);\n          if (input2.map) this.previousMaps.push(input2.map);\n        }\n      }\n      return this.previousMaps;\n    }\n    setSourcesContent() {\n      let already = {};\n      if (this.root) {\n        this.root.walk((node2) => {\n          if (node2.source) {\n            let from = node2.source.input.from;\n            if (from && !already[from]) {\n              already[from] = true;\n              let fromUrl = this.usesFileUrls ? this.toFileUrl(from) : this.toUrl(this.path(from));\n              this.map.setSourceContent(fromUrl, node2.source.input.css);\n            }\n          }\n        });\n      } else if (this.css) {\n        let from = this.opts.from ? this.toUrl(this.path(this.opts.from)) : \"<no source>\";\n        this.map.setSourceContent(from, this.css);\n      }\n    }\n    sourcePath(node2) {\n      if (this.mapOpts.from) {\n        return this.toUrl(this.mapOpts.from);\n      } else if (this.usesFileUrls) {\n        return this.toFileUrl(node2.source.input.from);\n      } else {\n        return this.toUrl(this.path(node2.source.input.from));\n      }\n    }\n    toBase64(str) {\n      if (Buffer) {\n        return Buffer.from(str).toString(\"base64\");\n      } else {\n        return window.btoa(unescape(encodeURIComponent(str)));\n      }\n    }\n    toFileUrl(path) {\n      let cached = this.memoizedFileURLs.get(path);\n      if (cached) return cached;\n      if (pathToFileURL) {\n        let fileURL = pathToFileURL(path).toString();\n        this.memoizedFileURLs.set(path, fileURL);\n        return fileURL;\n      } else {\n        throw new Error(\n          \"`map.absolute` option is not available in this PostCSS build\"\n        );\n      }\n    }\n    toUrl(path) {\n      let cached = this.memoizedURLs.get(path);\n      if (cached) return cached;\n      if (sep === \"\\\\\") {\n        path = path.replace(/\\\\/g, \"/\");\n      }\n      let url = encodeURI(path).replace(/[#?]/g, encodeURIComponent);\n      this.memoizedURLs.set(path, url);\n      return url;\n    }\n  }\n  mapGenerator = MapGenerator;\n  return mapGenerator;\n}\nvar tokenize;\nvar hasRequiredTokenize;\nfunction requireTokenize() {\n  if (hasRequiredTokenize) return tokenize;\n  hasRequiredTokenize = 1;\n  const SINGLE_QUOTE = \"'\".charCodeAt(0);\n  const DOUBLE_QUOTE = '\"'.charCodeAt(0);\n  const BACKSLASH = \"\\\\\".charCodeAt(0);\n  const SLASH = \"/\".charCodeAt(0);\n  const NEWLINE = \"\\n\".charCodeAt(0);\n  const SPACE = \" \".charCodeAt(0);\n  const FEED = \"\\f\".charCodeAt(0);\n  const TAB = \"\t\".charCodeAt(0);\n  const CR = \"\\r\".charCodeAt(0);\n  const OPEN_SQUARE = \"[\".charCodeAt(0);\n  const CLOSE_SQUARE = \"]\".charCodeAt(0);\n  const OPEN_PARENTHESES = \"(\".charCodeAt(0);\n  const CLOSE_PARENTHESES = \")\".charCodeAt(0);\n  const OPEN_CURLY = \"{\".charCodeAt(0);\n  const CLOSE_CURLY = \"}\".charCodeAt(0);\n  const SEMICOLON = \";\".charCodeAt(0);\n  const ASTERISK = \"*\".charCodeAt(0);\n  const COLON = \":\".charCodeAt(0);\n  const AT = \"@\".charCodeAt(0);\n  const RE_AT_END = /[\\t\\n\\f\\r \"#'()/;[\\\\\\]{}]/g;\n  const RE_WORD_END = /[\\t\\n\\f\\r !\"#'():;@[\\\\\\]{}]|\\/(?=\\*)/g;\n  const RE_BAD_BRACKET = /.[\\r\\n\"'(/\\\\]/;\n  const RE_HEX_ESCAPE = /[\\da-f]/i;\n  tokenize = function tokenizer(input2, options = {}) {\n    let css = input2.css.valueOf();\n    let ignore = options.ignoreErrors;\n    let code, content, escape, next, quote;\n    let currentToken, escaped, escapePos, n2, prev;\n    let length = css.length;\n    let pos = 0;\n    let buffer = [];\n    let returned = [];\n    function position() {\n      return pos;\n    }\n    function unclosed(what) {\n      throw input2.error(\"Unclosed \" + what, pos);\n    }\n    function endOfFile() {\n      return returned.length === 0 && pos >= length;\n    }\n    function nextToken(opts) {\n      if (returned.length) return returned.pop();\n      if (pos >= length) return;\n      let ignoreUnclosed = opts ? opts.ignoreUnclosed : false;\n      code = css.charCodeAt(pos);\n      switch (code) {\n        case NEWLINE:\n        case SPACE:\n        case TAB:\n        case CR:\n        case FEED: {\n          next = pos;\n          do {\n            next += 1;\n            code = css.charCodeAt(next);\n          } while (code === SPACE || code === NEWLINE || code === TAB || code === CR || code === FEED);\n          currentToken = [\"space\", css.slice(pos, next)];\n          pos = next - 1;\n          break;\n        }\n        case OPEN_SQUARE:\n        case CLOSE_SQUARE:\n        case OPEN_CURLY:\n        case CLOSE_CURLY:\n        case COLON:\n        case SEMICOLON:\n        case CLOSE_PARENTHESES: {\n          let controlChar = String.fromCharCode(code);\n          currentToken = [controlChar, controlChar, pos];\n          break;\n        }\n        case OPEN_PARENTHESES: {\n          prev = buffer.length ? buffer.pop()[1] : \"\";\n          n2 = css.charCodeAt(pos + 1);\n          if (prev === \"url\" && n2 !== SINGLE_QUOTE && n2 !== DOUBLE_QUOTE && n2 !== SPACE && n2 !== NEWLINE && n2 !== TAB && n2 !== FEED && n2 !== CR) {\n            next = pos;\n            do {\n              escaped = false;\n              next = css.indexOf(\")\", next + 1);\n              if (next === -1) {\n                if (ignore || ignoreUnclosed) {\n                  next = pos;\n                  break;\n                } else {\n                  unclosed(\"bracket\");\n                }\n              }\n              escapePos = next;\n              while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n                escapePos -= 1;\n                escaped = !escaped;\n              }\n            } while (escaped);\n            currentToken = [\"brackets\", css.slice(pos, next + 1), pos, next];\n            pos = next;\n          } else {\n            next = css.indexOf(\")\", pos + 1);\n            content = css.slice(pos, next + 1);\n            if (next === -1 || RE_BAD_BRACKET.test(content)) {\n              currentToken = [\"(\", \"(\", pos];\n            } else {\n              currentToken = [\"brackets\", content, pos, next];\n              pos = next;\n            }\n          }\n          break;\n        }\n        case SINGLE_QUOTE:\n        case DOUBLE_QUOTE: {\n          quote = code === SINGLE_QUOTE ? \"'\" : '\"';\n          next = pos;\n          do {\n            escaped = false;\n            next = css.indexOf(quote, next + 1);\n            if (next === -1) {\n              if (ignore || ignoreUnclosed) {\n                next = pos + 1;\n                break;\n              } else {\n                unclosed(\"string\");\n              }\n            }\n            escapePos = next;\n            while (css.charCodeAt(escapePos - 1) === BACKSLASH) {\n              escapePos -= 1;\n              escaped = !escaped;\n            }\n          } while (escaped);\n          currentToken = [\"string\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n          break;\n        }\n        case AT: {\n          RE_AT_END.lastIndex = pos + 1;\n          RE_AT_END.test(css);\n          if (RE_AT_END.lastIndex === 0) {\n            next = css.length - 1;\n          } else {\n            next = RE_AT_END.lastIndex - 2;\n          }\n          currentToken = [\"at-word\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n          break;\n        }\n        case BACKSLASH: {\n          next = pos;\n          escape = true;\n          while (css.charCodeAt(next + 1) === BACKSLASH) {\n            next += 1;\n            escape = !escape;\n          }\n          code = css.charCodeAt(next + 1);\n          if (escape && code !== SLASH && code !== SPACE && code !== NEWLINE && code !== TAB && code !== CR && code !== FEED) {\n            next += 1;\n            if (RE_HEX_ESCAPE.test(css.charAt(next))) {\n              while (RE_HEX_ESCAPE.test(css.charAt(next + 1))) {\n                next += 1;\n              }\n              if (css.charCodeAt(next + 1) === SPACE) {\n                next += 1;\n              }\n            }\n          }\n          currentToken = [\"word\", css.slice(pos, next + 1), pos, next];\n          pos = next;\n          break;\n        }\n        default: {\n          if (code === SLASH && css.charCodeAt(pos + 1) === ASTERISK) {\n            next = css.indexOf(\"*/\", pos + 2) + 1;\n            if (next === 0) {\n              if (ignore || ignoreUnclosed) {\n                next = css.length;\n              } else {\n                unclosed(\"comment\");\n              }\n            }\n            currentToken = [\"comment\", css.slice(pos, next + 1), pos, next];\n            pos = next;\n          } else {\n            RE_WORD_END.lastIndex = pos + 1;\n            RE_WORD_END.test(css);\n            if (RE_WORD_END.lastIndex === 0) {\n              next = css.length - 1;\n            } else {\n              next = RE_WORD_END.lastIndex - 2;\n            }\n            currentToken = [\"word\", css.slice(pos, next + 1), pos, next];\n            buffer.push(currentToken);\n            pos = next;\n          }\n          break;\n        }\n      }\n      pos++;\n      return currentToken;\n    }\n    function back(token) {\n      returned.push(token);\n    }\n    return {\n      back,\n      endOfFile,\n      nextToken,\n      position\n    };\n  };\n  return tokenize;\n}\nvar parser;\nvar hasRequiredParser;\nfunction requireParser() {\n  if (hasRequiredParser) return parser;\n  hasRequiredParser = 1;\n  let AtRule = requireAtRule();\n  let Comment = requireComment();\n  let Declaration = requireDeclaration();\n  let Root = requireRoot();\n  let Rule = requireRule();\n  let tokenizer = requireTokenize();\n  const SAFE_COMMENT_NEIGHBOR = {\n    empty: true,\n    space: true\n  };\n  function findLastWithPosition(tokens) {\n    for (let i2 = tokens.length - 1; i2 >= 0; i2--) {\n      let token = tokens[i2];\n      let pos = token[3] || token[2];\n      if (pos) return pos;\n    }\n  }\n  class Parser {\n    constructor(input2) {\n      this.input = input2;\n      this.root = new Root();\n      this.current = this.root;\n      this.spaces = \"\";\n      this.semicolon = false;\n      this.createTokenizer();\n      this.root.source = { input: input2, start: { column: 1, line: 1, offset: 0 } };\n    }\n    atrule(token) {\n      let node2 = new AtRule();\n      node2.name = token[1].slice(1);\n      if (node2.name === \"\") {\n        this.unnamedAtrule(node2, token);\n      }\n      this.init(node2, token[2]);\n      let type;\n      let prev;\n      let shift;\n      let last = false;\n      let open = false;\n      let params = [];\n      let brackets = [];\n      while (!this.tokenizer.endOfFile()) {\n        token = this.tokenizer.nextToken();\n        type = token[0];\n        if (type === \"(\" || type === \"[\") {\n          brackets.push(type === \"(\" ? \")\" : \"]\");\n        } else if (type === \"{\" && brackets.length > 0) {\n          brackets.push(\"}\");\n        } else if (type === brackets[brackets.length - 1]) {\n          brackets.pop();\n        }\n        if (brackets.length === 0) {\n          if (type === \";\") {\n            node2.source.end = this.getPosition(token[2]);\n            node2.source.end.offset++;\n            this.semicolon = true;\n            break;\n          } else if (type === \"{\") {\n            open = true;\n            break;\n          } else if (type === \"}\") {\n            if (params.length > 0) {\n              shift = params.length - 1;\n              prev = params[shift];\n              while (prev && prev[0] === \"space\") {\n                prev = params[--shift];\n              }\n              if (prev) {\n                node2.source.end = this.getPosition(prev[3] || prev[2]);\n                node2.source.end.offset++;\n              }\n            }\n            this.end(token);\n            break;\n          } else {\n            params.push(token);\n          }\n        } else {\n          params.push(token);\n        }\n        if (this.tokenizer.endOfFile()) {\n          last = true;\n          break;\n        }\n      }\n      node2.raws.between = this.spacesAndCommentsFromEnd(params);\n      if (params.length) {\n        node2.raws.afterName = this.spacesAndCommentsFromStart(params);\n        this.raw(node2, \"params\", params);\n        if (last) {\n          token = params[params.length - 1];\n          node2.source.end = this.getPosition(token[3] || token[2]);\n          node2.source.end.offset++;\n          this.spaces = node2.raws.between;\n          node2.raws.between = \"\";\n        }\n      } else {\n        node2.raws.afterName = \"\";\n        node2.params = \"\";\n      }\n      if (open) {\n        node2.nodes = [];\n        this.current = node2;\n      }\n    }\n    checkMissedSemicolon(tokens) {\n      let colon = this.colon(tokens);\n      if (colon === false) return;\n      let founded = 0;\n      let token;\n      for (let j = colon - 1; j >= 0; j--) {\n        token = tokens[j];\n        if (token[0] !== \"space\") {\n          founded += 1;\n          if (founded === 2) break;\n        }\n      }\n      throw this.input.error(\n        \"Missed semicolon\",\n        token[0] === \"word\" ? token[3] + 1 : token[2]\n      );\n    }\n    colon(tokens) {\n      let brackets = 0;\n      let prev, token, type;\n      for (let [i2, element] of tokens.entries()) {\n        token = element;\n        type = token[0];\n        if (type === \"(\") {\n          brackets += 1;\n        }\n        if (type === \")\") {\n          brackets -= 1;\n        }\n        if (brackets === 0 && type === \":\") {\n          if (!prev) {\n            this.doubleColon(token);\n          } else if (prev[0] === \"word\" && prev[1] === \"progid\") {\n            continue;\n          } else {\n            return i2;\n          }\n        }\n        prev = token;\n      }\n      return false;\n    }\n    comment(token) {\n      let node2 = new Comment();\n      this.init(node2, token[2]);\n      node2.source.end = this.getPosition(token[3] || token[2]);\n      node2.source.end.offset++;\n      let text = token[1].slice(2, -2);\n      if (/^\\s*$/.test(text)) {\n        node2.text = \"\";\n        node2.raws.left = text;\n        node2.raws.right = \"\";\n      } else {\n        let match = text.match(/^(\\s*)([^]*\\S)(\\s*)$/);\n        node2.text = match[2];\n        node2.raws.left = match[1];\n        node2.raws.right = match[3];\n      }\n    }\n    createTokenizer() {\n      this.tokenizer = tokenizer(this.input);\n    }\n    decl(tokens, customProperty) {\n      let node2 = new Declaration();\n      this.init(node2, tokens[0][2]);\n      let last = tokens[tokens.length - 1];\n      if (last[0] === \";\") {\n        this.semicolon = true;\n        tokens.pop();\n      }\n      node2.source.end = this.getPosition(\n        last[3] || last[2] || findLastWithPosition(tokens)\n      );\n      node2.source.end.offset++;\n      while (tokens[0][0] !== \"word\") {\n        if (tokens.length === 1) this.unknownWord(tokens);\n        node2.raws.before += tokens.shift()[1];\n      }\n      node2.source.start = this.getPosition(tokens[0][2]);\n      node2.prop = \"\";\n      while (tokens.length) {\n        let type = tokens[0][0];\n        if (type === \":\" || type === \"space\" || type === \"comment\") {\n          break;\n        }\n        node2.prop += tokens.shift()[1];\n      }\n      node2.raws.between = \"\";\n      let token;\n      while (tokens.length) {\n        token = tokens.shift();\n        if (token[0] === \":\") {\n          node2.raws.between += token[1];\n          break;\n        } else {\n          if (token[0] === \"word\" && /\\w/.test(token[1])) {\n            this.unknownWord([token]);\n          }\n          node2.raws.between += token[1];\n        }\n      }\n      if (node2.prop[0] === \"_\" || node2.prop[0] === \"*\") {\n        node2.raws.before += node2.prop[0];\n        node2.prop = node2.prop.slice(1);\n      }\n      let firstSpaces = [];\n      let next;\n      while (tokens.length) {\n        next = tokens[0][0];\n        if (next !== \"space\" && next !== \"comment\") break;\n        firstSpaces.push(tokens.shift());\n      }\n      this.precheckMissedSemicolon(tokens);\n      for (let i2 = tokens.length - 1; i2 >= 0; i2--) {\n        token = tokens[i2];\n        if (token[1].toLowerCase() === \"!important\") {\n          node2.important = true;\n          let string = this.stringFrom(tokens, i2);\n          string = this.spacesFromEnd(tokens) + string;\n          if (string !== \" !important\") node2.raws.important = string;\n          break;\n        } else if (token[1].toLowerCase() === \"important\") {\n          let cache = tokens.slice(0);\n          let str = \"\";\n          for (let j = i2; j > 0; j--) {\n            let type = cache[j][0];\n            if (str.trim().startsWith(\"!\") && type !== \"space\") {\n              break;\n            }\n            str = cache.pop()[1] + str;\n          }\n          if (str.trim().startsWith(\"!\")) {\n            node2.important = true;\n            node2.raws.important = str;\n            tokens = cache;\n          }\n        }\n        if (token[0] !== \"space\" && token[0] !== \"comment\") {\n          break;\n        }\n      }\n      let hasWord = tokens.some((i2) => i2[0] !== \"space\" && i2[0] !== \"comment\");\n      if (hasWord) {\n        node2.raws.between += firstSpaces.map((i2) => i2[1]).join(\"\");\n        firstSpaces = [];\n      }\n      this.raw(node2, \"value\", firstSpaces.concat(tokens), customProperty);\n      if (node2.value.includes(\":\") && !customProperty) {\n        this.checkMissedSemicolon(tokens);\n      }\n    }\n    doubleColon(token) {\n      throw this.input.error(\n        \"Double colon\",\n        { offset: token[2] },\n        { offset: token[2] + token[1].length }\n      );\n    }\n    emptyRule(token) {\n      let node2 = new Rule();\n      this.init(node2, token[2]);\n      node2.selector = \"\";\n      node2.raws.between = \"\";\n      this.current = node2;\n    }\n    end(token) {\n      if (this.current.nodes && this.current.nodes.length) {\n        this.current.raws.semicolon = this.semicolon;\n      }\n      this.semicolon = false;\n      this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n      this.spaces = \"\";\n      if (this.current.parent) {\n        this.current.source.end = this.getPosition(token[2]);\n        this.current.source.end.offset++;\n        this.current = this.current.parent;\n      } else {\n        this.unexpectedClose(token);\n      }\n    }\n    endFile() {\n      if (this.current.parent) this.unclosedBlock();\n      if (this.current.nodes && this.current.nodes.length) {\n        this.current.raws.semicolon = this.semicolon;\n      }\n      this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n      this.root.source.end = this.getPosition(this.tokenizer.position());\n    }\n    freeSemicolon(token) {\n      this.spaces += token[1];\n      if (this.current.nodes) {\n        let prev = this.current.nodes[this.current.nodes.length - 1];\n        if (prev && prev.type === \"rule\" && !prev.raws.ownSemicolon) {\n          prev.raws.ownSemicolon = this.spaces;\n          this.spaces = \"\";\n        }\n      }\n    }\n    // Helpers\n    getPosition(offset) {\n      let pos = this.input.fromOffset(offset);\n      return {\n        column: pos.col,\n        line: pos.line,\n        offset\n      };\n    }\n    init(node2, offset) {\n      this.current.push(node2);\n      node2.source = {\n        input: this.input,\n        start: this.getPosition(offset)\n      };\n      node2.raws.before = this.spaces;\n      this.spaces = \"\";\n      if (node2.type !== \"comment\") this.semicolon = false;\n    }\n    other(start) {\n      let end = false;\n      let type = null;\n      let colon = false;\n      let bracket = null;\n      let brackets = [];\n      let customProperty = start[1].startsWith(\"--\");\n      let tokens = [];\n      let token = start;\n      while (token) {\n        type = token[0];\n        tokens.push(token);\n        if (type === \"(\" || type === \"[\") {\n          if (!bracket) bracket = token;\n          brackets.push(type === \"(\" ? \")\" : \"]\");\n        } else if (customProperty && colon && type === \"{\") {\n          if (!bracket) bracket = token;\n          brackets.push(\"}\");\n        } else if (brackets.length === 0) {\n          if (type === \";\") {\n            if (colon) {\n              this.decl(tokens, customProperty);\n              return;\n            } else {\n              break;\n            }\n          } else if (type === \"{\") {\n            this.rule(tokens);\n            return;\n          } else if (type === \"}\") {\n            this.tokenizer.back(tokens.pop());\n            end = true;\n            break;\n          } else if (type === \":\") {\n            colon = true;\n          }\n        } else if (type === brackets[brackets.length - 1]) {\n          brackets.pop();\n          if (brackets.length === 0) bracket = null;\n        }\n        token = this.tokenizer.nextToken();\n      }\n      if (this.tokenizer.endOfFile()) end = true;\n      if (brackets.length > 0) this.unclosedBracket(bracket);\n      if (end && colon) {\n        if (!customProperty) {\n          while (tokens.length) {\n            token = tokens[tokens.length - 1][0];\n            if (token !== \"space\" && token !== \"comment\") break;\n            this.tokenizer.back(tokens.pop());\n          }\n        }\n        this.decl(tokens, customProperty);\n      } else {\n        this.unknownWord(tokens);\n      }\n    }\n    parse() {\n      let token;\n      while (!this.tokenizer.endOfFile()) {\n        token = this.tokenizer.nextToken();\n        switch (token[0]) {\n          case \"space\":\n            this.spaces += token[1];\n            break;\n          case \";\":\n            this.freeSemicolon(token);\n            break;\n          case \"}\":\n            this.end(token);\n            break;\n          case \"comment\":\n            this.comment(token);\n            break;\n          case \"at-word\":\n            this.atrule(token);\n            break;\n          case \"{\":\n            this.emptyRule(token);\n            break;\n          default:\n            this.other(token);\n            break;\n        }\n      }\n      this.endFile();\n    }\n    precheckMissedSemicolon() {\n    }\n    raw(node2, prop, tokens, customProperty) {\n      let token, type;\n      let length = tokens.length;\n      let value = \"\";\n      let clean = true;\n      let next, prev;\n      for (let i2 = 0; i2 < length; i2 += 1) {\n        token = tokens[i2];\n        type = token[0];\n        if (type === \"space\" && i2 === length - 1 && !customProperty) {\n          clean = false;\n        } else if (type === \"comment\") {\n          prev = tokens[i2 - 1] ? tokens[i2 - 1][0] : \"empty\";\n          next = tokens[i2 + 1] ? tokens[i2 + 1][0] : \"empty\";\n          if (!SAFE_COMMENT_NEIGHBOR[prev] && !SAFE_COMMENT_NEIGHBOR[next]) {\n            if (value.slice(-1) === \",\") {\n              clean = false;\n            } else {\n              value += token[1];\n            }\n          } else {\n            clean = false;\n          }\n        } else {\n          value += token[1];\n        }\n      }\n      if (!clean) {\n        let raw = tokens.reduce((all, i2) => all + i2[1], \"\");\n        node2.raws[prop] = { raw, value };\n      }\n      node2[prop] = value;\n    }\n    rule(tokens) {\n      tokens.pop();\n      let node2 = new Rule();\n      this.init(node2, tokens[0][2]);\n      node2.raws.between = this.spacesAndCommentsFromEnd(tokens);\n      this.raw(node2, \"selector\", tokens);\n      this.current = node2;\n    }\n    spacesAndCommentsFromEnd(tokens) {\n      let lastTokenType;\n      let spaces = \"\";\n      while (tokens.length) {\n        lastTokenType = tokens[tokens.length - 1][0];\n        if (lastTokenType !== \"space\" && lastTokenType !== \"comment\") break;\n        spaces = tokens.pop()[1] + spaces;\n      }\n      return spaces;\n    }\n    // Errors\n    spacesAndCommentsFromStart(tokens) {\n      let next;\n      let spaces = \"\";\n      while (tokens.length) {\n        next = tokens[0][0];\n        if (next !== \"space\" && next !== \"comment\") break;\n        spaces += tokens.shift()[1];\n      }\n      return spaces;\n    }\n    spacesFromEnd(tokens) {\n      let lastTokenType;\n      let spaces = \"\";\n      while (tokens.length) {\n        lastTokenType = tokens[tokens.length - 1][0];\n        if (lastTokenType !== \"space\") break;\n        spaces = tokens.pop()[1] + spaces;\n      }\n      return spaces;\n    }\n    stringFrom(tokens, from) {\n      let result2 = \"\";\n      for (let i2 = from; i2 < tokens.length; i2++) {\n        result2 += tokens[i2][1];\n      }\n      tokens.splice(from, tokens.length - from);\n      return result2;\n    }\n    unclosedBlock() {\n      let pos = this.current.source.start;\n      throw this.input.error(\"Unclosed block\", pos.line, pos.column);\n    }\n    unclosedBracket(bracket) {\n      throw this.input.error(\n        \"Unclosed bracket\",\n        { offset: bracket[2] },\n        { offset: bracket[2] + 1 }\n      );\n    }\n    unexpectedClose(token) {\n      throw this.input.error(\n        \"Unexpected }\",\n        { offset: token[2] },\n        { offset: token[2] + 1 }\n      );\n    }\n    unknownWord(tokens) {\n      throw this.input.error(\n        \"Unknown word\",\n        { offset: tokens[0][2] },\n        { offset: tokens[0][2] + tokens[0][1].length }\n      );\n    }\n    unnamedAtrule(node2, token) {\n      throw this.input.error(\n        \"At-rule without name\",\n        { offset: token[2] },\n        { offset: token[2] + token[1].length }\n      );\n    }\n  }\n  parser = Parser;\n  return parser;\n}\nvar parse_1;\nvar hasRequiredParse;\nfunction requireParse() {\n  if (hasRequiredParse) return parse_1;\n  hasRequiredParse = 1;\n  let Container = requireContainer();\n  let Input = requireInput();\n  let Parser = requireParser();\n  function parse(css, opts) {\n    let input2 = new Input(css, opts);\n    let parser2 = new Parser(input2);\n    try {\n      parser2.parse();\n    } catch (e2) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (e2.name === \"CssSyntaxError\" && opts && opts.from) {\n          if (/\\.scss$/i.test(opts.from)) {\n            e2.message += \"\\nYou tried to parse SCSS with the standard CSS parser; try again with the postcss-scss parser\";\n          } else if (/\\.sass/i.test(opts.from)) {\n            e2.message += \"\\nYou tried to parse Sass with the standard CSS parser; try again with the postcss-sass parser\";\n          } else if (/\\.less$/i.test(opts.from)) {\n            e2.message += \"\\nYou tried to parse Less with the standard CSS parser; try again with the postcss-less parser\";\n          }\n        }\n      }\n      throw e2;\n    }\n    return parser2.root;\n  }\n  parse_1 = parse;\n  parse.default = parse;\n  Container.registerParse(parse);\n  return parse_1;\n}\nvar warning;\nvar hasRequiredWarning;\nfunction requireWarning() {\n  if (hasRequiredWarning) return warning;\n  hasRequiredWarning = 1;\n  class Warning {\n    constructor(text, opts = {}) {\n      this.type = \"warning\";\n      this.text = text;\n      if (opts.node && opts.node.source) {\n        let range = opts.node.rangeBy(opts);\n        this.line = range.start.line;\n        this.column = range.start.column;\n        this.endLine = range.end.line;\n        this.endColumn = range.end.column;\n      }\n      for (let opt in opts) this[opt] = opts[opt];\n    }\n    toString() {\n      if (this.node) {\n        return this.node.error(this.text, {\n          index: this.index,\n          plugin: this.plugin,\n          word: this.word\n        }).message;\n      }\n      if (this.plugin) {\n        return this.plugin + \": \" + this.text;\n      }\n      return this.text;\n    }\n  }\n  warning = Warning;\n  Warning.default = Warning;\n  return warning;\n}\nvar result;\nvar hasRequiredResult;\nfunction requireResult() {\n  if (hasRequiredResult) return result;\n  hasRequiredResult = 1;\n  let Warning = requireWarning();\n  class Result {\n    constructor(processor2, root2, opts) {\n      this.processor = processor2;\n      this.messages = [];\n      this.root = root2;\n      this.opts = opts;\n      this.css = void 0;\n      this.map = void 0;\n    }\n    toString() {\n      return this.css;\n    }\n    warn(text, opts = {}) {\n      if (!opts.plugin) {\n        if (this.lastPlugin && this.lastPlugin.postcssPlugin) {\n          opts.plugin = this.lastPlugin.postcssPlugin;\n        }\n      }\n      let warning2 = new Warning(text, opts);\n      this.messages.push(warning2);\n      return warning2;\n    }\n    warnings() {\n      return this.messages.filter((i2) => i2.type === \"warning\");\n    }\n    get content() {\n      return this.css;\n    }\n  }\n  result = Result;\n  Result.default = Result;\n  return result;\n}\nvar warnOnce;\nvar hasRequiredWarnOnce;\nfunction requireWarnOnce() {\n  if (hasRequiredWarnOnce) return warnOnce;\n  hasRequiredWarnOnce = 1;\n  let printed = {};\n  warnOnce = function warnOnce2(message) {\n    if (printed[message]) return;\n    printed[message] = true;\n    if (typeof console !== \"undefined\" && console.warn) {\n      console.warn(message);\n    }\n  };\n  return warnOnce;\n}\nvar lazyResult;\nvar hasRequiredLazyResult;\nfunction requireLazyResult() {\n  if (hasRequiredLazyResult) return lazyResult;\n  hasRequiredLazyResult = 1;\n  let Container = requireContainer();\n  let Document2 = requireDocument();\n  let MapGenerator = requireMapGenerator();\n  let parse = requireParse();\n  let Result = requireResult();\n  let Root = requireRoot();\n  let stringify = requireStringify();\n  let { isClean, my } = requireSymbols();\n  let warnOnce2 = requireWarnOnce();\n  const TYPE_TO_CLASS_NAME = {\n    atrule: \"AtRule\",\n    comment: \"Comment\",\n    decl: \"Declaration\",\n    document: \"Document\",\n    root: \"Root\",\n    rule: \"Rule\"\n  };\n  const PLUGIN_PROPS = {\n    AtRule: true,\n    AtRuleExit: true,\n    Comment: true,\n    CommentExit: true,\n    Declaration: true,\n    DeclarationExit: true,\n    Document: true,\n    DocumentExit: true,\n    Once: true,\n    OnceExit: true,\n    postcssPlugin: true,\n    prepare: true,\n    Root: true,\n    RootExit: true,\n    Rule: true,\n    RuleExit: true\n  };\n  const NOT_VISITORS = {\n    Once: true,\n    postcssPlugin: true,\n    prepare: true\n  };\n  const CHILDREN = 0;\n  function isPromise(obj) {\n    return typeof obj === \"object\" && typeof obj.then === \"function\";\n  }\n  function getEvents(node2) {\n    let key = false;\n    let type = TYPE_TO_CLASS_NAME[node2.type];\n    if (node2.type === \"decl\") {\n      key = node2.prop.toLowerCase();\n    } else if (node2.type === \"atrule\") {\n      key = node2.name.toLowerCase();\n    }\n    if (key && node2.append) {\n      return [\n        type,\n        type + \"-\" + key,\n        CHILDREN,\n        type + \"Exit\",\n        type + \"Exit-\" + key\n      ];\n    } else if (key) {\n      return [type, type + \"-\" + key, type + \"Exit\", type + \"Exit-\" + key];\n    } else if (node2.append) {\n      return [type, CHILDREN, type + \"Exit\"];\n    } else {\n      return [type, type + \"Exit\"];\n    }\n  }\n  function toStack(node2) {\n    let events;\n    if (node2.type === \"document\") {\n      events = [\"Document\", CHILDREN, \"DocumentExit\"];\n    } else if (node2.type === \"root\") {\n      events = [\"Root\", CHILDREN, \"RootExit\"];\n    } else {\n      events = getEvents(node2);\n    }\n    return {\n      eventIndex: 0,\n      events,\n      iterator: 0,\n      node: node2,\n      visitorIndex: 0,\n      visitors: []\n    };\n  }\n  function cleanMarks(node2) {\n    node2[isClean] = false;\n    if (node2.nodes) node2.nodes.forEach((i2) => cleanMarks(i2));\n    return node2;\n  }\n  let postcss2 = {};\n  class LazyResult {\n    constructor(processor2, css, opts) {\n      this.stringified = false;\n      this.processed = false;\n      let root2;\n      if (typeof css === \"object\" && css !== null && (css.type === \"root\" || css.type === \"document\")) {\n        root2 = cleanMarks(css);\n      } else if (css instanceof LazyResult || css instanceof Result) {\n        root2 = cleanMarks(css.root);\n        if (css.map) {\n          if (typeof opts.map === \"undefined\") opts.map = {};\n          if (!opts.map.inline) opts.map.inline = false;\n          opts.map.prev = css.map;\n        }\n      } else {\n        let parser2 = parse;\n        if (opts.syntax) parser2 = opts.syntax.parse;\n        if (opts.parser) parser2 = opts.parser;\n        if (parser2.parse) parser2 = parser2.parse;\n        try {\n          root2 = parser2(css, opts);\n        } catch (error) {\n          this.processed = true;\n          this.error = error;\n        }\n        if (root2 && !root2[my]) {\n          Container.rebuild(root2);\n        }\n      }\n      this.result = new Result(processor2, root2, opts);\n      this.helpers = { ...postcss2, postcss: postcss2, result: this.result };\n      this.plugins = this.processor.plugins.map((plugin) => {\n        if (typeof plugin === \"object\" && plugin.prepare) {\n          return { ...plugin, ...plugin.prepare(this.result) };\n        } else {\n          return plugin;\n        }\n      });\n    }\n    async() {\n      if (this.error) return Promise.reject(this.error);\n      if (this.processed) return Promise.resolve(this.result);\n      if (!this.processing) {\n        this.processing = this.runAsync();\n      }\n      return this.processing;\n    }\n    catch(onRejected) {\n      return this.async().catch(onRejected);\n    }\n    finally(onFinally) {\n      return this.async().then(onFinally, onFinally);\n    }\n    getAsyncError() {\n      throw new Error(\"Use process(css).then(cb) to work with async plugins\");\n    }\n    handleError(error, node2) {\n      let plugin = this.result.lastPlugin;\n      try {\n        if (node2) node2.addToError(error);\n        this.error = error;\n        if (error.name === \"CssSyntaxError\" && !error.plugin) {\n          error.plugin = plugin.postcssPlugin;\n          error.setMessage();\n        } else if (plugin.postcssVersion) {\n          if (process.env.NODE_ENV !== \"production\") {\n            let pluginName = plugin.postcssPlugin;\n            let pluginVer = plugin.postcssVersion;\n            let runtimeVer = this.result.processor.version;\n            let a2 = pluginVer.split(\".\");\n            let b = runtimeVer.split(\".\");\n            if (a2[0] !== b[0] || parseInt(a2[1]) > parseInt(b[1])) {\n              console.error(\n                \"Unknown error from PostCSS plugin. Your current PostCSS version is \" + runtimeVer + \", but \" + pluginName + \" uses \" + pluginVer + \". Perhaps this is the source of the error below.\"\n              );\n            }\n          }\n        }\n      } catch (err) {\n        if (console && console.error) console.error(err);\n      }\n      return error;\n    }\n    prepareVisitors() {\n      this.listeners = {};\n      let add = (plugin, type, cb) => {\n        if (!this.listeners[type]) this.listeners[type] = [];\n        this.listeners[type].push([plugin, cb]);\n      };\n      for (let plugin of this.plugins) {\n        if (typeof plugin === \"object\") {\n          for (let event in plugin) {\n            if (!PLUGIN_PROPS[event] && /^[A-Z]/.test(event)) {\n              throw new Error(\n                `Unknown event ${event} in ${plugin.postcssPlugin}. Try to update PostCSS (${this.processor.version} now).`\n              );\n            }\n            if (!NOT_VISITORS[event]) {\n              if (typeof plugin[event] === \"object\") {\n                for (let filter in plugin[event]) {\n                  if (filter === \"*\") {\n                    add(plugin, event, plugin[event][filter]);\n                  } else {\n                    add(\n                      plugin,\n                      event + \"-\" + filter.toLowerCase(),\n                      plugin[event][filter]\n                    );\n                  }\n                }\n              } else if (typeof plugin[event] === \"function\") {\n                add(plugin, event, plugin[event]);\n              }\n            }\n          }\n        }\n      }\n      this.hasListener = Object.keys(this.listeners).length > 0;\n    }\n    async runAsync() {\n      this.plugin = 0;\n      for (let i2 = 0; i2 < this.plugins.length; i2++) {\n        let plugin = this.plugins[i2];\n        let promise = this.runOnRoot(plugin);\n        if (isPromise(promise)) {\n          try {\n            await promise;\n          } catch (error) {\n            throw this.handleError(error);\n          }\n        }\n      }\n      this.prepareVisitors();\n      if (this.hasListener) {\n        let root2 = this.result.root;\n        while (!root2[isClean]) {\n          root2[isClean] = true;\n          let stack = [toStack(root2)];\n          while (stack.length > 0) {\n            let promise = this.visitTick(stack);\n            if (isPromise(promise)) {\n              try {\n                await promise;\n              } catch (e2) {\n                let node2 = stack[stack.length - 1].node;\n                throw this.handleError(e2, node2);\n              }\n            }\n          }\n        }\n        if (this.listeners.OnceExit) {\n          for (let [plugin, visitor] of this.listeners.OnceExit) {\n            this.result.lastPlugin = plugin;\n            try {\n              if (root2.type === \"document\") {\n                let roots = root2.nodes.map(\n                  (subRoot) => visitor(subRoot, this.helpers)\n                );\n                await Promise.all(roots);\n              } else {\n                await visitor(root2, this.helpers);\n              }\n            } catch (e2) {\n              throw this.handleError(e2);\n            }\n          }\n        }\n      }\n      this.processed = true;\n      return this.stringify();\n    }\n    runOnRoot(plugin) {\n      this.result.lastPlugin = plugin;\n      try {\n        if (typeof plugin === \"object\" && plugin.Once) {\n          if (this.result.root.type === \"document\") {\n            let roots = this.result.root.nodes.map(\n              (root2) => plugin.Once(root2, this.helpers)\n            );\n            if (isPromise(roots[0])) {\n              return Promise.all(roots);\n            }\n            return roots;\n          }\n          return plugin.Once(this.result.root, this.helpers);\n        } else if (typeof plugin === \"function\") {\n          return plugin(this.result.root, this.result);\n        }\n      } catch (error) {\n        throw this.handleError(error);\n      }\n    }\n    stringify() {\n      if (this.error) throw this.error;\n      if (this.stringified) return this.result;\n      this.stringified = true;\n      this.sync();\n      let opts = this.result.opts;\n      let str = stringify;\n      if (opts.syntax) str = opts.syntax.stringify;\n      if (opts.stringifier) str = opts.stringifier;\n      if (str.stringify) str = str.stringify;\n      let map = new MapGenerator(str, this.result.root, this.result.opts);\n      let data = map.generate();\n      this.result.css = data[0];\n      this.result.map = data[1];\n      return this.result;\n    }\n    sync() {\n      if (this.error) throw this.error;\n      if (this.processed) return this.result;\n      this.processed = true;\n      if (this.processing) {\n        throw this.getAsyncError();\n      }\n      for (let plugin of this.plugins) {\n        let promise = this.runOnRoot(plugin);\n        if (isPromise(promise)) {\n          throw this.getAsyncError();\n        }\n      }\n      this.prepareVisitors();\n      if (this.hasListener) {\n        let root2 = this.result.root;\n        while (!root2[isClean]) {\n          root2[isClean] = true;\n          this.walkSync(root2);\n        }\n        if (this.listeners.OnceExit) {\n          if (root2.type === \"document\") {\n            for (let subRoot of root2.nodes) {\n              this.visitSync(this.listeners.OnceExit, subRoot);\n            }\n          } else {\n            this.visitSync(this.listeners.OnceExit, root2);\n          }\n        }\n      }\n      return this.result;\n    }\n    then(onFulfilled, onRejected) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!(\"from\" in this.opts)) {\n          warnOnce2(\n            \"Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.\"\n          );\n        }\n      }\n      return this.async().then(onFulfilled, onRejected);\n    }\n    toString() {\n      return this.css;\n    }\n    visitSync(visitors, node2) {\n      for (let [plugin, visitor] of visitors) {\n        this.result.lastPlugin = plugin;\n        let promise;\n        try {\n          promise = visitor(node2, this.helpers);\n        } catch (e2) {\n          throw this.handleError(e2, node2.proxyOf);\n        }\n        if (node2.type !== \"root\" && node2.type !== \"document\" && !node2.parent) {\n          return true;\n        }\n        if (isPromise(promise)) {\n          throw this.getAsyncError();\n        }\n      }\n    }\n    visitTick(stack) {\n      let visit2 = stack[stack.length - 1];\n      let { node: node2, visitors } = visit2;\n      if (node2.type !== \"root\" && node2.type !== \"document\" && !node2.parent) {\n        stack.pop();\n        return;\n      }\n      if (visitors.length > 0 && visit2.visitorIndex < visitors.length) {\n        let [plugin, visitor] = visitors[visit2.visitorIndex];\n        visit2.visitorIndex += 1;\n        if (visit2.visitorIndex === visitors.length) {\n          visit2.visitors = [];\n          visit2.visitorIndex = 0;\n        }\n        this.result.lastPlugin = plugin;\n        try {\n          return visitor(node2.toProxy(), this.helpers);\n        } catch (e2) {\n          throw this.handleError(e2, node2);\n        }\n      }\n      if (visit2.iterator !== 0) {\n        let iterator = visit2.iterator;\n        let child;\n        while (child = node2.nodes[node2.indexes[iterator]]) {\n          node2.indexes[iterator] += 1;\n          if (!child[isClean]) {\n            child[isClean] = true;\n            stack.push(toStack(child));\n            return;\n          }\n        }\n        visit2.iterator = 0;\n        delete node2.indexes[iterator];\n      }\n      let events = visit2.events;\n      while (visit2.eventIndex < events.length) {\n        let event = events[visit2.eventIndex];\n        visit2.eventIndex += 1;\n        if (event === CHILDREN) {\n          if (node2.nodes && node2.nodes.length) {\n            node2[isClean] = true;\n            visit2.iterator = node2.getIterator();\n          }\n          return;\n        } else if (this.listeners[event]) {\n          visit2.visitors = this.listeners[event];\n          return;\n        }\n      }\n      stack.pop();\n    }\n    walkSync(node2) {\n      node2[isClean] = true;\n      let events = getEvents(node2);\n      for (let event of events) {\n        if (event === CHILDREN) {\n          if (node2.nodes) {\n            node2.each((child) => {\n              if (!child[isClean]) this.walkSync(child);\n            });\n          }\n        } else {\n          let visitors = this.listeners[event];\n          if (visitors) {\n            if (this.visitSync(visitors, node2.toProxy())) return;\n          }\n        }\n      }\n    }\n    warnings() {\n      return this.sync().warnings();\n    }\n    get content() {\n      return this.stringify().content;\n    }\n    get css() {\n      return this.stringify().css;\n    }\n    get map() {\n      return this.stringify().map;\n    }\n    get messages() {\n      return this.sync().messages;\n    }\n    get opts() {\n      return this.result.opts;\n    }\n    get processor() {\n      return this.result.processor;\n    }\n    get root() {\n      return this.sync().root;\n    }\n    get [Symbol.toStringTag]() {\n      return \"LazyResult\";\n    }\n  }\n  LazyResult.registerPostcss = (dependant) => {\n    postcss2 = dependant;\n  };\n  lazyResult = LazyResult;\n  LazyResult.default = LazyResult;\n  Root.registerLazyResult(LazyResult);\n  Document2.registerLazyResult(LazyResult);\n  return lazyResult;\n}\nvar noWorkResult;\nvar hasRequiredNoWorkResult;\nfunction requireNoWorkResult() {\n  if (hasRequiredNoWorkResult) return noWorkResult;\n  hasRequiredNoWorkResult = 1;\n  let MapGenerator = requireMapGenerator();\n  let parse = requireParse();\n  const Result = requireResult();\n  let stringify = requireStringify();\n  let warnOnce2 = requireWarnOnce();\n  class NoWorkResult {\n    constructor(processor2, css, opts) {\n      css = css.toString();\n      this.stringified = false;\n      this._processor = processor2;\n      this._css = css;\n      this._opts = opts;\n      this._map = void 0;\n      let root2;\n      let str = stringify;\n      this.result = new Result(this._processor, root2, this._opts);\n      this.result.css = css;\n      let self2 = this;\n      Object.defineProperty(this.result, \"root\", {\n        get() {\n          return self2.root;\n        }\n      });\n      let map = new MapGenerator(str, root2, this._opts, css);\n      if (map.isMap()) {\n        let [generatedCSS, generatedMap] = map.generate();\n        if (generatedCSS) {\n          this.result.css = generatedCSS;\n        }\n        if (generatedMap) {\n          this.result.map = generatedMap;\n        }\n      } else {\n        map.clearAnnotation();\n        this.result.css = map.css;\n      }\n    }\n    async() {\n      if (this.error) return Promise.reject(this.error);\n      return Promise.resolve(this.result);\n    }\n    catch(onRejected) {\n      return this.async().catch(onRejected);\n    }\n    finally(onFinally) {\n      return this.async().then(onFinally, onFinally);\n    }\n    sync() {\n      if (this.error) throw this.error;\n      return this.result;\n    }\n    then(onFulfilled, onRejected) {\n      if (process.env.NODE_ENV !== \"production\") {\n        if (!(\"from\" in this._opts)) {\n          warnOnce2(\n            \"Without `from` option PostCSS could generate wrong source map and will not find Browserslist config. Set it to CSS file path or to `undefined` to prevent this warning.\"\n          );\n        }\n      }\n      return this.async().then(onFulfilled, onRejected);\n    }\n    toString() {\n      return this._css;\n    }\n    warnings() {\n      return [];\n    }\n    get content() {\n      return this.result.css;\n    }\n    get css() {\n      return this.result.css;\n    }\n    get map() {\n      return this.result.map;\n    }\n    get messages() {\n      return [];\n    }\n    get opts() {\n      return this.result.opts;\n    }\n    get processor() {\n      return this.result.processor;\n    }\n    get root() {\n      if (this._root) {\n        return this._root;\n      }\n      let root2;\n      let parser2 = parse;\n      try {\n        root2 = parser2(this._css, this._opts);\n      } catch (error) {\n        this.error = error;\n      }\n      if (this.error) {\n        throw this.error;\n      } else {\n        this._root = root2;\n        return root2;\n      }\n    }\n    get [Symbol.toStringTag]() {\n      return \"NoWorkResult\";\n    }\n  }\n  noWorkResult = NoWorkResult;\n  NoWorkResult.default = NoWorkResult;\n  return noWorkResult;\n}\nvar processor;\nvar hasRequiredProcessor;\nfunction requireProcessor() {\n  if (hasRequiredProcessor) return processor;\n  hasRequiredProcessor = 1;\n  let Document2 = requireDocument();\n  let LazyResult = requireLazyResult();\n  let NoWorkResult = requireNoWorkResult();\n  let Root = requireRoot();\n  class Processor {\n    constructor(plugins = []) {\n      this.version = \"8.5.1\";\n      this.plugins = this.normalize(plugins);\n    }\n    normalize(plugins) {\n      let normalized = [];\n      for (let i2 of plugins) {\n        if (i2.postcss === true) {\n          i2 = i2();\n        } else if (i2.postcss) {\n          i2 = i2.postcss;\n        }\n        if (typeof i2 === \"object\" && Array.isArray(i2.plugins)) {\n          normalized = normalized.concat(i2.plugins);\n        } else if (typeof i2 === \"object\" && i2.postcssPlugin) {\n          normalized.push(i2);\n        } else if (typeof i2 === \"function\") {\n          normalized.push(i2);\n        } else if (typeof i2 === \"object\" && (i2.parse || i2.stringify)) {\n          if (process.env.NODE_ENV !== \"production\") {\n            throw new Error(\n              \"PostCSS syntaxes cannot be used as plugins. Instead, please use one of the syntax/parser/stringifier options as outlined in your PostCSS runner documentation.\"\n            );\n          }\n        } else {\n          throw new Error(i2 + \" is not a PostCSS plugin\");\n        }\n      }\n      return normalized;\n    }\n    process(css, opts = {}) {\n      if (!this.plugins.length && !opts.parser && !opts.stringifier && !opts.syntax) {\n        return new NoWorkResult(this, css, opts);\n      } else {\n        return new LazyResult(this, css, opts);\n      }\n    }\n    use(plugin) {\n      this.plugins = this.plugins.concat(this.normalize([plugin]));\n      return this;\n    }\n  }\n  processor = Processor;\n  Processor.default = Processor;\n  Root.registerProcessor(Processor);\n  Document2.registerProcessor(Processor);\n  return processor;\n}\nvar postcss_1;\nvar hasRequiredPostcss;\nfunction requirePostcss() {\n  if (hasRequiredPostcss) return postcss_1;\n  hasRequiredPostcss = 1;\n  let AtRule = requireAtRule();\n  let Comment = requireComment();\n  let Container = requireContainer();\n  let CssSyntaxError = requireCssSyntaxError();\n  let Declaration = requireDeclaration();\n  let Document2 = requireDocument();\n  let fromJSON = requireFromJSON();\n  let Input = requireInput();\n  let LazyResult = requireLazyResult();\n  let list = requireList();\n  let Node2 = requireNode();\n  let parse = requireParse();\n  let Processor = requireProcessor();\n  let Result = requireResult();\n  let Root = requireRoot();\n  let Rule = requireRule();\n  let stringify = requireStringify();\n  let Warning = requireWarning();\n  function postcss2(...plugins) {\n    if (plugins.length === 1 && Array.isArray(plugins[0])) {\n      plugins = plugins[0];\n    }\n    return new Processor(plugins);\n  }\n  postcss2.plugin = function plugin(name, initializer) {\n    let warningPrinted = false;\n    function creator(...args) {\n      if (console && console.warn && !warningPrinted) {\n        warningPrinted = true;\n        console.warn(\n          name + \": postcss.plugin was deprecated. Migration guide:\\nhttps://evilmartians.com/chronicles/postcss-8-plugin-migration\"\n        );\n        if (process.env.LANG && process.env.LANG.startsWith(\"cn\")) {\n          console.warn(\n            name + \": 里面 postcss.plugin 被弃用. 迁移指南:\\nhttps://www.w3ctech.com/topic/2226\"\n          );\n        }\n      }\n      let transformer = initializer(...args);\n      transformer.postcssPlugin = name;\n      transformer.postcssVersion = new Processor().version;\n      return transformer;\n    }\n    let cache;\n    Object.defineProperty(creator, \"postcss\", {\n      get() {\n        if (!cache) cache = creator();\n        return cache;\n      }\n    });\n    creator.process = function(css, processOpts, pluginOpts) {\n      return postcss2([creator(pluginOpts)]).process(css, processOpts);\n    };\n    return creator;\n  };\n  postcss2.stringify = stringify;\n  postcss2.parse = parse;\n  postcss2.fromJSON = fromJSON;\n  postcss2.list = list;\n  postcss2.comment = (defaults) => new Comment(defaults);\n  postcss2.atRule = (defaults) => new AtRule(defaults);\n  postcss2.decl = (defaults) => new Declaration(defaults);\n  postcss2.rule = (defaults) => new Rule(defaults);\n  postcss2.root = (defaults) => new Root(defaults);\n  postcss2.document = (defaults) => new Document2(defaults);\n  postcss2.CssSyntaxError = CssSyntaxError;\n  postcss2.Declaration = Declaration;\n  postcss2.Container = Container;\n  postcss2.Processor = Processor;\n  postcss2.Document = Document2;\n  postcss2.Comment = Comment;\n  postcss2.Warning = Warning;\n  postcss2.AtRule = AtRule;\n  postcss2.Result = Result;\n  postcss2.Input = Input;\n  postcss2.Rule = Rule;\n  postcss2.Root = Root;\n  postcss2.Node = Node2;\n  LazyResult.registerPostcss(postcss2);\n  postcss_1 = postcss2;\n  postcss2.default = postcss2;\n  return postcss_1;\n}\nvar safeParser$1;\nvar hasRequiredSafeParser;\nfunction requireSafeParser() {\n  if (hasRequiredSafeParser) return safeParser$1;\n  hasRequiredSafeParser = 1;\n  let Comment = requireComment();\n  let Parser = requireParser();\n  let tokenizer = requireTokenize();\n  class SafeParser extends Parser {\n    checkMissedSemicolon() {\n    }\n    comment(token) {\n      let node2 = new Comment();\n      this.init(node2, token[2]);\n      let pos = this.input.fromOffset(token[3]) || this.input.fromOffset(this.input.css.length - 1);\n      node2.source.end = {\n        column: pos.col,\n        line: pos.line,\n        offset: token[3] + 1\n      };\n      let text = token[1].slice(2);\n      if (text.slice(-2) === \"*/\") text = text.slice(0, -2);\n      if (/^\\s*$/.test(text)) {\n        node2.text = \"\";\n        node2.raws.left = text;\n        node2.raws.right = \"\";\n      } else {\n        let match = text.match(/^(\\s*)([^]*\\S)(\\s*)$/);\n        node2.text = match[2];\n        node2.raws.left = match[1];\n        node2.raws.right = match[3];\n      }\n    }\n    createTokenizer() {\n      this.tokenizer = tokenizer(this.input, { ignoreErrors: true });\n    }\n    decl(tokens) {\n      if (tokens.length > 1 && tokens.some((i2) => i2[0] === \"word\")) {\n        super.decl(tokens);\n      }\n    }\n    doubleColon() {\n    }\n    endFile() {\n      if (this.current.nodes && this.current.nodes.length) {\n        this.current.raws.semicolon = this.semicolon;\n      }\n      this.current.raws.after = (this.current.raws.after || \"\") + this.spaces;\n      while (this.current.parent) {\n        this.current = this.current.parent;\n        this.current.raws.after = \"\";\n      }\n      this.root.source.end = this.getPosition(this.tokenizer.position());\n    }\n    precheckMissedSemicolon(tokens) {\n      let colon = this.colon(tokens);\n      if (colon === false) return;\n      let nextStart, prevEnd;\n      for (nextStart = colon - 1; nextStart >= 0; nextStart--) {\n        if (tokens[nextStart][0] === \"word\") break;\n      }\n      if (nextStart === 0 || nextStart < 0) return;\n      for (prevEnd = nextStart - 1; prevEnd >= 0; prevEnd--) {\n        if (tokens[prevEnd][0] !== \"space\") {\n          prevEnd += 1;\n          break;\n        }\n      }\n      let other = tokens.slice(nextStart);\n      let spaces = tokens.slice(prevEnd, nextStart);\n      tokens.splice(prevEnd, tokens.length - prevEnd);\n      this.spaces = spaces.map((i2) => i2[1]).join(\"\");\n      this.decl(other);\n    }\n    unclosedBracket() {\n    }\n    unexpectedClose() {\n      this.current.raws.after += \"}\";\n    }\n    unknownWord(tokens) {\n      this.spaces += tokens.map((i2) => i2[1]).join(\"\");\n    }\n    unnamedAtrule(node2) {\n      node2.name = \"\";\n    }\n  }\n  safeParser$1 = SafeParser;\n  return safeParser$1;\n}\nvar safeParse;\nvar hasRequiredSafeParse;\nfunction requireSafeParse() {\n  if (hasRequiredSafeParse) return safeParse;\n  hasRequiredSafeParse = 1;\n  let { Input } = requirePostcss();\n  let SafeParser = requireSafeParser();\n  safeParse = function safeParse2(css, opts) {\n    let input2 = new Input(css, opts);\n    let parser2 = new SafeParser(input2);\n    parser2.parse();\n    return parser2.root;\n  };\n  return safeParse;\n}\nrequireSafeParse();\nvar postcssExports = requirePostcss();\nconst postcss = /* @__PURE__ */ getDefaultExportFromCjs(postcssExports);\npostcss.stringify;\npostcss.fromJSON;\npostcss.plugin;\npostcss.parse;\npostcss.list;\npostcss.document;\npostcss.comment;\npostcss.atRule;\npostcss.rule;\npostcss.decl;\npostcss.root;\npostcss.CssSyntaxError;\npostcss.Declaration;\npostcss.Container;\npostcss.Processor;\npostcss.Document;\npostcss.Comment;\npostcss.Warning;\npostcss.AtRule;\npostcss.Result;\npostcss.Input;\npostcss.Rule;\npostcss.Root;\npostcss.Node;\nclass BaseRRNode {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars, @typescript-eslint/no-explicit-any\n  constructor(..._args) {\n    __publicField2(this, \"parentElement\", null);\n    __publicField2(this, \"parentNode\", null);\n    __publicField2(this, \"ownerDocument\");\n    __publicField2(this, \"firstChild\", null);\n    __publicField2(this, \"lastChild\", null);\n    __publicField2(this, \"previousSibling\", null);\n    __publicField2(this, \"nextSibling\", null);\n    __publicField2(this, \"ELEMENT_NODE\", 1);\n    __publicField2(this, \"TEXT_NODE\", 3);\n    __publicField2(this, \"nodeType\");\n    __publicField2(this, \"nodeName\");\n    __publicField2(this, \"RRNodeType\");\n  }\n  get childNodes() {\n    const childNodes2 = [];\n    let childIterator = this.firstChild;\n    while (childIterator) {\n      childNodes2.push(childIterator);\n      childIterator = childIterator.nextSibling;\n    }\n    return childNodes2;\n  }\n  contains(node2) {\n    if (!(node2 instanceof BaseRRNode)) return false;\n    else if (node2.ownerDocument !== this.ownerDocument) return false;\n    else if (node2 === this) return true;\n    while (node2.parentNode) {\n      if (node2.parentNode === this) return true;\n      node2 = node2.parentNode;\n    }\n    return false;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  appendChild(_newChild) {\n    throw new Error(\n      `RRDomException: Failed to execute 'appendChild' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  insertBefore(_newChild, _refChild) {\n    throw new Error(\n      `RRDomException: Failed to execute 'insertBefore' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  removeChild(_node) {\n    throw new Error(\n      `RRDomException: Failed to execute 'removeChild' on 'RRNode': This RRNode type does not support this method.`\n    );\n  }\n  toString() {\n    return \"RRNode\";\n  }\n}\nconst testableAccessors = {\n  Node: [\"childNodes\", \"parentNode\", \"parentElement\", \"textContent\"],\n  ShadowRoot: [\"host\", \"styleSheets\"],\n  Element: [\"shadowRoot\", \"querySelector\", \"querySelectorAll\"],\n  MutationObserver: []\n};\nconst testableMethods = {\n  Node: [\"contains\", \"getRootNode\"],\n  ShadowRoot: [\"getSelection\"],\n  Element: [],\n  MutationObserver: [\"constructor\"]\n};\nconst untaintedBasePrototype = {};\nfunction angularZoneUnpatchedAlternative(key) {\n  var _a2, _b;\n  const angularUnpatchedVersionSymbol = (_b = (_a2 = globalThis == null ? void 0 : globalThis.Zone) == null ? void 0 : _a2.__symbol__) == null ? void 0 : _b.call(_a2, key);\n  if (angularUnpatchedVersionSymbol && globalThis[angularUnpatchedVersionSymbol]) {\n    return globalThis[angularUnpatchedVersionSymbol];\n  } else {\n    return void 0;\n  }\n}\nfunction getUntaintedPrototype(key) {\n  if (untaintedBasePrototype[key])\n    return untaintedBasePrototype[key];\n  const candidate = angularZoneUnpatchedAlternative(key) || globalThis[key];\n  const defaultPrototype = candidate.prototype;\n  const accessorNames = key in testableAccessors ? testableAccessors[key] : void 0;\n  const isUntaintedAccessors = Boolean(\n    accessorNames && // @ts-expect-error 2345\n    accessorNames.every(\n      (accessor) => {\n        var _a2, _b;\n        return Boolean(\n          (_b = (_a2 = Object.getOwnPropertyDescriptor(defaultPrototype, accessor)) == null ? void 0 : _a2.get) == null ? void 0 : _b.toString().includes(\"[native code]\")\n        );\n      }\n    )\n  );\n  const methodNames = key in testableMethods ? testableMethods[key] : void 0;\n  const isUntaintedMethods = Boolean(\n    methodNames && methodNames.every(\n      // @ts-expect-error 2345\n      (method) => {\n        var _a2;\n        return typeof defaultPrototype[method] === \"function\" && ((_a2 = defaultPrototype[method]) == null ? void 0 : _a2.toString().includes(\"[native code]\"));\n      }\n    )\n  );\n  if (isUntaintedAccessors && isUntaintedMethods) {\n    untaintedBasePrototype[key] = candidate.prototype;\n    return candidate.prototype;\n  }\n  try {\n    const iframeEl = document.createElement(\"iframe\");\n    document.body.appendChild(iframeEl);\n    const win = iframeEl.contentWindow;\n    if (!win) return candidate.prototype;\n    const untaintedObject = win[key].prototype;\n    document.body.removeChild(iframeEl);\n    if (!untaintedObject) return defaultPrototype;\n    return untaintedBasePrototype[key] = untaintedObject;\n  } catch {\n    return defaultPrototype;\n  }\n}\nconst untaintedAccessorCache = {};\nfunction getUntaintedAccessor(key, instance, accessor) {\n  var _a2;\n  const cacheKey = `${key}.${String(accessor)}`;\n  if (untaintedAccessorCache[cacheKey])\n    return untaintedAccessorCache[cacheKey].call(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype(key);\n  const untaintedAccessor = (_a2 = Object.getOwnPropertyDescriptor(\n    untaintedPrototype,\n    accessor\n  )) == null ? void 0 : _a2.get;\n  if (!untaintedAccessor) return instance[accessor];\n  untaintedAccessorCache[cacheKey] = untaintedAccessor;\n  return untaintedAccessor.call(instance);\n}\nconst untaintedMethodCache = {};\nfunction getUntaintedMethod(key, instance, method) {\n  const cacheKey = `${key}.${String(method)}`;\n  if (untaintedMethodCache[cacheKey])\n    return untaintedMethodCache[cacheKey].bind(\n      instance\n    );\n  const untaintedPrototype = getUntaintedPrototype(key);\n  const untaintedMethod = untaintedPrototype[method];\n  if (typeof untaintedMethod !== \"function\") return instance[method];\n  untaintedMethodCache[cacheKey] = untaintedMethod;\n  return untaintedMethod.bind(instance);\n}\nfunction childNodes(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"childNodes\");\n}\nfunction parentNode(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"parentNode\");\n}\nfunction parentElement(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"parentElement\");\n}\nfunction textContent(n2) {\n  return getUntaintedAccessor(\"Node\", n2, \"textContent\");\n}\nfunction contains(n2, other) {\n  return getUntaintedMethod(\"Node\", n2, \"contains\")(other);\n}\nfunction getRootNode(n2) {\n  return getUntaintedMethod(\"Node\", n2, \"getRootNode\")();\n}\nfunction host(n2) {\n  if (!n2 || !(\"host\" in n2)) return null;\n  return getUntaintedAccessor(\"ShadowRoot\", n2, \"host\");\n}\nfunction styleSheets(n2) {\n  return n2.styleSheets;\n}\nfunction shadowRoot(n2) {\n  if (!n2 || !(\"shadowRoot\" in n2)) return null;\n  return getUntaintedAccessor(\"Element\", n2, \"shadowRoot\");\n}\nfunction querySelector(n2, selectors) {\n  return getUntaintedAccessor(\"Element\", n2, \"querySelector\")(selectors);\n}\nfunction querySelectorAll(n2, selectors) {\n  return getUntaintedAccessor(\"Element\", n2, \"querySelectorAll\")(selectors);\n}\nfunction mutationObserverCtor() {\n  return getUntaintedPrototype(\"MutationObserver\").constructor;\n}\nfunction patch(source, name, replacement) {\n  try {\n    if (!(name in source)) {\n      return () => {\n      };\n    }\n    const original = source[name];\n    const wrapped = replacement(original);\n    if (typeof wrapped === \"function\") {\n      wrapped.prototype = wrapped.prototype || {};\n      Object.defineProperties(wrapped, {\n        __rrweb_original__: {\n          enumerable: false,\n          value: original\n        }\n      });\n    }\n    source[name] = wrapped;\n    return () => {\n      source[name] = original;\n    };\n  } catch {\n    return () => {\n    };\n  }\n}\nconst index = {\n  childNodes,\n  parentNode,\n  parentElement,\n  textContent,\n  contains,\n  getRootNode,\n  host,\n  styleSheets,\n  shadowRoot,\n  querySelector,\n  querySelectorAll,\n  mutationObserver: mutationObserverCtor,\n  patch\n};\nfunction on(type, fn, target = document) {\n  const options = { capture: true, passive: true };\n  target.addEventListener(type, fn, options);\n  return () => target.removeEventListener(type, fn, options);\n}\nconst DEPARTED_MIRROR_ACCESS_WARNING = \"Please stop import mirror directly. Instead of that,\\r\\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\\r\\nor you can use record.mirror to access the mirror instance during recording.\";\nlet _mirror = {\n  map: {},\n  getId() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return -1;\n  },\n  getNode() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return null;\n  },\n  removeNodeFromMap() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n  },\n  has() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n    return false;\n  },\n  reset() {\n    console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n  }\n};\nif (typeof window !== \"undefined\" && window.Proxy && window.Reflect) {\n  _mirror = new Proxy(_mirror, {\n    get(target, prop, receiver) {\n      if (prop === \"map\") {\n        console.error(DEPARTED_MIRROR_ACCESS_WARNING);\n      }\n      return Reflect.get(target, prop, receiver);\n    }\n  });\n}\nfunction throttle(func, wait, options = {}) {\n  let timeout = null;\n  let previous = 0;\n  return function(...args) {\n    const now = Date.now();\n    if (!previous && options.leading === false) {\n      previous = now;\n    }\n    const remaining = wait - (now - previous);\n    const context = this;\n    if (remaining <= 0 || remaining > wait) {\n      if (timeout) {\n        clearTimeout(timeout);\n        timeout = null;\n      }\n      previous = now;\n      func.apply(context, args);\n    } else if (!timeout && options.trailing !== false) {\n      timeout = setTimeout(() => {\n        previous = options.leading === false ? 0 : Date.now();\n        timeout = null;\n        func.apply(context, args);\n      }, remaining);\n    }\n  };\n}\nfunction hookSetter(target, key, d, isRevoked, win = window) {\n  const original = win.Object.getOwnPropertyDescriptor(target, key);\n  win.Object.defineProperty(\n    target,\n    key,\n    isRevoked ? d : {\n      set(value) {\n        setTimeout(() => {\n          d.set.call(this, value);\n        }, 0);\n        if (original && original.set) {\n          original.set.call(this, value);\n        }\n      }\n    }\n  );\n  return () => hookSetter(target, key, original || {}, true);\n}\nlet nowTimestamp = Date.now;\nif (!/* @__PURE__ */ /[1-9][0-9]{12}/.test(Date.now().toString())) {\n  nowTimestamp = () => (/* @__PURE__ */ new Date()).getTime();\n}\nfunction getWindowScroll(win) {\n  var _a2, _b, _c, _d;\n  const doc = win.document;\n  return {\n    left: doc.scrollingElement ? doc.scrollingElement.scrollLeft : win.pageXOffset !== void 0 ? win.pageXOffset : doc.documentElement.scrollLeft || (doc == null ? void 0 : doc.body) && ((_a2 = index.parentElement(doc.body)) == null ? void 0 : _a2.scrollLeft) || ((_b = doc == null ? void 0 : doc.body) == null ? void 0 : _b.scrollLeft) || 0,\n    top: doc.scrollingElement ? doc.scrollingElement.scrollTop : win.pageYOffset !== void 0 ? win.pageYOffset : (doc == null ? void 0 : doc.documentElement.scrollTop) || (doc == null ? void 0 : doc.body) && ((_c = index.parentElement(doc.body)) == null ? void 0 : _c.scrollTop) || ((_d = doc == null ? void 0 : doc.body) == null ? void 0 : _d.scrollTop) || 0\n  };\n}\nfunction getWindowHeight() {\n  return window.innerHeight || document.documentElement && document.documentElement.clientHeight || document.body && document.body.clientHeight;\n}\nfunction getWindowWidth() {\n  return window.innerWidth || document.documentElement && document.documentElement.clientWidth || document.body && document.body.clientWidth;\n}\nfunction closestElementOfNode(node2) {\n  if (!node2) {\n    return null;\n  }\n  const el = node2.nodeType === node2.ELEMENT_NODE ? node2 : index.parentElement(node2);\n  return el;\n}\nfunction isBlocked(node2, blockClass, blockSelector, checkAncestors) {\n  if (!node2) {\n    return false;\n  }\n  const el = closestElementOfNode(node2);\n  if (!el) {\n    return false;\n  }\n  try {\n    if (typeof blockClass === \"string\") {\n      if (el.classList.contains(blockClass)) return true;\n      if (checkAncestors && el.closest(\".\" + blockClass) !== null) return true;\n    } else {\n      if (classMatchesRegex(el, blockClass, checkAncestors)) return true;\n    }\n  } catch (e2) {\n  }\n  if (blockSelector) {\n    if (el.matches(blockSelector)) return true;\n    if (checkAncestors && el.closest(blockSelector) !== null) return true;\n  }\n  return false;\n}\nfunction isSerialized(n2, mirror2) {\n  return mirror2.getId(n2) !== -1;\n}\nfunction isIgnored(n2, mirror2, slimDOMOptions) {\n  if (n2.tagName === \"TITLE\" && slimDOMOptions.headTitleMutations) {\n    return true;\n  }\n  return mirror2.getId(n2) === IGNORED_NODE;\n}\nfunction isAncestorRemoved(target, mirror2) {\n  if (isShadowRoot(target)) {\n    return false;\n  }\n  const id = mirror2.getId(target);\n  if (!mirror2.has(id)) {\n    return true;\n  }\n  const parent = index.parentNode(target);\n  if (parent && parent.nodeType === target.DOCUMENT_NODE) {\n    return false;\n  }\n  if (!parent) {\n    return true;\n  }\n  return isAncestorRemoved(parent, mirror2);\n}\nfunction legacy_isTouchEvent(event) {\n  return Boolean(event.changedTouches);\n}\nfunction polyfill$1(win = window) {\n  if (\"NodeList\" in win && !win.NodeList.prototype.forEach) {\n    win.NodeList.prototype.forEach = Array.prototype.forEach;\n  }\n  if (\"DOMTokenList\" in win && !win.DOMTokenList.prototype.forEach) {\n    win.DOMTokenList.prototype.forEach = Array.prototype.forEach;\n  }\n}\nfunction isSerializedIframe(n2, mirror2) {\n  return Boolean(n2.nodeName === \"IFRAME\" && mirror2.getMeta(n2));\n}\nfunction isSerializedStylesheet(n2, mirror2) {\n  return Boolean(\n    n2.nodeName === \"LINK\" && n2.nodeType === n2.ELEMENT_NODE && n2.getAttribute && n2.getAttribute(\"rel\") === \"stylesheet\" && mirror2.getMeta(n2)\n  );\n}\nfunction hasShadowRoot(n2) {\n  if (!n2) return false;\n  if (n2 instanceof BaseRRNode && \"shadowRoot\" in n2) {\n    return Boolean(n2.shadowRoot);\n  }\n  return Boolean(index.shadowRoot(n2));\n}\nclass StyleSheetMirror {\n  constructor() {\n    __publicField(this, \"id\", 1);\n    __publicField(this, \"styleIDMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"idStyleMap\", /* @__PURE__ */ new Map());\n  }\n  getId(stylesheet) {\n    return this.styleIDMap.get(stylesheet) ?? -1;\n  }\n  has(stylesheet) {\n    return this.styleIDMap.has(stylesheet);\n  }\n  /**\n   * @returns If the stylesheet is in the mirror, returns the id of the stylesheet. If not, return the new assigned id.\n   */\n  add(stylesheet, id) {\n    if (this.has(stylesheet)) return this.getId(stylesheet);\n    let newId;\n    if (id === void 0) {\n      newId = this.id++;\n    } else newId = id;\n    this.styleIDMap.set(stylesheet, newId);\n    this.idStyleMap.set(newId, stylesheet);\n    return newId;\n  }\n  getStyle(id) {\n    return this.idStyleMap.get(id) || null;\n  }\n  reset() {\n    this.styleIDMap = /* @__PURE__ */ new WeakMap();\n    this.idStyleMap = /* @__PURE__ */ new Map();\n    this.id = 1;\n  }\n  generateId() {\n    return this.id++;\n  }\n}\nfunction getShadowHost(n2) {\n  var _a2;\n  let shadowHost = null;\n  if (\"getRootNode\" in n2 && ((_a2 = index.getRootNode(n2)) == null ? void 0 : _a2.nodeType) === Node.DOCUMENT_FRAGMENT_NODE && index.host(index.getRootNode(n2)))\n    shadowHost = index.host(index.getRootNode(n2));\n  return shadowHost;\n}\nfunction getRootShadowHost(n2) {\n  let rootShadowHost = n2;\n  let shadowHost;\n  while (shadowHost = getShadowHost(rootShadowHost))\n    rootShadowHost = shadowHost;\n  return rootShadowHost;\n}\nfunction shadowHostInDom(n2) {\n  const doc = n2.ownerDocument;\n  if (!doc) return false;\n  const shadowHost = getRootShadowHost(n2);\n  return index.contains(doc, shadowHost);\n}\nfunction inDom(n2) {\n  const doc = n2.ownerDocument;\n  if (!doc) return false;\n  return index.contains(doc, n2) || shadowHostInDom(n2);\n}\nvar EventType = /* @__PURE__ */ ((EventType2) => {\n  EventType2[EventType2[\"DomContentLoaded\"] = 0] = \"DomContentLoaded\";\n  EventType2[EventType2[\"Load\"] = 1] = \"Load\";\n  EventType2[EventType2[\"FullSnapshot\"] = 2] = \"FullSnapshot\";\n  EventType2[EventType2[\"IncrementalSnapshot\"] = 3] = \"IncrementalSnapshot\";\n  EventType2[EventType2[\"Meta\"] = 4] = \"Meta\";\n  EventType2[EventType2[\"Custom\"] = 5] = \"Custom\";\n  EventType2[EventType2[\"Plugin\"] = 6] = \"Plugin\";\n  return EventType2;\n})(EventType || {});\nvar IncrementalSource = /* @__PURE__ */ ((IncrementalSource2) => {\n  IncrementalSource2[IncrementalSource2[\"Mutation\"] = 0] = \"Mutation\";\n  IncrementalSource2[IncrementalSource2[\"MouseMove\"] = 1] = \"MouseMove\";\n  IncrementalSource2[IncrementalSource2[\"MouseInteraction\"] = 2] = \"MouseInteraction\";\n  IncrementalSource2[IncrementalSource2[\"Scroll\"] = 3] = \"Scroll\";\n  IncrementalSource2[IncrementalSource2[\"ViewportResize\"] = 4] = \"ViewportResize\";\n  IncrementalSource2[IncrementalSource2[\"Input\"] = 5] = \"Input\";\n  IncrementalSource2[IncrementalSource2[\"TouchMove\"] = 6] = \"TouchMove\";\n  IncrementalSource2[IncrementalSource2[\"MediaInteraction\"] = 7] = \"MediaInteraction\";\n  IncrementalSource2[IncrementalSource2[\"StyleSheetRule\"] = 8] = \"StyleSheetRule\";\n  IncrementalSource2[IncrementalSource2[\"CanvasMutation\"] = 9] = \"CanvasMutation\";\n  IncrementalSource2[IncrementalSource2[\"Font\"] = 10] = \"Font\";\n  IncrementalSource2[IncrementalSource2[\"Log\"] = 11] = \"Log\";\n  IncrementalSource2[IncrementalSource2[\"Drag\"] = 12] = \"Drag\";\n  IncrementalSource2[IncrementalSource2[\"StyleDeclaration\"] = 13] = \"StyleDeclaration\";\n  IncrementalSource2[IncrementalSource2[\"Selection\"] = 14] = \"Selection\";\n  IncrementalSource2[IncrementalSource2[\"AdoptedStyleSheet\"] = 15] = \"AdoptedStyleSheet\";\n  IncrementalSource2[IncrementalSource2[\"CustomElement\"] = 16] = \"CustomElement\";\n  return IncrementalSource2;\n})(IncrementalSource || {});\nvar MouseInteractions = /* @__PURE__ */ ((MouseInteractions2) => {\n  MouseInteractions2[MouseInteractions2[\"MouseUp\"] = 0] = \"MouseUp\";\n  MouseInteractions2[MouseInteractions2[\"MouseDown\"] = 1] = \"MouseDown\";\n  MouseInteractions2[MouseInteractions2[\"Click\"] = 2] = \"Click\";\n  MouseInteractions2[MouseInteractions2[\"ContextMenu\"] = 3] = \"ContextMenu\";\n  MouseInteractions2[MouseInteractions2[\"DblClick\"] = 4] = \"DblClick\";\n  MouseInteractions2[MouseInteractions2[\"Focus\"] = 5] = \"Focus\";\n  MouseInteractions2[MouseInteractions2[\"Blur\"] = 6] = \"Blur\";\n  MouseInteractions2[MouseInteractions2[\"TouchStart\"] = 7] = \"TouchStart\";\n  MouseInteractions2[MouseInteractions2[\"TouchMove_Departed\"] = 8] = \"TouchMove_Departed\";\n  MouseInteractions2[MouseInteractions2[\"TouchEnd\"] = 9] = \"TouchEnd\";\n  MouseInteractions2[MouseInteractions2[\"TouchCancel\"] = 10] = \"TouchCancel\";\n  return MouseInteractions2;\n})(MouseInteractions || {});\nvar PointerTypes = /* @__PURE__ */ ((PointerTypes2) => {\n  PointerTypes2[PointerTypes2[\"Mouse\"] = 0] = \"Mouse\";\n  PointerTypes2[PointerTypes2[\"Pen\"] = 1] = \"Pen\";\n  PointerTypes2[PointerTypes2[\"Touch\"] = 2] = \"Touch\";\n  return PointerTypes2;\n})(PointerTypes || {});\nvar CanvasContext = /* @__PURE__ */ ((CanvasContext2) => {\n  CanvasContext2[CanvasContext2[\"2D\"] = 0] = \"2D\";\n  CanvasContext2[CanvasContext2[\"WebGL\"] = 1] = \"WebGL\";\n  CanvasContext2[CanvasContext2[\"WebGL2\"] = 2] = \"WebGL2\";\n  return CanvasContext2;\n})(CanvasContext || {});\nvar MediaInteractions = /* @__PURE__ */ ((MediaInteractions2) => {\n  MediaInteractions2[MediaInteractions2[\"Play\"] = 0] = \"Play\";\n  MediaInteractions2[MediaInteractions2[\"Pause\"] = 1] = \"Pause\";\n  MediaInteractions2[MediaInteractions2[\"Seeked\"] = 2] = \"Seeked\";\n  MediaInteractions2[MediaInteractions2[\"VolumeChange\"] = 3] = \"VolumeChange\";\n  MediaInteractions2[MediaInteractions2[\"RateChange\"] = 4] = \"RateChange\";\n  return MediaInteractions2;\n})(MediaInteractions || {});\nvar NodeType = /* @__PURE__ */ ((NodeType2) => {\n  NodeType2[NodeType2[\"Document\"] = 0] = \"Document\";\n  NodeType2[NodeType2[\"DocumentType\"] = 1] = \"DocumentType\";\n  NodeType2[NodeType2[\"Element\"] = 2] = \"Element\";\n  NodeType2[NodeType2[\"Text\"] = 3] = \"Text\";\n  NodeType2[NodeType2[\"CDATA\"] = 4] = \"CDATA\";\n  NodeType2[NodeType2[\"Comment\"] = 5] = \"Comment\";\n  return NodeType2;\n})(NodeType || {});\nfunction isNodeInLinkedList(n2) {\n  return \"__ln\" in n2;\n}\nclass DoubleLinkedList {\n  constructor() {\n    __publicField(this, \"length\", 0);\n    __publicField(this, \"head\", null);\n    __publicField(this, \"tail\", null);\n  }\n  get(position) {\n    if (position >= this.length) {\n      throw new Error(\"Position outside of list range\");\n    }\n    let current = this.head;\n    for (let index2 = 0; index2 < position; index2++) {\n      current = (current == null ? void 0 : current.next) || null;\n    }\n    return current;\n  }\n  addNode(n2) {\n    const node2 = {\n      value: n2,\n      previous: null,\n      next: null\n    };\n    n2.__ln = node2;\n    if (n2.previousSibling && isNodeInLinkedList(n2.previousSibling)) {\n      const current = n2.previousSibling.__ln.next;\n      node2.next = current;\n      node2.previous = n2.previousSibling.__ln;\n      n2.previousSibling.__ln.next = node2;\n      if (current) {\n        current.previous = node2;\n      }\n    } else if (n2.nextSibling && isNodeInLinkedList(n2.nextSibling) && n2.nextSibling.__ln.previous) {\n      const current = n2.nextSibling.__ln.previous;\n      node2.previous = current;\n      node2.next = n2.nextSibling.__ln;\n      n2.nextSibling.__ln.previous = node2;\n      if (current) {\n        current.next = node2;\n      }\n    } else {\n      if (this.head) {\n        this.head.previous = node2;\n      }\n      node2.next = this.head;\n      this.head = node2;\n    }\n    if (node2.next === null) {\n      this.tail = node2;\n    }\n    this.length++;\n  }\n  removeNode(n2) {\n    const current = n2.__ln;\n    if (!this.head) {\n      return;\n    }\n    if (!current.previous) {\n      this.head = current.next;\n      if (this.head) {\n        this.head.previous = null;\n      } else {\n        this.tail = null;\n      }\n    } else {\n      current.previous.next = current.next;\n      if (current.next) {\n        current.next.previous = current.previous;\n      } else {\n        this.tail = current.previous;\n      }\n    }\n    if (n2.__ln) {\n      delete n2.__ln;\n    }\n    this.length--;\n  }\n}\nconst moveKey = (id, parentId) => `${id}@${parentId}`;\nclass MutationBuffer {\n  constructor() {\n    __publicField(this, \"frozen\", false);\n    __publicField(this, \"locked\", false);\n    __publicField(this, \"texts\", []);\n    __publicField(this, \"attributes\", []);\n    __publicField(this, \"attributeMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"removes\", []);\n    __publicField(this, \"mapRemoves\", []);\n    __publicField(this, \"movedMap\", {});\n    __publicField(this, \"addedSet\", /* @__PURE__ */ new Set());\n    __publicField(this, \"movedSet\", /* @__PURE__ */ new Set());\n    __publicField(this, \"droppedSet\", /* @__PURE__ */ new Set());\n    __publicField(this, \"removesSubTreeCache\", /* @__PURE__ */ new Set());\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"blockClass\");\n    __publicField(this, \"blockSelector\");\n    __publicField(this, \"maskTextClass\");\n    __publicField(this, \"maskTextSelector\");\n    __publicField(this, \"inlineStylesheet\");\n    __publicField(this, \"maskInputOptions\");\n    __publicField(this, \"maskTextFn\");\n    __publicField(this, \"maskInputFn\");\n    __publicField(this, \"keepIframeSrcFn\");\n    __publicField(this, \"recordCanvas\");\n    __publicField(this, \"inlineImages\");\n    __publicField(this, \"slimDOMOptions\");\n    __publicField(this, \"dataURLOptions\");\n    __publicField(this, \"doc\");\n    __publicField(this, \"mirror\");\n    __publicField(this, \"iframeManager\");\n    __publicField(this, \"stylesheetManager\");\n    __publicField(this, \"shadowDomManager\");\n    __publicField(this, \"canvasManager\");\n    __publicField(this, \"processedNodeManager\");\n    __publicField(this, \"unattachedDoc\");\n    __publicField(this, \"processMutations\", (mutations) => {\n      mutations.forEach(this.processMutation);\n      this.emit();\n    });\n    __publicField(this, \"emit\", () => {\n      if (this.frozen || this.locked) {\n        return;\n      }\n      const adds = [];\n      const addedIds = /* @__PURE__ */ new Set();\n      const addList = new DoubleLinkedList();\n      const getNextId = (n2) => {\n        let ns = n2;\n        let nextId = IGNORED_NODE;\n        while (nextId === IGNORED_NODE) {\n          ns = ns && ns.nextSibling;\n          nextId = ns && this.mirror.getId(ns);\n        }\n        return nextId;\n      };\n      const pushAdd = (n2) => {\n        const parent = index.parentNode(n2);\n        if (!parent || !inDom(n2) || parent.tagName === \"TEXTAREA\") {\n          return;\n        }\n        const parentId = isShadowRoot(parent) ? this.mirror.getId(getShadowHost(n2)) : this.mirror.getId(parent);\n        const nextId = getNextId(n2);\n        if (parentId === -1 || nextId === -1) {\n          return addList.addNode(n2);\n        }\n        const sn = serializeNodeWithId(n2, {\n          doc: this.doc,\n          mirror: this.mirror,\n          blockClass: this.blockClass,\n          blockSelector: this.blockSelector,\n          maskTextClass: this.maskTextClass,\n          maskTextSelector: this.maskTextSelector,\n          skipChild: true,\n          newlyAddedElement: true,\n          inlineStylesheet: this.inlineStylesheet,\n          maskInputOptions: this.maskInputOptions,\n          maskTextFn: this.maskTextFn,\n          maskInputFn: this.maskInputFn,\n          slimDOMOptions: this.slimDOMOptions,\n          dataURLOptions: this.dataURLOptions,\n          recordCanvas: this.recordCanvas,\n          inlineImages: this.inlineImages,\n          onSerialize: (currentN) => {\n            if (isSerializedIframe(currentN, this.mirror)) {\n              this.iframeManager.addIframe(currentN);\n            }\n            if (isSerializedStylesheet(currentN, this.mirror)) {\n              this.stylesheetManager.trackLinkElement(\n                currentN\n              );\n            }\n            if (hasShadowRoot(n2)) {\n              this.shadowDomManager.addShadowRoot(index.shadowRoot(n2), this.doc);\n            }\n          },\n          onIframeLoad: (iframe, childSn) => {\n            this.iframeManager.attachIframe(iframe, childSn);\n            this.shadowDomManager.observeAttachShadow(iframe);\n          },\n          onStylesheetLoad: (link, childSn) => {\n            this.stylesheetManager.attachLinkElement(link, childSn);\n          }\n        });\n        if (sn) {\n          adds.push({\n            parentId,\n            nextId,\n            node: sn\n          });\n          addedIds.add(sn.id);\n        }\n      };\n      while (this.mapRemoves.length) {\n        this.mirror.removeNodeFromMap(this.mapRemoves.shift());\n      }\n      for (const n2 of this.movedSet) {\n        if (isParentRemoved(this.removesSubTreeCache, n2, this.mirror) && !this.movedSet.has(index.parentNode(n2))) {\n          continue;\n        }\n        pushAdd(n2);\n      }\n      for (const n2 of this.addedSet) {\n        if (!isAncestorInSet(this.droppedSet, n2) && !isParentRemoved(this.removesSubTreeCache, n2, this.mirror)) {\n          pushAdd(n2);\n        } else if (isAncestorInSet(this.movedSet, n2)) {\n          pushAdd(n2);\n        } else {\n          this.droppedSet.add(n2);\n        }\n      }\n      let candidate = null;\n      while (addList.length) {\n        let node2 = null;\n        if (candidate) {\n          const parentId = this.mirror.getId(index.parentNode(candidate.value));\n          const nextId = getNextId(candidate.value);\n          if (parentId !== -1 && nextId !== -1) {\n            node2 = candidate;\n          }\n        }\n        if (!node2) {\n          let tailNode = addList.tail;\n          while (tailNode) {\n            const _node = tailNode;\n            tailNode = tailNode.previous;\n            if (_node) {\n              const parentId = this.mirror.getId(index.parentNode(_node.value));\n              const nextId = getNextId(_node.value);\n              if (nextId === -1) continue;\n              else if (parentId !== -1) {\n                node2 = _node;\n                break;\n              } else {\n                const unhandledNode = _node.value;\n                const parent = index.parentNode(unhandledNode);\n                if (parent && parent.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n                  const shadowHost = index.host(parent);\n                  const parentId2 = this.mirror.getId(shadowHost);\n                  if (parentId2 !== -1) {\n                    node2 = _node;\n                    break;\n                  }\n                }\n              }\n            }\n          }\n        }\n        if (!node2) {\n          while (addList.head) {\n            addList.removeNode(addList.head.value);\n          }\n          break;\n        }\n        candidate = node2.previous;\n        addList.removeNode(node2.value);\n        pushAdd(node2.value);\n      }\n      const payload = {\n        texts: this.texts.map((text) => {\n          const n2 = text.node;\n          const parent = index.parentNode(n2);\n          if (parent && parent.tagName === \"TEXTAREA\") {\n            this.genTextAreaValueMutation(parent);\n          }\n          return {\n            id: this.mirror.getId(n2),\n            value: text.value\n          };\n        }).filter((text) => !addedIds.has(text.id)).filter((text) => this.mirror.has(text.id)),\n        attributes: this.attributes.map((attribute) => {\n          const { attributes } = attribute;\n          if (typeof attributes.style === \"string\") {\n            const diffAsStr = JSON.stringify(attribute.styleDiff);\n            const unchangedAsStr = JSON.stringify(attribute._unchangedStyles);\n            if (diffAsStr.length < attributes.style.length) {\n              if ((diffAsStr + unchangedAsStr).split(\"var(\").length === attributes.style.split(\"var(\").length) {\n                attributes.style = attribute.styleDiff;\n              }\n            }\n          }\n          return {\n            id: this.mirror.getId(attribute.node),\n            attributes\n          };\n        }).filter((attribute) => !addedIds.has(attribute.id)).filter((attribute) => this.mirror.has(attribute.id)),\n        removes: this.removes,\n        adds\n      };\n      if (!payload.texts.length && !payload.attributes.length && !payload.removes.length && !payload.adds.length) {\n        return;\n      }\n      this.texts = [];\n      this.attributes = [];\n      this.attributeMap = /* @__PURE__ */ new WeakMap();\n      this.removes = [];\n      this.addedSet = /* @__PURE__ */ new Set();\n      this.movedSet = /* @__PURE__ */ new Set();\n      this.droppedSet = /* @__PURE__ */ new Set();\n      this.removesSubTreeCache = /* @__PURE__ */ new Set();\n      this.movedMap = {};\n      this.mutationCb(payload);\n    });\n    __publicField(this, \"genTextAreaValueMutation\", (textarea) => {\n      let item = this.attributeMap.get(textarea);\n      if (!item) {\n        item = {\n          node: textarea,\n          attributes: {},\n          styleDiff: {},\n          _unchangedStyles: {}\n        };\n        this.attributes.push(item);\n        this.attributeMap.set(textarea, item);\n      }\n      item.attributes.value = Array.from(\n        index.childNodes(textarea),\n        (cn) => index.textContent(cn) || \"\"\n      ).join(\"\");\n    });\n    __publicField(this, \"processMutation\", (m) => {\n      if (isIgnored(m.target, this.mirror, this.slimDOMOptions)) {\n        return;\n      }\n      switch (m.type) {\n        case \"characterData\": {\n          const value = index.textContent(m.target);\n          if (!isBlocked(m.target, this.blockClass, this.blockSelector, false) && value !== m.oldValue) {\n            this.texts.push({\n              value: needMaskingText(\n                m.target,\n                this.maskTextClass,\n                this.maskTextSelector,\n                true\n                // checkAncestors\n              ) && value ? this.maskTextFn ? this.maskTextFn(value, closestElementOfNode(m.target)) : value.replace(/[\\S]/g, \"*\") : value,\n              node: m.target\n            });\n          }\n          break;\n        }\n        case \"attributes\": {\n          const target = m.target;\n          let attributeName = m.attributeName;\n          let value = m.target.getAttribute(attributeName);\n          if (attributeName === \"value\") {\n            const type = getInputType(target);\n            value = maskInputValue({\n              element: target,\n              maskInputOptions: this.maskInputOptions,\n              tagName: target.tagName,\n              type,\n              value,\n              maskInputFn: this.maskInputFn\n            });\n          }\n          if (isBlocked(m.target, this.blockClass, this.blockSelector, false) || value === m.oldValue) {\n            return;\n          }\n          let item = this.attributeMap.get(m.target);\n          if (target.tagName === \"IFRAME\" && attributeName === \"src\" && !this.keepIframeSrcFn(value)) {\n            if (!target.contentDocument) {\n              attributeName = \"rr_src\";\n            } else {\n              return;\n            }\n          }\n          if (!item) {\n            item = {\n              node: m.target,\n              attributes: {},\n              styleDiff: {},\n              _unchangedStyles: {}\n            };\n            this.attributes.push(item);\n            this.attributeMap.set(m.target, item);\n          }\n          if (attributeName === \"type\" && target.tagName === \"INPUT\" && (m.oldValue || \"\").toLowerCase() === \"password\") {\n            target.setAttribute(\"data-rr-is-password\", \"true\");\n          }\n          if (!ignoreAttribute(target.tagName, attributeName)) {\n            item.attributes[attributeName] = transformAttribute(\n              this.doc,\n              toLowerCase(target.tagName),\n              toLowerCase(attributeName),\n              value\n            );\n            if (attributeName === \"style\") {\n              if (!this.unattachedDoc) {\n                try {\n                  this.unattachedDoc = document.implementation.createHTMLDocument();\n                } catch (e2) {\n                  this.unattachedDoc = this.doc;\n                }\n              }\n              const old = this.unattachedDoc.createElement(\"span\");\n              if (m.oldValue) {\n                old.setAttribute(\"style\", m.oldValue);\n              }\n              for (const pname of Array.from(target.style)) {\n                const newValue = target.style.getPropertyValue(pname);\n                const newPriority = target.style.getPropertyPriority(pname);\n                if (newValue !== old.style.getPropertyValue(pname) || newPriority !== old.style.getPropertyPriority(pname)) {\n                  if (newPriority === \"\") {\n                    item.styleDiff[pname] = newValue;\n                  } else {\n                    item.styleDiff[pname] = [newValue, newPriority];\n                  }\n                } else {\n                  item._unchangedStyles[pname] = [newValue, newPriority];\n                }\n              }\n              for (const pname of Array.from(old.style)) {\n                if (target.style.getPropertyValue(pname) === \"\") {\n                  item.styleDiff[pname] = false;\n                }\n              }\n            } else if (attributeName === \"open\" && target.tagName === \"DIALOG\") {\n              if (target.matches(\"dialog:modal\")) {\n                item.attributes[\"rr_open_mode\"] = \"modal\";\n              } else {\n                item.attributes[\"rr_open_mode\"] = \"non-modal\";\n              }\n            }\n          }\n          break;\n        }\n        case \"childList\": {\n          if (isBlocked(m.target, this.blockClass, this.blockSelector, true))\n            return;\n          if (m.target.tagName === \"TEXTAREA\") {\n            this.genTextAreaValueMutation(m.target);\n            return;\n          }\n          m.addedNodes.forEach((n2) => this.genAdds(n2, m.target));\n          m.removedNodes.forEach((n2) => {\n            const nodeId = this.mirror.getId(n2);\n            const parentId = isShadowRoot(m.target) ? this.mirror.getId(index.host(m.target)) : this.mirror.getId(m.target);\n            if (isBlocked(m.target, this.blockClass, this.blockSelector, false) || isIgnored(n2, this.mirror, this.slimDOMOptions) || !isSerialized(n2, this.mirror)) {\n              return;\n            }\n            if (this.addedSet.has(n2)) {\n              deepDelete(this.addedSet, n2);\n              this.droppedSet.add(n2);\n            } else if (this.addedSet.has(m.target) && nodeId === -1) ;\n            else if (isAncestorRemoved(m.target, this.mirror)) ;\n            else if (this.movedSet.has(n2) && this.movedMap[moveKey(nodeId, parentId)]) {\n              deepDelete(this.movedSet, n2);\n            } else {\n              this.removes.push({\n                parentId,\n                id: nodeId,\n                isShadow: isShadowRoot(m.target) && isNativeShadowDom(m.target) ? true : void 0\n              });\n              processRemoves(n2, this.removesSubTreeCache);\n            }\n            this.mapRemoves.push(n2);\n          });\n          break;\n        }\n      }\n    });\n    __publicField(this, \"genAdds\", (n2, target) => {\n      if (this.processedNodeManager.inOtherBuffer(n2, this)) return;\n      if (this.addedSet.has(n2) || this.movedSet.has(n2)) return;\n      if (this.mirror.hasNode(n2)) {\n        if (isIgnored(n2, this.mirror, this.slimDOMOptions)) {\n          return;\n        }\n        this.movedSet.add(n2);\n        let targetId = null;\n        if (target && this.mirror.hasNode(target)) {\n          targetId = this.mirror.getId(target);\n        }\n        if (targetId && targetId !== -1) {\n          this.movedMap[moveKey(this.mirror.getId(n2), targetId)] = true;\n        }\n      } else {\n        this.addedSet.add(n2);\n        this.droppedSet.delete(n2);\n      }\n      if (!isBlocked(n2, this.blockClass, this.blockSelector, false)) {\n        index.childNodes(n2).forEach((childN) => this.genAdds(childN));\n        if (hasShadowRoot(n2)) {\n          index.childNodes(index.shadowRoot(n2)).forEach((childN) => {\n            this.processedNodeManager.add(childN, this);\n            this.genAdds(childN, n2);\n          });\n        }\n      }\n    });\n  }\n  init(options) {\n    [\n      \"mutationCb\",\n      \"blockClass\",\n      \"blockSelector\",\n      \"maskTextClass\",\n      \"maskTextSelector\",\n      \"inlineStylesheet\",\n      \"maskInputOptions\",\n      \"maskTextFn\",\n      \"maskInputFn\",\n      \"keepIframeSrcFn\",\n      \"recordCanvas\",\n      \"inlineImages\",\n      \"slimDOMOptions\",\n      \"dataURLOptions\",\n      \"doc\",\n      \"mirror\",\n      \"iframeManager\",\n      \"stylesheetManager\",\n      \"shadowDomManager\",\n      \"canvasManager\",\n      \"processedNodeManager\"\n    ].forEach((key) => {\n      this[key] = options[key];\n    });\n  }\n  freeze() {\n    this.frozen = true;\n    this.canvasManager.freeze();\n  }\n  unfreeze() {\n    this.frozen = false;\n    this.canvasManager.unfreeze();\n    this.emit();\n  }\n  isFrozen() {\n    return this.frozen;\n  }\n  lock() {\n    this.locked = true;\n    this.canvasManager.lock();\n  }\n  unlock() {\n    this.locked = false;\n    this.canvasManager.unlock();\n    this.emit();\n  }\n  reset() {\n    this.shadowDomManager.reset();\n    this.canvasManager.reset();\n  }\n}\nfunction deepDelete(addsSet, n2) {\n  addsSet.delete(n2);\n  index.childNodes(n2).forEach((childN) => deepDelete(addsSet, childN));\n}\nfunction processRemoves(n2, cache) {\n  const queue = [n2];\n  while (queue.length) {\n    const next = queue.pop();\n    if (cache.has(next)) continue;\n    cache.add(next);\n    index.childNodes(next).forEach((n22) => queue.push(n22));\n  }\n  return;\n}\nfunction isParentRemoved(removes, n2, mirror2) {\n  if (removes.size === 0) return false;\n  return _isParentRemoved(removes, n2);\n}\nfunction _isParentRemoved(removes, n2, _mirror2) {\n  const node2 = index.parentNode(n2);\n  if (!node2) return false;\n  return removes.has(node2);\n}\nfunction isAncestorInSet(set, n2) {\n  if (set.size === 0) return false;\n  return _isAncestorInSet(set, n2);\n}\nfunction _isAncestorInSet(set, n2) {\n  const parent = index.parentNode(n2);\n  if (!parent) {\n    return false;\n  }\n  if (set.has(parent)) {\n    return true;\n  }\n  return _isAncestorInSet(set, parent);\n}\nlet errorHandler;\nfunction registerErrorHandler(handler) {\n  errorHandler = handler;\n}\nfunction unregisterErrorHandler() {\n  errorHandler = void 0;\n}\nconst callbackWrapper = (cb) => {\n  if (!errorHandler) {\n    return cb;\n  }\n  const rrwebWrapped = (...rest) => {\n    try {\n      return cb(...rest);\n    } catch (error) {\n      if (errorHandler && errorHandler(error) === true) {\n        return;\n      }\n      throw error;\n    }\n  };\n  return rrwebWrapped;\n};\nconst mutationBuffers = [];\nfunction getEventTarget(event) {\n  try {\n    if (\"composedPath\" in event) {\n      const path = event.composedPath();\n      if (path.length) {\n        return path[0];\n      }\n    } else if (\"path\" in event && event.path.length) {\n      return event.path[0];\n    }\n  } catch {\n  }\n  return event && event.target;\n}\nfunction initMutationObserver(options, rootEl) {\n  const mutationBuffer = new MutationBuffer();\n  mutationBuffers.push(mutationBuffer);\n  mutationBuffer.init(options);\n  const observer = new (mutationObserverCtor())(\n    callbackWrapper(mutationBuffer.processMutations.bind(mutationBuffer))\n  );\n  observer.observe(rootEl, {\n    attributes: true,\n    attributeOldValue: true,\n    characterData: true,\n    characterDataOldValue: true,\n    childList: true,\n    subtree: true\n  });\n  return observer;\n}\nfunction initMoveObserver({\n  mousemoveCb,\n  sampling,\n  doc,\n  mirror: mirror2\n}) {\n  if (sampling.mousemove === false) {\n    return () => {\n    };\n  }\n  const threshold = typeof sampling.mousemove === \"number\" ? sampling.mousemove : 50;\n  const callbackThreshold = typeof sampling.mousemoveCallback === \"number\" ? sampling.mousemoveCallback : 500;\n  let positions = [];\n  let timeBaseline;\n  const wrappedCb = throttle(\n    callbackWrapper(\n      (source) => {\n        const totalOffset = Date.now() - timeBaseline;\n        mousemoveCb(\n          positions.map((p) => {\n            p.timeOffset -= totalOffset;\n            return p;\n          }),\n          source\n        );\n        positions = [];\n        timeBaseline = null;\n      }\n    ),\n    callbackThreshold\n  );\n  const updatePosition = callbackWrapper(\n    throttle(\n      callbackWrapper((evt) => {\n        const target = getEventTarget(evt);\n        const { clientX, clientY } = legacy_isTouchEvent(evt) ? evt.changedTouches[0] : evt;\n        if (!timeBaseline) {\n          timeBaseline = nowTimestamp();\n        }\n        positions.push({\n          x: clientX,\n          y: clientY,\n          id: mirror2.getId(target),\n          timeOffset: nowTimestamp() - timeBaseline\n        });\n        wrappedCb(\n          typeof DragEvent !== \"undefined\" && evt instanceof DragEvent ? IncrementalSource.Drag : evt instanceof MouseEvent ? IncrementalSource.MouseMove : IncrementalSource.TouchMove\n        );\n      }),\n      threshold,\n      {\n        trailing: false\n      }\n    )\n  );\n  const handlers = [\n    on(\"mousemove\", updatePosition, doc),\n    on(\"touchmove\", updatePosition, doc),\n    on(\"drag\", updatePosition, doc)\n  ];\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction initMouseInteractionObserver({\n  mouseInteractionCb,\n  doc,\n  mirror: mirror2,\n  blockClass,\n  blockSelector,\n  sampling\n}) {\n  if (sampling.mouseInteraction === false) {\n    return () => {\n    };\n  }\n  const disableMap = sampling.mouseInteraction === true || sampling.mouseInteraction === void 0 ? {} : sampling.mouseInteraction;\n  const handlers = [];\n  let currentPointerType = null;\n  const getHandler = (eventKey) => {\n    return (event) => {\n      const target = getEventTarget(event);\n      if (isBlocked(target, blockClass, blockSelector, true)) {\n        return;\n      }\n      let pointerType = null;\n      let thisEventKey = eventKey;\n      if (\"pointerType\" in event) {\n        switch (event.pointerType) {\n          case \"mouse\":\n            pointerType = PointerTypes.Mouse;\n            break;\n          case \"touch\":\n            pointerType = PointerTypes.Touch;\n            break;\n          case \"pen\":\n            pointerType = PointerTypes.Pen;\n            break;\n        }\n        if (pointerType === PointerTypes.Touch) {\n          if (MouseInteractions[eventKey] === MouseInteractions.MouseDown) {\n            thisEventKey = \"TouchStart\";\n          } else if (MouseInteractions[eventKey] === MouseInteractions.MouseUp) {\n            thisEventKey = \"TouchEnd\";\n          }\n        } else if (pointerType === PointerTypes.Pen) ;\n      } else if (legacy_isTouchEvent(event)) {\n        pointerType = PointerTypes.Touch;\n      }\n      if (pointerType !== null) {\n        currentPointerType = pointerType;\n        if (thisEventKey.startsWith(\"Touch\") && pointerType === PointerTypes.Touch || thisEventKey.startsWith(\"Mouse\") && pointerType === PointerTypes.Mouse) {\n          pointerType = null;\n        }\n      } else if (MouseInteractions[eventKey] === MouseInteractions.Click) {\n        pointerType = currentPointerType;\n        currentPointerType = null;\n      }\n      const e2 = legacy_isTouchEvent(event) ? event.changedTouches[0] : event;\n      if (!e2) {\n        return;\n      }\n      const id = mirror2.getId(target);\n      const { clientX, clientY } = e2;\n      callbackWrapper(mouseInteractionCb)({\n        type: MouseInteractions[thisEventKey],\n        id,\n        x: clientX,\n        y: clientY,\n        ...pointerType !== null && { pointerType }\n      });\n    };\n  };\n  Object.keys(MouseInteractions).filter(\n    (key) => Number.isNaN(Number(key)) && !key.endsWith(\"_Departed\") && disableMap[key] !== false\n  ).forEach((eventKey) => {\n    let eventName = toLowerCase(eventKey);\n    const handler = getHandler(eventKey);\n    if (window.PointerEvent) {\n      switch (MouseInteractions[eventKey]) {\n        case MouseInteractions.MouseDown:\n        case MouseInteractions.MouseUp:\n          eventName = eventName.replace(\n            \"mouse\",\n            \"pointer\"\n          );\n          break;\n        case MouseInteractions.TouchStart:\n        case MouseInteractions.TouchEnd:\n          return;\n      }\n    }\n    handlers.push(on(eventName, handler, doc));\n  });\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction initScrollObserver({\n  scrollCb,\n  doc,\n  mirror: mirror2,\n  blockClass,\n  blockSelector,\n  sampling\n}) {\n  const updatePosition = callbackWrapper(\n    throttle(\n      callbackWrapper((evt) => {\n        const target = getEventTarget(evt);\n        if (!target || isBlocked(target, blockClass, blockSelector, true)) {\n          return;\n        }\n        const id = mirror2.getId(target);\n        if (target === doc && doc.defaultView) {\n          const scrollLeftTop = getWindowScroll(doc.defaultView);\n          scrollCb({\n            id,\n            x: scrollLeftTop.left,\n            y: scrollLeftTop.top\n          });\n        } else {\n          scrollCb({\n            id,\n            x: target.scrollLeft,\n            y: target.scrollTop\n          });\n        }\n      }),\n      sampling.scroll || 100\n    )\n  );\n  return on(\"scroll\", updatePosition, doc);\n}\nfunction initViewportResizeObserver({ viewportResizeCb }, { win }) {\n  let lastH = -1;\n  let lastW = -1;\n  const updateDimension = callbackWrapper(\n    throttle(\n      callbackWrapper(() => {\n        const height = getWindowHeight();\n        const width = getWindowWidth();\n        if (lastH !== height || lastW !== width) {\n          viewportResizeCb({\n            width: Number(width),\n            height: Number(height)\n          });\n          lastH = height;\n          lastW = width;\n        }\n      }),\n      200\n    )\n  );\n  return on(\"resize\", updateDimension, win);\n}\nconst INPUT_TAGS = [\"INPUT\", \"TEXTAREA\", \"SELECT\"];\nconst lastInputValueMap = /* @__PURE__ */ new WeakMap();\nfunction initInputObserver({\n  inputCb,\n  doc,\n  mirror: mirror2,\n  blockClass,\n  blockSelector,\n  ignoreClass,\n  ignoreSelector,\n  maskInputOptions,\n  maskInputFn,\n  sampling,\n  userTriggeredOnInput\n}) {\n  function eventHandler(event) {\n    let target = getEventTarget(event);\n    const userTriggered = event.isTrusted;\n    const tagName = target && target.tagName;\n    if (target && tagName === \"OPTION\") {\n      target = index.parentElement(target);\n    }\n    if (!target || !tagName || INPUT_TAGS.indexOf(tagName) < 0 || isBlocked(target, blockClass, blockSelector, true)) {\n      return;\n    }\n    if (target.classList.contains(ignoreClass) || ignoreSelector && target.matches(ignoreSelector)) {\n      return;\n    }\n    let text = target.value;\n    let isChecked = false;\n    const type = getInputType(target) || \"\";\n    if (type === \"radio\" || type === \"checkbox\") {\n      isChecked = target.checked;\n    } else if (maskInputOptions[tagName.toLowerCase()] || maskInputOptions[type]) {\n      text = maskInputValue({\n        element: target,\n        maskInputOptions,\n        tagName,\n        type,\n        value: text,\n        maskInputFn\n      });\n    }\n    cbWithDedup(\n      target,\n      userTriggeredOnInput ? { text, isChecked, userTriggered } : { text, isChecked }\n    );\n    const name = target.name;\n    if (type === \"radio\" && name && isChecked) {\n      doc.querySelectorAll(`input[type=\"radio\"][name=\"${name}\"]`).forEach((el) => {\n        if (el !== target) {\n          const text2 = el.value;\n          cbWithDedup(\n            el,\n            userTriggeredOnInput ? { text: text2, isChecked: !isChecked, userTriggered: false } : { text: text2, isChecked: !isChecked }\n          );\n        }\n      });\n    }\n  }\n  function cbWithDedup(target, v2) {\n    const lastInputValue = lastInputValueMap.get(target);\n    if (!lastInputValue || lastInputValue.text !== v2.text || lastInputValue.isChecked !== v2.isChecked) {\n      lastInputValueMap.set(target, v2);\n      const id = mirror2.getId(target);\n      callbackWrapper(inputCb)({\n        ...v2,\n        id\n      });\n    }\n  }\n  const events = sampling.input === \"last\" ? [\"change\"] : [\"input\", \"change\"];\n  const handlers = events.map(\n    (eventName) => on(eventName, callbackWrapper(eventHandler), doc)\n  );\n  const currentWindow = doc.defaultView;\n  if (!currentWindow) {\n    return () => {\n      handlers.forEach((h) => h());\n    };\n  }\n  const propertyDescriptor = currentWindow.Object.getOwnPropertyDescriptor(\n    currentWindow.HTMLInputElement.prototype,\n    \"value\"\n  );\n  const hookProperties = [\n    [currentWindow.HTMLInputElement.prototype, \"value\"],\n    [currentWindow.HTMLInputElement.prototype, \"checked\"],\n    [currentWindow.HTMLSelectElement.prototype, \"value\"],\n    [currentWindow.HTMLTextAreaElement.prototype, \"value\"],\n    // Some UI library use selectedIndex to set select value\n    [currentWindow.HTMLSelectElement.prototype, \"selectedIndex\"],\n    [currentWindow.HTMLOptionElement.prototype, \"selected\"]\n  ];\n  if (propertyDescriptor && propertyDescriptor.set) {\n    handlers.push(\n      ...hookProperties.map(\n        (p) => hookSetter(\n          p[0],\n          p[1],\n          {\n            set() {\n              callbackWrapper(eventHandler)({\n                target: this,\n                isTrusted: false\n                // userTriggered to false as this could well be programmatic\n              });\n            }\n          },\n          false,\n          currentWindow\n        )\n      )\n    );\n  }\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction getNestedCSSRulePositions(rule2) {\n  const positions = [];\n  function recurse(childRule, pos) {\n    if (hasNestedCSSRule(\"CSSGroupingRule\") && childRule.parentRule instanceof CSSGroupingRule || hasNestedCSSRule(\"CSSMediaRule\") && childRule.parentRule instanceof CSSMediaRule || hasNestedCSSRule(\"CSSSupportsRule\") && childRule.parentRule instanceof CSSSupportsRule || hasNestedCSSRule(\"CSSConditionRule\") && childRule.parentRule instanceof CSSConditionRule) {\n      const rules2 = Array.from(\n        childRule.parentRule.cssRules\n      );\n      const index2 = rules2.indexOf(childRule);\n      pos.unshift(index2);\n    } else if (childRule.parentStyleSheet) {\n      const rules2 = Array.from(childRule.parentStyleSheet.cssRules);\n      const index2 = rules2.indexOf(childRule);\n      pos.unshift(index2);\n    }\n    return pos;\n  }\n  return recurse(rule2, positions);\n}\nfunction getIdAndStyleId(sheet, mirror2, styleMirror) {\n  let id, styleId;\n  if (!sheet) return {};\n  if (sheet.ownerNode) id = mirror2.getId(sheet.ownerNode);\n  else styleId = styleMirror.getId(sheet);\n  return {\n    styleId,\n    id\n  };\n}\nfunction initStyleSheetObserver({ styleSheetRuleCb, mirror: mirror2, stylesheetManager }, { win }) {\n  if (!win.CSSStyleSheet || !win.CSSStyleSheet.prototype) {\n    return () => {\n    };\n  }\n  const insertRule = win.CSSStyleSheet.prototype.insertRule;\n  win.CSSStyleSheet.prototype.insertRule = new Proxy(insertRule, {\n    apply: callbackWrapper(\n      (target, thisArg, argumentsList) => {\n        const [rule2, index2] = argumentsList;\n        const { id, styleId } = getIdAndStyleId(\n          thisArg,\n          mirror2,\n          stylesheetManager.styleMirror\n        );\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleSheetRuleCb({\n            id,\n            styleId,\n            adds: [{ rule: rule2, index: index2 }]\n          });\n        }\n        return target.apply(thisArg, argumentsList);\n      }\n    )\n  });\n  win.CSSStyleSheet.prototype.addRule = function(selector, styleBlock, index2 = this.cssRules.length) {\n    const rule2 = `${selector} { ${styleBlock} }`;\n    return win.CSSStyleSheet.prototype.insertRule.apply(this, [rule2, index2]);\n  };\n  const deleteRule = win.CSSStyleSheet.prototype.deleteRule;\n  win.CSSStyleSheet.prototype.deleteRule = new Proxy(deleteRule, {\n    apply: callbackWrapper(\n      (target, thisArg, argumentsList) => {\n        const [index2] = argumentsList;\n        const { id, styleId } = getIdAndStyleId(\n          thisArg,\n          mirror2,\n          stylesheetManager.styleMirror\n        );\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleSheetRuleCb({\n            id,\n            styleId,\n            removes: [{ index: index2 }]\n          });\n        }\n        return target.apply(thisArg, argumentsList);\n      }\n    )\n  });\n  win.CSSStyleSheet.prototype.removeRule = function(index2) {\n    return win.CSSStyleSheet.prototype.deleteRule.apply(this, [index2]);\n  };\n  let replace;\n  if (win.CSSStyleSheet.prototype.replace) {\n    replace = win.CSSStyleSheet.prototype.replace;\n    win.CSSStyleSheet.prototype.replace = new Proxy(replace, {\n      apply: callbackWrapper(\n        (target, thisArg, argumentsList) => {\n          const [text] = argumentsList;\n          const { id, styleId } = getIdAndStyleId(\n            thisArg,\n            mirror2,\n            stylesheetManager.styleMirror\n          );\n          if (id && id !== -1 || styleId && styleId !== -1) {\n            styleSheetRuleCb({\n              id,\n              styleId,\n              replace: text\n            });\n          }\n          return target.apply(thisArg, argumentsList);\n        }\n      )\n    });\n  }\n  let replaceSync;\n  if (win.CSSStyleSheet.prototype.replaceSync) {\n    replaceSync = win.CSSStyleSheet.prototype.replaceSync;\n    win.CSSStyleSheet.prototype.replaceSync = new Proxy(replaceSync, {\n      apply: callbackWrapper(\n        (target, thisArg, argumentsList) => {\n          const [text] = argumentsList;\n          const { id, styleId } = getIdAndStyleId(\n            thisArg,\n            mirror2,\n            stylesheetManager.styleMirror\n          );\n          if (id && id !== -1 || styleId && styleId !== -1) {\n            styleSheetRuleCb({\n              id,\n              styleId,\n              replaceSync: text\n            });\n          }\n          return target.apply(thisArg, argumentsList);\n        }\n      )\n    });\n  }\n  const supportedNestedCSSRuleTypes = {};\n  if (canMonkeyPatchNestedCSSRule(\"CSSGroupingRule\")) {\n    supportedNestedCSSRuleTypes.CSSGroupingRule = win.CSSGroupingRule;\n  } else {\n    if (canMonkeyPatchNestedCSSRule(\"CSSMediaRule\")) {\n      supportedNestedCSSRuleTypes.CSSMediaRule = win.CSSMediaRule;\n    }\n    if (canMonkeyPatchNestedCSSRule(\"CSSConditionRule\")) {\n      supportedNestedCSSRuleTypes.CSSConditionRule = win.CSSConditionRule;\n    }\n    if (canMonkeyPatchNestedCSSRule(\"CSSSupportsRule\")) {\n      supportedNestedCSSRuleTypes.CSSSupportsRule = win.CSSSupportsRule;\n    }\n  }\n  const unmodifiedFunctions = {};\n  Object.entries(supportedNestedCSSRuleTypes).forEach(([typeKey, type]) => {\n    unmodifiedFunctions[typeKey] = {\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      insertRule: type.prototype.insertRule,\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      deleteRule: type.prototype.deleteRule\n    };\n    type.prototype.insertRule = new Proxy(\n      unmodifiedFunctions[typeKey].insertRule,\n      {\n        apply: callbackWrapper(\n          (target, thisArg, argumentsList) => {\n            const [rule2, index2] = argumentsList;\n            const { id, styleId } = getIdAndStyleId(\n              thisArg.parentStyleSheet,\n              mirror2,\n              stylesheetManager.styleMirror\n            );\n            if (id && id !== -1 || styleId && styleId !== -1) {\n              styleSheetRuleCb({\n                id,\n                styleId,\n                adds: [\n                  {\n                    rule: rule2,\n                    index: [\n                      ...getNestedCSSRulePositions(thisArg),\n                      index2 || 0\n                      // defaults to 0\n                    ]\n                  }\n                ]\n              });\n            }\n            return target.apply(thisArg, argumentsList);\n          }\n        )\n      }\n    );\n    type.prototype.deleteRule = new Proxy(\n      unmodifiedFunctions[typeKey].deleteRule,\n      {\n        apply: callbackWrapper(\n          (target, thisArg, argumentsList) => {\n            const [index2] = argumentsList;\n            const { id, styleId } = getIdAndStyleId(\n              thisArg.parentStyleSheet,\n              mirror2,\n              stylesheetManager.styleMirror\n            );\n            if (id && id !== -1 || styleId && styleId !== -1) {\n              styleSheetRuleCb({\n                id,\n                styleId,\n                removes: [\n                  { index: [...getNestedCSSRulePositions(thisArg), index2] }\n                ]\n              });\n            }\n            return target.apply(thisArg, argumentsList);\n          }\n        )\n      }\n    );\n  });\n  return callbackWrapper(() => {\n    win.CSSStyleSheet.prototype.insertRule = insertRule;\n    win.CSSStyleSheet.prototype.deleteRule = deleteRule;\n    replace && (win.CSSStyleSheet.prototype.replace = replace);\n    replaceSync && (win.CSSStyleSheet.prototype.replaceSync = replaceSync);\n    Object.entries(supportedNestedCSSRuleTypes).forEach(([typeKey, type]) => {\n      type.prototype.insertRule = unmodifiedFunctions[typeKey].insertRule;\n      type.prototype.deleteRule = unmodifiedFunctions[typeKey].deleteRule;\n    });\n  });\n}\nfunction initAdoptedStyleSheetObserver({\n  mirror: mirror2,\n  stylesheetManager\n}, host2) {\n  var _a2, _b, _c;\n  let hostId = null;\n  if (host2.nodeName === \"#document\") hostId = mirror2.getId(host2);\n  else hostId = mirror2.getId(index.host(host2));\n  const patchTarget = host2.nodeName === \"#document\" ? (_a2 = host2.defaultView) == null ? void 0 : _a2.Document : (_c = (_b = host2.ownerDocument) == null ? void 0 : _b.defaultView) == null ? void 0 : _c.ShadowRoot;\n  const originalPropertyDescriptor = (patchTarget == null ? void 0 : patchTarget.prototype) ? Object.getOwnPropertyDescriptor(\n    patchTarget == null ? void 0 : patchTarget.prototype,\n    \"adoptedStyleSheets\"\n  ) : void 0;\n  if (hostId === null || hostId === -1 || !patchTarget || !originalPropertyDescriptor)\n    return () => {\n    };\n  Object.defineProperty(host2, \"adoptedStyleSheets\", {\n    configurable: originalPropertyDescriptor.configurable,\n    enumerable: originalPropertyDescriptor.enumerable,\n    get() {\n      var _a3;\n      return (_a3 = originalPropertyDescriptor.get) == null ? void 0 : _a3.call(this);\n    },\n    set(sheets) {\n      var _a3;\n      const result2 = (_a3 = originalPropertyDescriptor.set) == null ? void 0 : _a3.call(this, sheets);\n      if (hostId !== null && hostId !== -1) {\n        try {\n          stylesheetManager.adoptStyleSheets(sheets, hostId);\n        } catch (e2) {\n        }\n      }\n      return result2;\n    }\n  });\n  return callbackWrapper(() => {\n    Object.defineProperty(host2, \"adoptedStyleSheets\", {\n      configurable: originalPropertyDescriptor.configurable,\n      enumerable: originalPropertyDescriptor.enumerable,\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      get: originalPropertyDescriptor.get,\n      // eslint-disable-next-line @typescript-eslint/unbound-method\n      set: originalPropertyDescriptor.set\n    });\n  });\n}\nfunction initStyleDeclarationObserver({\n  styleDeclarationCb,\n  mirror: mirror2,\n  ignoreCSSAttributes,\n  stylesheetManager\n}, { win }) {\n  const setProperty = win.CSSStyleDeclaration.prototype.setProperty;\n  win.CSSStyleDeclaration.prototype.setProperty = new Proxy(setProperty, {\n    apply: callbackWrapper(\n      (target, thisArg, argumentsList) => {\n        var _a2;\n        const [property, value, priority] = argumentsList;\n        if (ignoreCSSAttributes.has(property)) {\n          return setProperty.apply(thisArg, [property, value, priority]);\n        }\n        const { id, styleId } = getIdAndStyleId(\n          (_a2 = thisArg.parentRule) == null ? void 0 : _a2.parentStyleSheet,\n          mirror2,\n          stylesheetManager.styleMirror\n        );\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleDeclarationCb({\n            id,\n            styleId,\n            set: {\n              property,\n              value,\n              priority\n            },\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            index: getNestedCSSRulePositions(thisArg.parentRule)\n          });\n        }\n        return target.apply(thisArg, argumentsList);\n      }\n    )\n  });\n  const removeProperty = win.CSSStyleDeclaration.prototype.removeProperty;\n  win.CSSStyleDeclaration.prototype.removeProperty = new Proxy(removeProperty, {\n    apply: callbackWrapper(\n      (target, thisArg, argumentsList) => {\n        var _a2;\n        const [property] = argumentsList;\n        if (ignoreCSSAttributes.has(property)) {\n          return removeProperty.apply(thisArg, [property]);\n        }\n        const { id, styleId } = getIdAndStyleId(\n          (_a2 = thisArg.parentRule) == null ? void 0 : _a2.parentStyleSheet,\n          mirror2,\n          stylesheetManager.styleMirror\n        );\n        if (id && id !== -1 || styleId && styleId !== -1) {\n          styleDeclarationCb({\n            id,\n            styleId,\n            remove: {\n              property\n            },\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            index: getNestedCSSRulePositions(thisArg.parentRule)\n          });\n        }\n        return target.apply(thisArg, argumentsList);\n      }\n    )\n  });\n  return callbackWrapper(() => {\n    win.CSSStyleDeclaration.prototype.setProperty = setProperty;\n    win.CSSStyleDeclaration.prototype.removeProperty = removeProperty;\n  });\n}\nfunction initMediaInteractionObserver({\n  mediaInteractionCb,\n  blockClass,\n  blockSelector,\n  mirror: mirror2,\n  sampling,\n  doc\n}) {\n  const handler = callbackWrapper(\n    (type) => throttle(\n      callbackWrapper((event) => {\n        const target = getEventTarget(event);\n        if (!target || isBlocked(target, blockClass, blockSelector, true)) {\n          return;\n        }\n        const { currentTime, volume, muted, playbackRate, loop } = target;\n        mediaInteractionCb({\n          type,\n          id: mirror2.getId(target),\n          currentTime,\n          volume,\n          muted,\n          playbackRate,\n          loop\n        });\n      }),\n      sampling.media || 500\n    )\n  );\n  const handlers = [\n    on(\"play\", handler(MediaInteractions.Play), doc),\n    on(\"pause\", handler(MediaInteractions.Pause), doc),\n    on(\"seeked\", handler(MediaInteractions.Seeked), doc),\n    on(\"volumechange\", handler(MediaInteractions.VolumeChange), doc),\n    on(\"ratechange\", handler(MediaInteractions.RateChange), doc)\n  ];\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction initFontObserver({ fontCb, doc }) {\n  const win = doc.defaultView;\n  if (!win) {\n    return () => {\n    };\n  }\n  const handlers = [];\n  const fontMap = /* @__PURE__ */ new WeakMap();\n  const originalFontFace = win.FontFace;\n  win.FontFace = function FontFace2(family, source, descriptors) {\n    const fontFace = new originalFontFace(family, source, descriptors);\n    fontMap.set(fontFace, {\n      family,\n      buffer: typeof source !== \"string\",\n      descriptors,\n      fontSource: typeof source === \"string\" ? source : JSON.stringify(Array.from(new Uint8Array(source)))\n    });\n    return fontFace;\n  };\n  const restoreHandler = patch(\n    doc.fonts,\n    \"add\",\n    function(original) {\n      return function(fontFace) {\n        setTimeout(\n          callbackWrapper(() => {\n            const p = fontMap.get(fontFace);\n            if (p) {\n              fontCb(p);\n              fontMap.delete(fontFace);\n            }\n          }),\n          0\n        );\n        return original.apply(this, [fontFace]);\n      };\n    }\n  );\n  handlers.push(() => {\n    win.FontFace = originalFontFace;\n  });\n  handlers.push(restoreHandler);\n  return callbackWrapper(() => {\n    handlers.forEach((h) => h());\n  });\n}\nfunction initSelectionObserver(param) {\n  const { doc, mirror: mirror2, blockClass, blockSelector, selectionCb } = param;\n  let collapsed = true;\n  const updateSelection = callbackWrapper(() => {\n    const selection = doc.getSelection();\n    if (!selection || collapsed && (selection == null ? void 0 : selection.isCollapsed)) return;\n    collapsed = selection.isCollapsed || false;\n    const ranges = [];\n    const count = selection.rangeCount || 0;\n    for (let i2 = 0; i2 < count; i2++) {\n      const range = selection.getRangeAt(i2);\n      const { startContainer, startOffset, endContainer, endOffset } = range;\n      const blocked = isBlocked(startContainer, blockClass, blockSelector, true) || isBlocked(endContainer, blockClass, blockSelector, true);\n      if (blocked) continue;\n      ranges.push({\n        start: mirror2.getId(startContainer),\n        startOffset,\n        end: mirror2.getId(endContainer),\n        endOffset\n      });\n    }\n    selectionCb({ ranges });\n  });\n  updateSelection();\n  return on(\"selectionchange\", updateSelection);\n}\nfunction initCustomElementObserver({\n  doc,\n  customElementCb\n}) {\n  const win = doc.defaultView;\n  if (!win || !win.customElements) return () => {\n  };\n  const restoreHandler = patch(\n    win.customElements,\n    \"define\",\n    function(original) {\n      return function(name, constructor, options) {\n        try {\n          customElementCb({\n            define: {\n              name\n            }\n          });\n        } catch (e2) {\n          console.warn(`Custom element callback failed for ${name}`);\n        }\n        return original.apply(this, [name, constructor, options]);\n      };\n    }\n  );\n  return restoreHandler;\n}\nfunction mergeHooks(o2, hooks) {\n  const {\n    mutationCb,\n    mousemoveCb,\n    mouseInteractionCb,\n    scrollCb,\n    viewportResizeCb,\n    inputCb,\n    mediaInteractionCb,\n    styleSheetRuleCb,\n    styleDeclarationCb,\n    canvasMutationCb,\n    fontCb,\n    selectionCb,\n    customElementCb\n  } = o2;\n  o2.mutationCb = (...p) => {\n    if (hooks.mutation) {\n      hooks.mutation(...p);\n    }\n    mutationCb(...p);\n  };\n  o2.mousemoveCb = (...p) => {\n    if (hooks.mousemove) {\n      hooks.mousemove(...p);\n    }\n    mousemoveCb(...p);\n  };\n  o2.mouseInteractionCb = (...p) => {\n    if (hooks.mouseInteraction) {\n      hooks.mouseInteraction(...p);\n    }\n    mouseInteractionCb(...p);\n  };\n  o2.scrollCb = (...p) => {\n    if (hooks.scroll) {\n      hooks.scroll(...p);\n    }\n    scrollCb(...p);\n  };\n  o2.viewportResizeCb = (...p) => {\n    if (hooks.viewportResize) {\n      hooks.viewportResize(...p);\n    }\n    viewportResizeCb(...p);\n  };\n  o2.inputCb = (...p) => {\n    if (hooks.input) {\n      hooks.input(...p);\n    }\n    inputCb(...p);\n  };\n  o2.mediaInteractionCb = (...p) => {\n    if (hooks.mediaInteaction) {\n      hooks.mediaInteaction(...p);\n    }\n    mediaInteractionCb(...p);\n  };\n  o2.styleSheetRuleCb = (...p) => {\n    if (hooks.styleSheetRule) {\n      hooks.styleSheetRule(...p);\n    }\n    styleSheetRuleCb(...p);\n  };\n  o2.styleDeclarationCb = (...p) => {\n    if (hooks.styleDeclaration) {\n      hooks.styleDeclaration(...p);\n    }\n    styleDeclarationCb(...p);\n  };\n  o2.canvasMutationCb = (...p) => {\n    if (hooks.canvasMutation) {\n      hooks.canvasMutation(...p);\n    }\n    canvasMutationCb(...p);\n  };\n  o2.fontCb = (...p) => {\n    if (hooks.font) {\n      hooks.font(...p);\n    }\n    fontCb(...p);\n  };\n  o2.selectionCb = (...p) => {\n    if (hooks.selection) {\n      hooks.selection(...p);\n    }\n    selectionCb(...p);\n  };\n  o2.customElementCb = (...c2) => {\n    if (hooks.customElement) {\n      hooks.customElement(...c2);\n    }\n    customElementCb(...c2);\n  };\n}\nfunction initObservers(o2, hooks = {}) {\n  const currentWindow = o2.doc.defaultView;\n  if (!currentWindow) {\n    return () => {\n    };\n  }\n  mergeHooks(o2, hooks);\n  let mutationObserver;\n  if (o2.recordDOM) {\n    mutationObserver = initMutationObserver(o2, o2.doc);\n  }\n  const mousemoveHandler = initMoveObserver(o2);\n  const mouseInteractionHandler = initMouseInteractionObserver(o2);\n  const scrollHandler = initScrollObserver(o2);\n  const viewportResizeHandler = initViewportResizeObserver(o2, {\n    win: currentWindow\n  });\n  const inputHandler = initInputObserver(o2);\n  const mediaInteractionHandler = initMediaInteractionObserver(o2);\n  let styleSheetObserver = () => {\n  };\n  let adoptedStyleSheetObserver = () => {\n  };\n  let styleDeclarationObserver = () => {\n  };\n  let fontObserver = () => {\n  };\n  if (o2.recordDOM) {\n    styleSheetObserver = initStyleSheetObserver(o2, { win: currentWindow });\n    adoptedStyleSheetObserver = initAdoptedStyleSheetObserver(o2, o2.doc);\n    styleDeclarationObserver = initStyleDeclarationObserver(o2, {\n      win: currentWindow\n    });\n    if (o2.collectFonts) {\n      fontObserver = initFontObserver(o2);\n    }\n  }\n  const selectionObserver = initSelectionObserver(o2);\n  const customElementObserver = initCustomElementObserver(o2);\n  const pluginHandlers = [];\n  for (const plugin of o2.plugins) {\n    pluginHandlers.push(\n      plugin.observer(plugin.callback, currentWindow, plugin.options)\n    );\n  }\n  return callbackWrapper(() => {\n    mutationBuffers.forEach((b) => b.reset());\n    mutationObserver == null ? void 0 : mutationObserver.disconnect();\n    mousemoveHandler();\n    mouseInteractionHandler();\n    scrollHandler();\n    viewportResizeHandler();\n    inputHandler();\n    mediaInteractionHandler();\n    styleSheetObserver();\n    adoptedStyleSheetObserver();\n    styleDeclarationObserver();\n    fontObserver();\n    selectionObserver();\n    customElementObserver();\n    pluginHandlers.forEach((h) => h());\n  });\n}\nfunction hasNestedCSSRule(prop) {\n  return typeof window[prop] !== \"undefined\";\n}\nfunction canMonkeyPatchNestedCSSRule(prop) {\n  return Boolean(\n    typeof window[prop] !== \"undefined\" && // Note: Generally, this check _shouldn't_ be necessary\n    // However, in some scenarios (e.g. jsdom) this can sometimes fail, so we check for it here\n    window[prop].prototype && \"insertRule\" in window[prop].prototype && \"deleteRule\" in window[prop].prototype\n  );\n}\nclass CrossOriginIframeMirror {\n  constructor(generateIdFn) {\n    __publicField(this, \"iframeIdToRemoteIdMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"iframeRemoteIdToIdMap\", /* @__PURE__ */ new WeakMap());\n    this.generateIdFn = generateIdFn;\n  }\n  getId(iframe, remoteId, idToRemoteMap, remoteToIdMap) {\n    const idToRemoteIdMap = idToRemoteMap || this.getIdToRemoteIdMap(iframe);\n    const remoteIdToIdMap = remoteToIdMap || this.getRemoteIdToIdMap(iframe);\n    let id = idToRemoteIdMap.get(remoteId);\n    if (!id) {\n      id = this.generateIdFn();\n      idToRemoteIdMap.set(remoteId, id);\n      remoteIdToIdMap.set(id, remoteId);\n    }\n    return id;\n  }\n  getIds(iframe, remoteId) {\n    const idToRemoteIdMap = this.getIdToRemoteIdMap(iframe);\n    const remoteIdToIdMap = this.getRemoteIdToIdMap(iframe);\n    return remoteId.map(\n      (id) => this.getId(iframe, id, idToRemoteIdMap, remoteIdToIdMap)\n    );\n  }\n  getRemoteId(iframe, id, map) {\n    const remoteIdToIdMap = map || this.getRemoteIdToIdMap(iframe);\n    if (typeof id !== \"number\") return id;\n    const remoteId = remoteIdToIdMap.get(id);\n    if (!remoteId) return -1;\n    return remoteId;\n  }\n  getRemoteIds(iframe, ids) {\n    const remoteIdToIdMap = this.getRemoteIdToIdMap(iframe);\n    return ids.map((id) => this.getRemoteId(iframe, id, remoteIdToIdMap));\n  }\n  reset(iframe) {\n    if (!iframe) {\n      this.iframeIdToRemoteIdMap = /* @__PURE__ */ new WeakMap();\n      this.iframeRemoteIdToIdMap = /* @__PURE__ */ new WeakMap();\n      return;\n    }\n    this.iframeIdToRemoteIdMap.delete(iframe);\n    this.iframeRemoteIdToIdMap.delete(iframe);\n  }\n  getIdToRemoteIdMap(iframe) {\n    let idToRemoteIdMap = this.iframeIdToRemoteIdMap.get(iframe);\n    if (!idToRemoteIdMap) {\n      idToRemoteIdMap = /* @__PURE__ */ new Map();\n      this.iframeIdToRemoteIdMap.set(iframe, idToRemoteIdMap);\n    }\n    return idToRemoteIdMap;\n  }\n  getRemoteIdToIdMap(iframe) {\n    let remoteIdToIdMap = this.iframeRemoteIdToIdMap.get(iframe);\n    if (!remoteIdToIdMap) {\n      remoteIdToIdMap = /* @__PURE__ */ new Map();\n      this.iframeRemoteIdToIdMap.set(iframe, remoteIdToIdMap);\n    }\n    return remoteIdToIdMap;\n  }\n}\nclass IframeManager {\n  constructor(options) {\n    __publicField(this, \"iframes\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"crossOriginIframeMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"crossOriginIframeMirror\", new CrossOriginIframeMirror(genId));\n    __publicField(this, \"crossOriginIframeStyleMirror\");\n    __publicField(this, \"crossOriginIframeRootIdMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"mirror\");\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"wrappedEmit\");\n    __publicField(this, \"loadListener\");\n    __publicField(this, \"stylesheetManager\");\n    __publicField(this, \"recordCrossOriginIframes\");\n    this.mutationCb = options.mutationCb;\n    this.wrappedEmit = options.wrappedEmit;\n    this.stylesheetManager = options.stylesheetManager;\n    this.recordCrossOriginIframes = options.recordCrossOriginIframes;\n    this.crossOriginIframeStyleMirror = new CrossOriginIframeMirror(\n      this.stylesheetManager.styleMirror.generateId.bind(\n        this.stylesheetManager.styleMirror\n      )\n    );\n    this.mirror = options.mirror;\n    if (this.recordCrossOriginIframes) {\n      window.addEventListener(\"message\", this.handleMessage.bind(this));\n    }\n  }\n  addIframe(iframeEl) {\n    this.iframes.set(iframeEl, true);\n    if (iframeEl.contentWindow)\n      this.crossOriginIframeMap.set(iframeEl.contentWindow, iframeEl);\n  }\n  addLoadListener(cb) {\n    this.loadListener = cb;\n  }\n  attachIframe(iframeEl, childSn) {\n    var _a2, _b;\n    this.mutationCb({\n      adds: [\n        {\n          parentId: this.mirror.getId(iframeEl),\n          nextId: null,\n          node: childSn\n        }\n      ],\n      removes: [],\n      texts: [],\n      attributes: [],\n      isAttachIframe: true\n    });\n    if (this.recordCrossOriginIframes)\n      (_a2 = iframeEl.contentWindow) == null ? void 0 : _a2.addEventListener(\n        \"message\",\n        this.handleMessage.bind(this)\n      );\n    (_b = this.loadListener) == null ? void 0 : _b.call(this, iframeEl);\n    if (iframeEl.contentDocument && iframeEl.contentDocument.adoptedStyleSheets && iframeEl.contentDocument.adoptedStyleSheets.length > 0)\n      this.stylesheetManager.adoptStyleSheets(\n        iframeEl.contentDocument.adoptedStyleSheets,\n        this.mirror.getId(iframeEl.contentDocument)\n      );\n  }\n  handleMessage(message) {\n    const crossOriginMessageEvent = message;\n    if (crossOriginMessageEvent.data.type !== \"rrweb\" || // To filter out the rrweb messages which are forwarded by some sites.\n    crossOriginMessageEvent.origin !== crossOriginMessageEvent.data.origin)\n      return;\n    const iframeSourceWindow = message.source;\n    if (!iframeSourceWindow) return;\n    const iframeEl = this.crossOriginIframeMap.get(message.source);\n    if (!iframeEl) return;\n    const transformedEvent = this.transformCrossOriginEvent(\n      iframeEl,\n      crossOriginMessageEvent.data.event\n    );\n    if (transformedEvent)\n      this.wrappedEmit(\n        transformedEvent,\n        crossOriginMessageEvent.data.isCheckout\n      );\n  }\n  transformCrossOriginEvent(iframeEl, e2) {\n    var _a2;\n    switch (e2.type) {\n      case EventType.FullSnapshot: {\n        this.crossOriginIframeMirror.reset(iframeEl);\n        this.crossOriginIframeStyleMirror.reset(iframeEl);\n        this.replaceIdOnNode(e2.data.node, iframeEl);\n        const rootId = e2.data.node.id;\n        this.crossOriginIframeRootIdMap.set(iframeEl, rootId);\n        this.patchRootIdOnNode(e2.data.node, rootId);\n        return {\n          timestamp: e2.timestamp,\n          type: EventType.IncrementalSnapshot,\n          data: {\n            source: IncrementalSource.Mutation,\n            adds: [\n              {\n                parentId: this.mirror.getId(iframeEl),\n                nextId: null,\n                node: e2.data.node\n              }\n            ],\n            removes: [],\n            texts: [],\n            attributes: [],\n            isAttachIframe: true\n          }\n        };\n      }\n      case EventType.Meta:\n      case EventType.Load:\n      case EventType.DomContentLoaded: {\n        return false;\n      }\n      case EventType.Plugin: {\n        return e2;\n      }\n      case EventType.Custom: {\n        this.replaceIds(\n          e2.data.payload,\n          iframeEl,\n          [\"id\", \"parentId\", \"previousId\", \"nextId\"]\n        );\n        return e2;\n      }\n      case EventType.IncrementalSnapshot: {\n        switch (e2.data.source) {\n          case IncrementalSource.Mutation: {\n            e2.data.adds.forEach((n2) => {\n              this.replaceIds(n2, iframeEl, [\n                \"parentId\",\n                \"nextId\",\n                \"previousId\"\n              ]);\n              this.replaceIdOnNode(n2.node, iframeEl);\n              const rootId = this.crossOriginIframeRootIdMap.get(iframeEl);\n              rootId && this.patchRootIdOnNode(n2.node, rootId);\n            });\n            e2.data.removes.forEach((n2) => {\n              this.replaceIds(n2, iframeEl, [\"parentId\", \"id\"]);\n            });\n            e2.data.attributes.forEach((n2) => {\n              this.replaceIds(n2, iframeEl, [\"id\"]);\n            });\n            e2.data.texts.forEach((n2) => {\n              this.replaceIds(n2, iframeEl, [\"id\"]);\n            });\n            return e2;\n          }\n          case IncrementalSource.Drag:\n          case IncrementalSource.TouchMove:\n          case IncrementalSource.MouseMove: {\n            e2.data.positions.forEach((p) => {\n              this.replaceIds(p, iframeEl, [\"id\"]);\n            });\n            return e2;\n          }\n          case IncrementalSource.ViewportResize: {\n            return false;\n          }\n          case IncrementalSource.MediaInteraction:\n          case IncrementalSource.MouseInteraction:\n          case IncrementalSource.Scroll:\n          case IncrementalSource.CanvasMutation:\n          case IncrementalSource.Input: {\n            this.replaceIds(e2.data, iframeEl, [\"id\"]);\n            return e2;\n          }\n          case IncrementalSource.StyleSheetRule:\n          case IncrementalSource.StyleDeclaration: {\n            this.replaceIds(e2.data, iframeEl, [\"id\"]);\n            this.replaceStyleIds(e2.data, iframeEl, [\"styleId\"]);\n            return e2;\n          }\n          case IncrementalSource.Font: {\n            return e2;\n          }\n          case IncrementalSource.Selection: {\n            e2.data.ranges.forEach((range) => {\n              this.replaceIds(range, iframeEl, [\"start\", \"end\"]);\n            });\n            return e2;\n          }\n          case IncrementalSource.AdoptedStyleSheet: {\n            this.replaceIds(e2.data, iframeEl, [\"id\"]);\n            this.replaceStyleIds(e2.data, iframeEl, [\"styleIds\"]);\n            (_a2 = e2.data.styles) == null ? void 0 : _a2.forEach((style) => {\n              this.replaceStyleIds(style, iframeEl, [\"styleId\"]);\n            });\n            return e2;\n          }\n        }\n      }\n    }\n    return false;\n  }\n  replace(iframeMirror, obj, iframeEl, keys) {\n    for (const key of keys) {\n      if (!Array.isArray(obj[key]) && typeof obj[key] !== \"number\") continue;\n      if (Array.isArray(obj[key])) {\n        obj[key] = iframeMirror.getIds(\n          iframeEl,\n          obj[key]\n        );\n      } else {\n        obj[key] = iframeMirror.getId(iframeEl, obj[key]);\n      }\n    }\n    return obj;\n  }\n  replaceIds(obj, iframeEl, keys) {\n    return this.replace(this.crossOriginIframeMirror, obj, iframeEl, keys);\n  }\n  replaceStyleIds(obj, iframeEl, keys) {\n    return this.replace(this.crossOriginIframeStyleMirror, obj, iframeEl, keys);\n  }\n  replaceIdOnNode(node2, iframeEl) {\n    this.replaceIds(node2, iframeEl, [\"id\", \"rootId\"]);\n    if (\"childNodes\" in node2) {\n      node2.childNodes.forEach((child) => {\n        this.replaceIdOnNode(child, iframeEl);\n      });\n    }\n  }\n  patchRootIdOnNode(node2, rootId) {\n    if (node2.type !== NodeType.Document && !node2.rootId) node2.rootId = rootId;\n    if (\"childNodes\" in node2) {\n      node2.childNodes.forEach((child) => {\n        this.patchRootIdOnNode(child, rootId);\n      });\n    }\n  }\n}\nclass ShadowDomManager {\n  constructor(options) {\n    __publicField(this, \"shadowDoms\", /* @__PURE__ */ new WeakSet());\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"scrollCb\");\n    __publicField(this, \"bypassOptions\");\n    __publicField(this, \"mirror\");\n    __publicField(this, \"restoreHandlers\", []);\n    this.mutationCb = options.mutationCb;\n    this.scrollCb = options.scrollCb;\n    this.bypassOptions = options.bypassOptions;\n    this.mirror = options.mirror;\n    this.init();\n  }\n  init() {\n    this.reset();\n    this.patchAttachShadow(Element, document);\n  }\n  addShadowRoot(shadowRoot2, doc) {\n    if (!isNativeShadowDom(shadowRoot2)) return;\n    if (this.shadowDoms.has(shadowRoot2)) return;\n    this.shadowDoms.add(shadowRoot2);\n    const observer = initMutationObserver(\n      {\n        ...this.bypassOptions,\n        doc,\n        mutationCb: this.mutationCb,\n        mirror: this.mirror,\n        shadowDomManager: this\n      },\n      shadowRoot2\n    );\n    this.restoreHandlers.push(() => observer.disconnect());\n    this.restoreHandlers.push(\n      initScrollObserver({\n        ...this.bypassOptions,\n        scrollCb: this.scrollCb,\n        // https://gist.github.com/praveenpuglia/0832da687ed5a5d7a0907046c9ef1813\n        // scroll is not allowed to pass the boundary, so we need to listen the shadow document\n        doc: shadowRoot2,\n        mirror: this.mirror\n      })\n    );\n    setTimeout(() => {\n      if (shadowRoot2.adoptedStyleSheets && shadowRoot2.adoptedStyleSheets.length > 0)\n        this.bypassOptions.stylesheetManager.adoptStyleSheets(\n          shadowRoot2.adoptedStyleSheets,\n          this.mirror.getId(index.host(shadowRoot2))\n        );\n      this.restoreHandlers.push(\n        initAdoptedStyleSheetObserver(\n          {\n            mirror: this.mirror,\n            stylesheetManager: this.bypassOptions.stylesheetManager\n          },\n          shadowRoot2\n        )\n      );\n    }, 0);\n  }\n  /**\n   * Monkey patch 'attachShadow' of an IFrameElement to observe newly added shadow doms.\n   */\n  observeAttachShadow(iframeElement) {\n    if (!iframeElement.contentWindow || !iframeElement.contentDocument) return;\n    this.patchAttachShadow(\n      iframeElement.contentWindow.Element,\n      iframeElement.contentDocument\n    );\n  }\n  /**\n   * Patch 'attachShadow' to observe newly added shadow doms.\n   */\n  patchAttachShadow(element, doc) {\n    const manager = this;\n    this.restoreHandlers.push(\n      patch(\n        element.prototype,\n        \"attachShadow\",\n        function(original) {\n          return function(option) {\n            const sRoot = original.call(this, option);\n            const shadowRootEl = index.shadowRoot(this);\n            if (shadowRootEl && inDom(this))\n              manager.addShadowRoot(shadowRootEl, doc);\n            return sRoot;\n          };\n        }\n      )\n    );\n  }\n  reset() {\n    this.restoreHandlers.forEach((handler) => {\n      try {\n        handler();\n      } catch (e2) {\n      }\n    });\n    this.restoreHandlers = [];\n    this.shadowDoms = /* @__PURE__ */ new WeakSet();\n  }\n}\nvar chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nvar lookup = typeof Uint8Array === \"undefined\" ? [] : new Uint8Array(256);\nfor (var i$1 = 0; i$1 < chars.length; i$1++) {\n  lookup[chars.charCodeAt(i$1)] = i$1;\n}\nvar encode = function(arraybuffer) {\n  var bytes = new Uint8Array(arraybuffer), i2, len = bytes.length, base64 = \"\";\n  for (i2 = 0; i2 < len; i2 += 3) {\n    base64 += chars[bytes[i2] >> 2];\n    base64 += chars[(bytes[i2] & 3) << 4 | bytes[i2 + 1] >> 4];\n    base64 += chars[(bytes[i2 + 1] & 15) << 2 | bytes[i2 + 2] >> 6];\n    base64 += chars[bytes[i2 + 2] & 63];\n  }\n  if (len % 3 === 2) {\n    base64 = base64.substring(0, base64.length - 1) + \"=\";\n  } else if (len % 3 === 1) {\n    base64 = base64.substring(0, base64.length - 2) + \"==\";\n  }\n  return base64;\n};\nconst canvasVarMap = /* @__PURE__ */ new Map();\nfunction variableListFor$1(ctx, ctor) {\n  let contextMap = canvasVarMap.get(ctx);\n  if (!contextMap) {\n    contextMap = /* @__PURE__ */ new Map();\n    canvasVarMap.set(ctx, contextMap);\n  }\n  if (!contextMap.has(ctor)) {\n    contextMap.set(ctor, []);\n  }\n  return contextMap.get(ctor);\n}\nconst saveWebGLVar = (value, win, ctx) => {\n  if (!value || !(isInstanceOfWebGLObject(value, win) || typeof value === \"object\"))\n    return;\n  const name = value.constructor.name;\n  const list = variableListFor$1(ctx, name);\n  let index2 = list.indexOf(value);\n  if (index2 === -1) {\n    index2 = list.length;\n    list.push(value);\n  }\n  return index2;\n};\nfunction serializeArg(value, win, ctx) {\n  if (value instanceof Array) {\n    return value.map((arg) => serializeArg(arg, win, ctx));\n  } else if (value === null) {\n    return value;\n  } else if (value instanceof Float32Array || value instanceof Float64Array || value instanceof Int32Array || value instanceof Uint32Array || value instanceof Uint8Array || value instanceof Uint16Array || value instanceof Int16Array || value instanceof Int8Array || value instanceof Uint8ClampedArray) {\n    const name = value.constructor.name;\n    return {\n      rr_type: name,\n      args: [Object.values(value)]\n    };\n  } else if (\n    // SharedArrayBuffer disabled on most browsers due to spectre.\n    // More info: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/SharedArrayBuffer/SharedArrayBuffer\n    // value instanceof SharedArrayBuffer ||\n    value instanceof ArrayBuffer\n  ) {\n    const name = value.constructor.name;\n    const base64 = encode(value);\n    return {\n      rr_type: name,\n      base64\n    };\n  } else if (value instanceof DataView) {\n    const name = value.constructor.name;\n    return {\n      rr_type: name,\n      args: [\n        serializeArg(value.buffer, win, ctx),\n        value.byteOffset,\n        value.byteLength\n      ]\n    };\n  } else if (value instanceof HTMLImageElement) {\n    const name = value.constructor.name;\n    const { src } = value;\n    return {\n      rr_type: name,\n      src\n    };\n  } else if (value instanceof HTMLCanvasElement) {\n    const name = \"HTMLImageElement\";\n    const src = value.toDataURL();\n    return {\n      rr_type: name,\n      src\n    };\n  } else if (value instanceof ImageData) {\n    const name = value.constructor.name;\n    return {\n      rr_type: name,\n      args: [serializeArg(value.data, win, ctx), value.width, value.height]\n    };\n  } else if (isInstanceOfWebGLObject(value, win) || typeof value === \"object\") {\n    const name = value.constructor.name;\n    const index2 = saveWebGLVar(value, win, ctx);\n    return {\n      rr_type: name,\n      index: index2\n    };\n  }\n  return value;\n}\nconst serializeArgs = (args, win, ctx) => {\n  return args.map((arg) => serializeArg(arg, win, ctx));\n};\nconst isInstanceOfWebGLObject = (value, win) => {\n  const webGLConstructorNames = [\n    \"WebGLActiveInfo\",\n    \"WebGLBuffer\",\n    \"WebGLFramebuffer\",\n    \"WebGLProgram\",\n    \"WebGLRenderbuffer\",\n    \"WebGLShader\",\n    \"WebGLShaderPrecisionFormat\",\n    \"WebGLTexture\",\n    \"WebGLUniformLocation\",\n    \"WebGLVertexArrayObject\",\n    // In old Chrome versions, value won't be an instanceof WebGLVertexArrayObject.\n    \"WebGLVertexArrayObjectOES\"\n  ];\n  const supportedWebGLConstructorNames = webGLConstructorNames.filter(\n    (name) => typeof win[name] === \"function\"\n  );\n  return Boolean(\n    supportedWebGLConstructorNames.find(\n      (name) => value instanceof win[name]\n    )\n  );\n};\nfunction initCanvas2DMutationObserver(cb, win, blockClass, blockSelector) {\n  const handlers = [];\n  const props2D = Object.getOwnPropertyNames(\n    win.CanvasRenderingContext2D.prototype\n  );\n  for (const prop of props2D) {\n    try {\n      if (typeof win.CanvasRenderingContext2D.prototype[prop] !== \"function\") {\n        continue;\n      }\n      const restoreHandler = patch(\n        win.CanvasRenderingContext2D.prototype,\n        prop,\n        function(original) {\n          return function(...args) {\n            if (!isBlocked(this.canvas, blockClass, blockSelector, true)) {\n              setTimeout(() => {\n                const recordArgs = serializeArgs(args, win, this);\n                cb(this.canvas, {\n                  type: CanvasContext[\"2D\"],\n                  property: prop,\n                  args: recordArgs\n                });\n              }, 0);\n            }\n            return original.apply(this, args);\n          };\n        }\n      );\n      handlers.push(restoreHandler);\n    } catch {\n      const hookHandler = hookSetter(\n        win.CanvasRenderingContext2D.prototype,\n        prop,\n        {\n          set(v2) {\n            cb(this.canvas, {\n              type: CanvasContext[\"2D\"],\n              property: prop,\n              args: [v2],\n              setter: true\n            });\n          }\n        }\n      );\n      handlers.push(hookHandler);\n    }\n  }\n  return () => {\n    handlers.forEach((h) => h());\n  };\n}\nfunction getNormalizedContextName(contextType) {\n  return contextType === \"experimental-webgl\" ? \"webgl\" : contextType;\n}\nfunction initCanvasContextObserver(win, blockClass, blockSelector, setPreserveDrawingBufferToTrue) {\n  const handlers = [];\n  try {\n    const restoreHandler = patch(\n      win.HTMLCanvasElement.prototype,\n      \"getContext\",\n      function(original) {\n        return function(contextType, ...args) {\n          if (!isBlocked(this, blockClass, blockSelector, true)) {\n            const ctxName = getNormalizedContextName(contextType);\n            if (!(\"__context\" in this)) this.__context = ctxName;\n            if (setPreserveDrawingBufferToTrue && [\"webgl\", \"webgl2\"].includes(ctxName)) {\n              if (args[0] && typeof args[0] === \"object\") {\n                const contextAttributes = args[0];\n                if (!contextAttributes.preserveDrawingBuffer) {\n                  contextAttributes.preserveDrawingBuffer = true;\n                }\n              } else {\n                args.splice(0, 1, {\n                  preserveDrawingBuffer: true\n                });\n              }\n            }\n          }\n          return original.apply(this, [contextType, ...args]);\n        };\n      }\n    );\n    handlers.push(restoreHandler);\n  } catch {\n    console.error(\"failed to patch HTMLCanvasElement.prototype.getContext\");\n  }\n  return () => {\n    handlers.forEach((h) => h());\n  };\n}\nfunction patchGLPrototype(prototype, type, cb, blockClass, blockSelector, win) {\n  const handlers = [];\n  const props = Object.getOwnPropertyNames(prototype);\n  for (const prop of props) {\n    if (\n      //prop.startsWith('get') ||  // e.g. getProgramParameter, but too risky\n      [\n        \"isContextLost\",\n        \"canvas\",\n        \"drawingBufferWidth\",\n        \"drawingBufferHeight\"\n      ].includes(prop)\n    ) {\n      continue;\n    }\n    try {\n      if (typeof prototype[prop] !== \"function\") {\n        continue;\n      }\n      const restoreHandler = patch(\n        prototype,\n        prop,\n        function(original) {\n          return function(...args) {\n            const result2 = original.apply(this, args);\n            saveWebGLVar(result2, win, this);\n            if (\"tagName\" in this.canvas && !isBlocked(this.canvas, blockClass, blockSelector, true)) {\n              const recordArgs = serializeArgs(args, win, this);\n              const mutation = {\n                type,\n                property: prop,\n                args: recordArgs\n              };\n              cb(this.canvas, mutation);\n            }\n            return result2;\n          };\n        }\n      );\n      handlers.push(restoreHandler);\n    } catch {\n      const hookHandler = hookSetter(prototype, prop, {\n        set(v2) {\n          cb(this.canvas, {\n            type,\n            property: prop,\n            args: [v2],\n            setter: true\n          });\n        }\n      });\n      handlers.push(hookHandler);\n    }\n  }\n  return handlers;\n}\nfunction initCanvasWebGLMutationObserver(cb, win, blockClass, blockSelector) {\n  const handlers = [];\n  handlers.push(\n    ...patchGLPrototype(\n      win.WebGLRenderingContext.prototype,\n      CanvasContext.WebGL,\n      cb,\n      blockClass,\n      blockSelector,\n      win\n    )\n  );\n  if (typeof win.WebGL2RenderingContext !== \"undefined\") {\n    handlers.push(\n      ...patchGLPrototype(\n        win.WebGL2RenderingContext.prototype,\n        CanvasContext.WebGL2,\n        cb,\n        blockClass,\n        blockSelector,\n        win\n      )\n    );\n  }\n  return () => {\n    handlers.forEach((h) => h());\n  };\n}\nconst jsContent = '(function() {\\n  \"use strict\";\\n  var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\\n  var lookup = typeof Uint8Array === \"undefined\" ? [] : new Uint8Array(256);\\n  for (var i = 0; i < chars.length; i++) {\\n    lookup[chars.charCodeAt(i)] = i;\\n  }\\n  var encode = function(arraybuffer) {\\n    var bytes = new Uint8Array(arraybuffer), i2, len = bytes.length, base64 = \"\";\\n    for (i2 = 0; i2 < len; i2 += 3) {\\n      base64 += chars[bytes[i2] >> 2];\\n      base64 += chars[(bytes[i2] & 3) << 4 | bytes[i2 + 1] >> 4];\\n      base64 += chars[(bytes[i2 + 1] & 15) << 2 | bytes[i2 + 2] >> 6];\\n      base64 += chars[bytes[i2 + 2] & 63];\\n    }\\n    if (len % 3 === 2) {\\n      base64 = base64.substring(0, base64.length - 1) + \"=\";\\n    } else if (len % 3 === 1) {\\n      base64 = base64.substring(0, base64.length - 2) + \"==\";\\n    }\\n    return base64;\\n  };\\n  const lastBlobMap = /* @__PURE__ */ new Map();\\n  const transparentBlobMap = /* @__PURE__ */ new Map();\\n  async function getTransparentBlobFor(width, height, dataURLOptions) {\\n    const id = `${width}-${height}`;\\n    if (\"OffscreenCanvas\" in globalThis) {\\n      if (transparentBlobMap.has(id)) return transparentBlobMap.get(id);\\n      const offscreen = new OffscreenCanvas(width, height);\\n      offscreen.getContext(\"2d\");\\n      const blob = await offscreen.convertToBlob(dataURLOptions);\\n      const arrayBuffer = await blob.arrayBuffer();\\n      const base64 = encode(arrayBuffer);\\n      transparentBlobMap.set(id, base64);\\n      return base64;\\n    } else {\\n      return \"\";\\n    }\\n  }\\n  const worker = self;\\n  worker.onmessage = async function(e) {\\n    if (\"OffscreenCanvas\" in globalThis) {\\n      const { id, bitmap, width, height, dataURLOptions } = e.data;\\n      const transparentBase64 = getTransparentBlobFor(\\n        width,\\n        height,\\n        dataURLOptions\\n      );\\n      const offscreen = new OffscreenCanvas(width, height);\\n      const ctx = offscreen.getContext(\"2d\");\\n      ctx.drawImage(bitmap, 0, 0);\\n      bitmap.close();\\n      const blob = await offscreen.convertToBlob(dataURLOptions);\\n      const type = blob.type;\\n      const arrayBuffer = await blob.arrayBuffer();\\n      const base64 = encode(arrayBuffer);\\n      if (!lastBlobMap.has(id) && await transparentBase64 === base64) {\\n        lastBlobMap.set(id, base64);\\n        return worker.postMessage({ id });\\n      }\\n      if (lastBlobMap.get(id) === base64) return worker.postMessage({ id });\\n      worker.postMessage({\\n        id,\\n        type,\\n        base64,\\n        width,\\n        height\\n      });\\n      lastBlobMap.set(id, base64);\\n    } else {\\n      return worker.postMessage({ id: e.data.id });\\n    }\\n  };\\n})();\\n//# sourceMappingURL=image-bitmap-data-url-worker-IJpC7g_b.js.map\\n';\nconst blob = typeof self !== \"undefined\" && self.Blob && new Blob([jsContent], { type: \"text/javascript;charset=utf-8\" });\nfunction WorkerWrapper(options) {\n  let objURL;\n  try {\n    objURL = blob && (self.URL || self.webkitURL).createObjectURL(blob);\n    if (!objURL) throw \"\";\n    const worker = new Worker(objURL, {\n      name: options == null ? void 0 : options.name\n    });\n    worker.addEventListener(\"error\", () => {\n      (self.URL || self.webkitURL).revokeObjectURL(objURL);\n    });\n    return worker;\n  } catch (e2) {\n    return new Worker(\n      \"data:text/javascript;charset=utf-8,\" + encodeURIComponent(jsContent),\n      {\n        name: options == null ? void 0 : options.name\n      }\n    );\n  } finally {\n    objURL && (self.URL || self.webkitURL).revokeObjectURL(objURL);\n  }\n}\nclass CanvasManager {\n  constructor(options) {\n    __publicField(this, \"pendingCanvasMutations\", /* @__PURE__ */ new Map());\n    __publicField(this, \"rafStamps\", { latestId: 0, invokeId: null });\n    __publicField(this, \"mirror\");\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"resetObservers\");\n    __publicField(this, \"frozen\", false);\n    __publicField(this, \"locked\", false);\n    __publicField(this, \"processMutation\", (target, mutation) => {\n      const newFrame = this.rafStamps.invokeId && this.rafStamps.latestId !== this.rafStamps.invokeId;\n      if (newFrame || !this.rafStamps.invokeId)\n        this.rafStamps.invokeId = this.rafStamps.latestId;\n      if (!this.pendingCanvasMutations.has(target)) {\n        this.pendingCanvasMutations.set(target, []);\n      }\n      this.pendingCanvasMutations.get(target).push(mutation);\n    });\n    const {\n      sampling = \"all\",\n      win,\n      blockClass,\n      blockSelector,\n      recordCanvas,\n      dataURLOptions\n    } = options;\n    this.mutationCb = options.mutationCb;\n    this.mirror = options.mirror;\n    if (recordCanvas && sampling === \"all\")\n      this.initCanvasMutationObserver(win, blockClass, blockSelector);\n    if (recordCanvas && typeof sampling === \"number\")\n      this.initCanvasFPSObserver(sampling, win, blockClass, blockSelector, {\n        dataURLOptions\n      });\n  }\n  reset() {\n    this.pendingCanvasMutations.clear();\n    this.resetObservers && this.resetObservers();\n  }\n  freeze() {\n    this.frozen = true;\n  }\n  unfreeze() {\n    this.frozen = false;\n  }\n  lock() {\n    this.locked = true;\n  }\n  unlock() {\n    this.locked = false;\n  }\n  initCanvasFPSObserver(fps, win, blockClass, blockSelector, options) {\n    const canvasContextReset = initCanvasContextObserver(\n      win,\n      blockClass,\n      blockSelector,\n      true\n    );\n    const snapshotInProgressMap = /* @__PURE__ */ new Map();\n    const worker = new WorkerWrapper();\n    worker.onmessage = (e2) => {\n      const { id } = e2.data;\n      snapshotInProgressMap.set(id, false);\n      if (!(\"base64\" in e2.data)) return;\n      const { base64, type, width, height } = e2.data;\n      this.mutationCb({\n        id,\n        type: CanvasContext[\"2D\"],\n        commands: [\n          {\n            property: \"clearRect\",\n            // wipe canvas\n            args: [0, 0, width, height]\n          },\n          {\n            property: \"drawImage\",\n            // draws (semi-transparent) image\n            args: [\n              {\n                rr_type: \"ImageBitmap\",\n                args: [\n                  {\n                    rr_type: \"Blob\",\n                    data: [{ rr_type: \"ArrayBuffer\", base64 }],\n                    type\n                  }\n                ]\n              },\n              0,\n              0\n            ]\n          }\n        ]\n      });\n    };\n    const timeBetweenSnapshots = 1e3 / fps;\n    let lastSnapshotTime = 0;\n    let rafId;\n    const getCanvas = () => {\n      const matchedCanvas = [];\n      const searchCanvas = (haystack) => {\n        haystack.querySelectorAll(\"canvas\").forEach((canvas) => {\n          if (!isBlocked(canvas, blockClass, blockSelector, true)) {\n            matchedCanvas.push(canvas);\n          }\n        });\n        haystack.querySelectorAll(\"*\").forEach((elem) => {\n          if (elem.shadowRoot) {\n            searchCanvas(elem.shadowRoot);\n          }\n        });\n      };\n      searchCanvas(win.document);\n      return matchedCanvas;\n    };\n    const takeCanvasSnapshots = (timestamp) => {\n      if (lastSnapshotTime && timestamp - lastSnapshotTime < timeBetweenSnapshots) {\n        rafId = requestAnimationFrame(takeCanvasSnapshots);\n        return;\n      }\n      lastSnapshotTime = timestamp;\n      getCanvas().forEach(async (canvas) => {\n        var _a2;\n        const id = this.mirror.getId(canvas);\n        if (snapshotInProgressMap.get(id)) return;\n        if (canvas.width === 0 || canvas.height === 0) return;\n        snapshotInProgressMap.set(id, true);\n        if ([\"webgl\", \"webgl2\"].includes(canvas.__context)) {\n          const context = canvas.getContext(canvas.__context);\n          if (((_a2 = context == null ? void 0 : context.getContextAttributes()) == null ? void 0 : _a2.preserveDrawingBuffer) === false) {\n            context.clear(context.COLOR_BUFFER_BIT);\n          }\n        }\n        const width = canvas.clientWidth || canvas.width;\n        const height = canvas.clientHeight || canvas.height;\n        const bitmap = await createImageBitmap(canvas, {\n          resizeWidth: width,\n          resizeHeight: height\n        });\n        worker.postMessage(\n          {\n            id,\n            bitmap,\n            width,\n            height,\n            dataURLOptions: options.dataURLOptions\n          },\n          [bitmap]\n        );\n      });\n      rafId = requestAnimationFrame(takeCanvasSnapshots);\n    };\n    rafId = requestAnimationFrame(takeCanvasSnapshots);\n    this.resetObservers = () => {\n      canvasContextReset();\n      cancelAnimationFrame(rafId);\n    };\n  }\n  initCanvasMutationObserver(win, blockClass, blockSelector) {\n    this.startRAFTimestamping();\n    this.startPendingCanvasMutationFlusher();\n    const canvasContextReset = initCanvasContextObserver(\n      win,\n      blockClass,\n      blockSelector,\n      false\n    );\n    const canvas2DReset = initCanvas2DMutationObserver(\n      this.processMutation.bind(this),\n      win,\n      blockClass,\n      blockSelector\n    );\n    const canvasWebGL1and2Reset = initCanvasWebGLMutationObserver(\n      this.processMutation.bind(this),\n      win,\n      blockClass,\n      blockSelector\n    );\n    this.resetObservers = () => {\n      canvasContextReset();\n      canvas2DReset();\n      canvasWebGL1and2Reset();\n    };\n  }\n  startPendingCanvasMutationFlusher() {\n    requestAnimationFrame(() => this.flushPendingCanvasMutations());\n  }\n  startRAFTimestamping() {\n    const setLatestRAFTimestamp = (timestamp) => {\n      this.rafStamps.latestId = timestamp;\n      requestAnimationFrame(setLatestRAFTimestamp);\n    };\n    requestAnimationFrame(setLatestRAFTimestamp);\n  }\n  flushPendingCanvasMutations() {\n    this.pendingCanvasMutations.forEach(\n      (_values, canvas) => {\n        const id = this.mirror.getId(canvas);\n        this.flushPendingCanvasMutationFor(canvas, id);\n      }\n    );\n    requestAnimationFrame(() => this.flushPendingCanvasMutations());\n  }\n  flushPendingCanvasMutationFor(canvas, id) {\n    if (this.frozen || this.locked) {\n      return;\n    }\n    const valuesWithType = this.pendingCanvasMutations.get(canvas);\n    if (!valuesWithType || id === -1) return;\n    const values = valuesWithType.map((value) => {\n      const { type: type2, ...rest } = value;\n      return rest;\n    });\n    const { type } = valuesWithType[0];\n    this.mutationCb({ id, type, commands: values });\n    this.pendingCanvasMutations.delete(canvas);\n  }\n}\nclass StylesheetManager {\n  constructor(options) {\n    __publicField(this, \"trackedLinkElements\", /* @__PURE__ */ new WeakSet());\n    __publicField(this, \"mutationCb\");\n    __publicField(this, \"adoptedStyleSheetCb\");\n    __publicField(this, \"styleMirror\", new StyleSheetMirror());\n    this.mutationCb = options.mutationCb;\n    this.adoptedStyleSheetCb = options.adoptedStyleSheetCb;\n  }\n  attachLinkElement(linkEl, childSn) {\n    if (\"_cssText\" in childSn.attributes)\n      this.mutationCb({\n        adds: [],\n        removes: [],\n        texts: [],\n        attributes: [\n          {\n            id: childSn.id,\n            attributes: childSn.attributes\n          }\n        ]\n      });\n    this.trackLinkElement(linkEl);\n  }\n  trackLinkElement(linkEl) {\n    if (this.trackedLinkElements.has(linkEl)) return;\n    this.trackedLinkElements.add(linkEl);\n    this.trackStylesheetInLinkElement(linkEl);\n  }\n  adoptStyleSheets(sheets, hostId) {\n    if (sheets.length === 0) return;\n    const adoptedStyleSheetData = {\n      id: hostId,\n      styleIds: []\n    };\n    const styles = [];\n    for (const sheet of sheets) {\n      let styleId;\n      if (!this.styleMirror.has(sheet)) {\n        styleId = this.styleMirror.add(sheet);\n        styles.push({\n          styleId,\n          rules: Array.from(sheet.rules || CSSRule, (r2, index2) => ({\n            rule: stringifyRule(r2, sheet.href),\n            index: index2\n          }))\n        });\n      } else styleId = this.styleMirror.getId(sheet);\n      adoptedStyleSheetData.styleIds.push(styleId);\n    }\n    if (styles.length > 0) adoptedStyleSheetData.styles = styles;\n    this.adoptedStyleSheetCb(adoptedStyleSheetData);\n  }\n  reset() {\n    this.styleMirror.reset();\n    this.trackedLinkElements = /* @__PURE__ */ new WeakSet();\n  }\n  // TODO: take snapshot on stylesheet reload by applying event listener\n  trackStylesheetInLinkElement(_linkEl) {\n  }\n}\nclass ProcessedNodeManager {\n  constructor() {\n    __publicField(this, \"nodeMap\", /* @__PURE__ */ new WeakMap());\n    __publicField(this, \"active\", false);\n  }\n  inOtherBuffer(node2, thisBuffer) {\n    const buffers = this.nodeMap.get(node2);\n    return buffers && Array.from(buffers).some((buffer) => buffer !== thisBuffer);\n  }\n  add(node2, buffer) {\n    if (!this.active) {\n      this.active = true;\n      requestAnimationFrame(() => {\n        this.nodeMap = /* @__PURE__ */ new WeakMap();\n        this.active = false;\n      });\n    }\n    this.nodeMap.set(node2, (this.nodeMap.get(node2) || /* @__PURE__ */ new Set()).add(buffer));\n  }\n  destroy() {\n  }\n}\nlet wrappedEmit;\nlet takeFullSnapshot$1;\nlet canvasManager;\nlet recording = false;\ntry {\n  if (Array.from([1], (x) => x * 2)[0] !== 2) {\n    const cleanFrame = document.createElement(\"iframe\");\n    document.body.appendChild(cleanFrame);\n    Array.from = ((_a = cleanFrame.contentWindow) == null ? void 0 : _a.Array.from) || Array.from;\n    document.body.removeChild(cleanFrame);\n  }\n} catch (err) {\n  console.debug(\"Unable to override Array.from\", err);\n}\nconst mirror = createMirror$2();\nfunction record(options = {}) {\n  const {\n    emit,\n    checkoutEveryNms,\n    checkoutEveryNth,\n    blockClass = \"rr-block\",\n    blockSelector = null,\n    ignoreClass = \"rr-ignore\",\n    ignoreSelector = null,\n    maskTextClass = \"rr-mask\",\n    maskTextSelector = null,\n    inlineStylesheet = true,\n    maskAllInputs,\n    maskInputOptions: _maskInputOptions,\n    slimDOMOptions: _slimDOMOptions,\n    maskInputFn,\n    maskTextFn,\n    hooks,\n    packFn,\n    sampling = {},\n    dataURLOptions = {},\n    mousemoveWait,\n    recordDOM = true,\n    recordCanvas = false,\n    recordCrossOriginIframes = false,\n    recordAfter = options.recordAfter === \"DOMContentLoaded\" ? options.recordAfter : \"load\",\n    userTriggeredOnInput = false,\n    collectFonts = false,\n    inlineImages = false,\n    plugins,\n    keepIframeSrcFn = () => false,\n    ignoreCSSAttributes = /* @__PURE__ */ new Set([]),\n    errorHandler: errorHandler2\n  } = options;\n  registerErrorHandler(errorHandler2);\n  const inEmittingFrame = recordCrossOriginIframes ? window.parent === window : true;\n  let passEmitsToParent = false;\n  if (!inEmittingFrame) {\n    try {\n      if (window.parent.document) {\n        passEmitsToParent = false;\n      }\n    } catch (e2) {\n      passEmitsToParent = true;\n    }\n  }\n  if (inEmittingFrame && !emit) {\n    throw new Error(\"emit function is required\");\n  }\n  if (!inEmittingFrame && !passEmitsToParent) {\n    return () => {\n    };\n  }\n  if (mousemoveWait !== void 0 && sampling.mousemove === void 0) {\n    sampling.mousemove = mousemoveWait;\n  }\n  mirror.reset();\n  const maskInputOptions = maskAllInputs === true ? {\n    color: true,\n    date: true,\n    \"datetime-local\": true,\n    email: true,\n    month: true,\n    number: true,\n    range: true,\n    search: true,\n    tel: true,\n    text: true,\n    time: true,\n    url: true,\n    week: true,\n    textarea: true,\n    select: true,\n    password: true\n  } : _maskInputOptions !== void 0 ? _maskInputOptions : { password: true };\n  const slimDOMOptions = _slimDOMOptions === true || _slimDOMOptions === \"all\" ? {\n    script: true,\n    comment: true,\n    headFavicon: true,\n    headWhitespace: true,\n    headMetaSocial: true,\n    headMetaRobots: true,\n    headMetaHttpEquiv: true,\n    headMetaVerification: true,\n    // the following are off for slimDOMOptions === true,\n    // as they destroy some (hidden) info:\n    headMetaAuthorship: _slimDOMOptions === \"all\",\n    headMetaDescKeywords: _slimDOMOptions === \"all\",\n    headTitleMutations: _slimDOMOptions === \"all\"\n  } : _slimDOMOptions ? _slimDOMOptions : {};\n  polyfill$1();\n  let lastFullSnapshotEvent;\n  let incrementalSnapshotCount = 0;\n  const eventProcessor = (e2) => {\n    for (const plugin of plugins || []) {\n      if (plugin.eventProcessor) {\n        e2 = plugin.eventProcessor(e2);\n      }\n    }\n    if (packFn && // Disable packing events which will be emitted to parent frames.\n    !passEmitsToParent) {\n      e2 = packFn(e2);\n    }\n    return e2;\n  };\n  wrappedEmit = (r2, isCheckout) => {\n    var _a2;\n    const e2 = r2;\n    e2.timestamp = nowTimestamp();\n    if (((_a2 = mutationBuffers[0]) == null ? void 0 : _a2.isFrozen()) && e2.type !== EventType.FullSnapshot && !(e2.type === EventType.IncrementalSnapshot && e2.data.source === IncrementalSource.Mutation)) {\n      mutationBuffers.forEach((buf) => buf.unfreeze());\n    }\n    if (inEmittingFrame) {\n      emit == null ? void 0 : emit(eventProcessor(e2), isCheckout);\n    } else if (passEmitsToParent) {\n      const message = {\n        type: \"rrweb\",\n        event: eventProcessor(e2),\n        origin: window.location.origin,\n        isCheckout\n      };\n      window.parent.postMessage(message, \"*\");\n    }\n    if (e2.type === EventType.FullSnapshot) {\n      lastFullSnapshotEvent = e2;\n      incrementalSnapshotCount = 0;\n    } else if (e2.type === EventType.IncrementalSnapshot) {\n      if (e2.data.source === IncrementalSource.Mutation && e2.data.isAttachIframe) {\n        return;\n      }\n      incrementalSnapshotCount++;\n      const exceedCount = checkoutEveryNth && incrementalSnapshotCount >= checkoutEveryNth;\n      const exceedTime = checkoutEveryNms && e2.timestamp - lastFullSnapshotEvent.timestamp > checkoutEveryNms;\n      if (exceedCount || exceedTime) {\n        takeFullSnapshot$1(true);\n      }\n    }\n  };\n  const wrappedMutationEmit = (m) => {\n    wrappedEmit({\n      type: EventType.IncrementalSnapshot,\n      data: {\n        source: IncrementalSource.Mutation,\n        ...m\n      }\n    });\n  };\n  const wrappedScrollEmit = (p) => wrappedEmit({\n    type: EventType.IncrementalSnapshot,\n    data: {\n      source: IncrementalSource.Scroll,\n      ...p\n    }\n  });\n  const wrappedCanvasMutationEmit = (p) => wrappedEmit({\n    type: EventType.IncrementalSnapshot,\n    data: {\n      source: IncrementalSource.CanvasMutation,\n      ...p\n    }\n  });\n  const wrappedAdoptedStyleSheetEmit = (a2) => wrappedEmit({\n    type: EventType.IncrementalSnapshot,\n    data: {\n      source: IncrementalSource.AdoptedStyleSheet,\n      ...a2\n    }\n  });\n  const stylesheetManager = new StylesheetManager({\n    mutationCb: wrappedMutationEmit,\n    adoptedStyleSheetCb: wrappedAdoptedStyleSheetEmit\n  });\n  const iframeManager = new IframeManager({\n    mirror,\n    mutationCb: wrappedMutationEmit,\n    stylesheetManager,\n    recordCrossOriginIframes,\n    wrappedEmit\n  });\n  for (const plugin of plugins || []) {\n    if (plugin.getMirror)\n      plugin.getMirror({\n        nodeMirror: mirror,\n        crossOriginIframeMirror: iframeManager.crossOriginIframeMirror,\n        crossOriginIframeStyleMirror: iframeManager.crossOriginIframeStyleMirror\n      });\n  }\n  const processedNodeManager = new ProcessedNodeManager();\n  canvasManager = new CanvasManager({\n    recordCanvas,\n    mutationCb: wrappedCanvasMutationEmit,\n    win: window,\n    blockClass,\n    blockSelector,\n    mirror,\n    sampling: sampling.canvas,\n    dataURLOptions\n  });\n  const shadowDomManager = new ShadowDomManager({\n    mutationCb: wrappedMutationEmit,\n    scrollCb: wrappedScrollEmit,\n    bypassOptions: {\n      blockClass,\n      blockSelector,\n      maskTextClass,\n      maskTextSelector,\n      inlineStylesheet,\n      maskInputOptions,\n      dataURLOptions,\n      maskTextFn,\n      maskInputFn,\n      recordCanvas,\n      inlineImages,\n      sampling,\n      slimDOMOptions,\n      iframeManager,\n      stylesheetManager,\n      canvasManager,\n      keepIframeSrcFn,\n      processedNodeManager\n    },\n    mirror\n  });\n  takeFullSnapshot$1 = (isCheckout = false) => {\n    if (!recordDOM) {\n      return;\n    }\n    wrappedEmit(\n      {\n        type: EventType.Meta,\n        data: {\n          href: window.location.href,\n          width: getWindowWidth(),\n          height: getWindowHeight()\n        }\n      },\n      isCheckout\n    );\n    stylesheetManager.reset();\n    shadowDomManager.init();\n    mutationBuffers.forEach((buf) => buf.lock());\n    const node2 = snapshot(document, {\n      mirror,\n      blockClass,\n      blockSelector,\n      maskTextClass,\n      maskTextSelector,\n      inlineStylesheet,\n      maskAllInputs: maskInputOptions,\n      maskTextFn,\n      maskInputFn,\n      slimDOM: slimDOMOptions,\n      dataURLOptions,\n      recordCanvas,\n      inlineImages,\n      onSerialize: (n2) => {\n        if (isSerializedIframe(n2, mirror)) {\n          iframeManager.addIframe(n2);\n        }\n        if (isSerializedStylesheet(n2, mirror)) {\n          stylesheetManager.trackLinkElement(n2);\n        }\n        if (hasShadowRoot(n2)) {\n          shadowDomManager.addShadowRoot(index.shadowRoot(n2), document);\n        }\n      },\n      onIframeLoad: (iframe, childSn) => {\n        iframeManager.attachIframe(iframe, childSn);\n        shadowDomManager.observeAttachShadow(iframe);\n      },\n      onStylesheetLoad: (linkEl, childSn) => {\n        stylesheetManager.attachLinkElement(linkEl, childSn);\n      },\n      keepIframeSrcFn\n    });\n    if (!node2) {\n      return console.warn(\"Failed to snapshot the document\");\n    }\n    wrappedEmit(\n      {\n        type: EventType.FullSnapshot,\n        data: {\n          node: node2,\n          initialOffset: getWindowScroll(window)\n        }\n      },\n      isCheckout\n    );\n    mutationBuffers.forEach((buf) => buf.unlock());\n    if (document.adoptedStyleSheets && document.adoptedStyleSheets.length > 0)\n      stylesheetManager.adoptStyleSheets(\n        document.adoptedStyleSheets,\n        mirror.getId(document)\n      );\n  };\n  try {\n    const handlers = [];\n    const observe = (doc) => {\n      var _a2;\n      return callbackWrapper(initObservers)(\n        {\n          mutationCb: wrappedMutationEmit,\n          mousemoveCb: (positions, source) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source,\n              positions\n            }\n          }),\n          mouseInteractionCb: (d) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.MouseInteraction,\n              ...d\n            }\n          }),\n          scrollCb: wrappedScrollEmit,\n          viewportResizeCb: (d) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.ViewportResize,\n              ...d\n            }\n          }),\n          inputCb: (v2) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.Input,\n              ...v2\n            }\n          }),\n          mediaInteractionCb: (p) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.MediaInteraction,\n              ...p\n            }\n          }),\n          styleSheetRuleCb: (r2) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.StyleSheetRule,\n              ...r2\n            }\n          }),\n          styleDeclarationCb: (r2) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.StyleDeclaration,\n              ...r2\n            }\n          }),\n          canvasMutationCb: wrappedCanvasMutationEmit,\n          fontCb: (p) => wrappedEmit({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: IncrementalSource.Font,\n              ...p\n            }\n          }),\n          selectionCb: (p) => {\n            wrappedEmit({\n              type: EventType.IncrementalSnapshot,\n              data: {\n                source: IncrementalSource.Selection,\n                ...p\n              }\n            });\n          },\n          customElementCb: (c2) => {\n            wrappedEmit({\n              type: EventType.IncrementalSnapshot,\n              data: {\n                source: IncrementalSource.CustomElement,\n                ...c2\n              }\n            });\n          },\n          blockClass,\n          ignoreClass,\n          ignoreSelector,\n          maskTextClass,\n          maskTextSelector,\n          maskInputOptions,\n          inlineStylesheet,\n          sampling,\n          recordDOM,\n          recordCanvas,\n          inlineImages,\n          userTriggeredOnInput,\n          collectFonts,\n          doc,\n          maskInputFn,\n          maskTextFn,\n          keepIframeSrcFn,\n          blockSelector,\n          slimDOMOptions,\n          dataURLOptions,\n          mirror,\n          iframeManager,\n          stylesheetManager,\n          shadowDomManager,\n          processedNodeManager,\n          canvasManager,\n          ignoreCSSAttributes,\n          plugins: ((_a2 = plugins == null ? void 0 : plugins.filter((p) => p.observer)) == null ? void 0 : _a2.map((p) => ({\n            observer: p.observer,\n            options: p.options,\n            callback: (payload) => wrappedEmit({\n              type: EventType.Plugin,\n              data: {\n                plugin: p.name,\n                payload\n              }\n            })\n          }))) || []\n        },\n        hooks\n      );\n    };\n    iframeManager.addLoadListener((iframeEl) => {\n      try {\n        handlers.push(observe(iframeEl.contentDocument));\n      } catch (error) {\n        console.warn(error);\n      }\n    });\n    const init = () => {\n      takeFullSnapshot$1();\n      handlers.push(observe(document));\n      recording = true;\n    };\n    if (document.readyState === \"interactive\" || document.readyState === \"complete\") {\n      init();\n    } else {\n      handlers.push(\n        on(\"DOMContentLoaded\", () => {\n          wrappedEmit({\n            type: EventType.DomContentLoaded,\n            data: {}\n          });\n          if (recordAfter === \"DOMContentLoaded\") init();\n        })\n      );\n      handlers.push(\n        on(\n          \"load\",\n          () => {\n            wrappedEmit({\n              type: EventType.Load,\n              data: {}\n            });\n            if (recordAfter === \"load\") init();\n          },\n          window\n        )\n      );\n    }\n    return () => {\n      handlers.forEach((h) => h());\n      processedNodeManager.destroy();\n      recording = false;\n      unregisterErrorHandler();\n    };\n  } catch (error) {\n    console.warn(error);\n  }\n}\nrecord.addCustomEvent = (tag, payload) => {\n  if (!recording) {\n    throw new Error(\"please add custom event after start recording\");\n  }\n  wrappedEmit({\n    type: EventType.Custom,\n    data: {\n      tag,\n      payload\n    }\n  });\n};\nrecord.freezePage = () => {\n  mutationBuffers.forEach((buf) => buf.freeze());\n};\nrecord.takeFullSnapshot = (isCheckout) => {\n  if (!recording) {\n    throw new Error(\"please take full snapshot after start recording\");\n  }\n  takeFullSnapshot$1(isCheckout);\n};\nrecord.mirror = mirror;\nvar n;\n!function(t2) {\n  t2[t2.NotStarted = 0] = \"NotStarted\", t2[t2.Running = 1] = \"Running\", t2[t2.Stopped = 2] = \"Stopped\";\n}(n || (n = {}));\nconst { addCustomEvent } = record;\nconst { freezePage } = record;\nconst { takeFullSnapshot } = record;\nexport {\n  record\n};\n//# sourceMappingURL=rrweb-record.js.map\n","var __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\nfunction patch(source, name, replacement) {\n  try {\n    if (!(name in source)) {\n      return () => {\n      };\n    }\n    const original = source[name];\n    const wrapped = replacement(original);\n    if (typeof wrapped === \"function\") {\n      wrapped.prototype = wrapped.prototype || {};\n      Object.defineProperties(wrapped, {\n        __rrweb_original__: {\n          enumerable: false,\n          value: original\n        }\n      });\n    }\n    source[name] = wrapped;\n    return () => {\n      source[name] = original;\n    };\n  } catch {\n    return () => {\n    };\n  }\n}\nclass StackFrame {\n  constructor(obj) {\n    __publicField(this, \"fileName\");\n    __publicField(this, \"functionName\");\n    __publicField(this, \"lineNumber\");\n    __publicField(this, \"columnNumber\");\n    this.fileName = obj.fileName || \"\";\n    this.functionName = obj.functionName || \"\";\n    this.lineNumber = obj.lineNumber;\n    this.columnNumber = obj.columnNumber;\n  }\n  toString() {\n    const lineNumber = this.lineNumber || \"\";\n    const columnNumber = this.columnNumber || \"\";\n    if (this.functionName)\n      return `${this.functionName} (${this.fileName}:${lineNumber}:${columnNumber})`;\n    return `${this.fileName}:${lineNumber}:${columnNumber}`;\n  }\n}\nconst FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\nconst CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\nconst SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\nconst ErrorStackParser = {\n  /**\n   * Given an Error object, extract the most information from it.\n   */\n  parse: function(error) {\n    if (!error) {\n      return [];\n    }\n    if (\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      typeof error.stacktrace !== \"undefined\" || // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      typeof error[\"opera#sourceloc\"] !== \"undefined\"\n    ) {\n      return this.parseOpera(\n        error\n      );\n    } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\n      return this.parseV8OrIE(error);\n    } else if (error.stack) {\n      return this.parseFFOrSafari(error);\n    } else {\n      console.warn(\n        \"[console-record-plugin]: Failed to parse error object:\",\n        error\n      );\n      return [];\n    }\n  },\n  // Separate line and column numbers from a string of the form: (URI:Line:Column)\n  extractLocation: function(urlLike) {\n    if (urlLike.indexOf(\":\") === -1) {\n      return [urlLike];\n    }\n    const regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\n    const parts = regExp.exec(urlLike.replace(/[()]/g, \"\"));\n    if (!parts) throw new Error(`Cannot parse given url: ${urlLike}`);\n    return [parts[1], parts[2] || void 0, parts[3] || void 0];\n  },\n  parseV8OrIE: function(error) {\n    const filtered = error.stack.split(\"\\n\").filter(function(line) {\n      return !!line.match(CHROME_IE_STACK_REGEXP);\n    }, this);\n    return filtered.map(function(line) {\n      if (line.indexOf(\"(eval \") > -1) {\n        line = line.replace(/eval code/g, \"eval\").replace(/(\\(eval at [^()]*)|(\\),.*$)/g, \"\");\n      }\n      let sanitizedLine = line.replace(/^\\s+/, \"\").replace(/\\(eval code/g, \"(\");\n      const location = sanitizedLine.match(/ (\\((.+):(\\d+):(\\d+)\\)$)/);\n      sanitizedLine = location ? sanitizedLine.replace(location[0], \"\") : sanitizedLine;\n      const tokens = sanitizedLine.split(/\\s+/).slice(1);\n      const locationParts = this.extractLocation(\n        location ? location[1] : tokens.pop()\n      );\n      const functionName = tokens.join(\" \") || void 0;\n      const fileName = [\"eval\", \"<anonymous>\"].indexOf(locationParts[0]) > -1 ? void 0 : locationParts[0];\n      return new StackFrame({\n        functionName,\n        fileName,\n        lineNumber: locationParts[1],\n        columnNumber: locationParts[2]\n      });\n    }, this);\n  },\n  parseFFOrSafari: function(error) {\n    const filtered = error.stack.split(\"\\n\").filter(function(line) {\n      return !line.match(SAFARI_NATIVE_CODE_REGEXP);\n    }, this);\n    return filtered.map(function(line) {\n      if (line.indexOf(\" > eval\") > -1) {\n        line = line.replace(\n          / line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g,\n          \":$1\"\n        );\n      }\n      if (line.indexOf(\"@\") === -1 && line.indexOf(\":\") === -1) {\n        return new StackFrame({\n          functionName: line\n        });\n      } else {\n        const functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\n        const matches = line.match(functionNameRegex);\n        const functionName = matches && matches[1] ? matches[1] : void 0;\n        const locationParts = this.extractLocation(\n          line.replace(functionNameRegex, \"\")\n        );\n        return new StackFrame({\n          functionName,\n          fileName: locationParts[0],\n          lineNumber: locationParts[1],\n          columnNumber: locationParts[2]\n        });\n      }\n    }, this);\n  },\n  parseOpera: function(e) {\n    if (!e.stacktrace || e.message.indexOf(\"\\n\") > -1 && e.message.split(\"\\n\").length > e.stacktrace.split(\"\\n\").length) {\n      return this.parseOpera9(e);\n    } else if (!e.stack) {\n      return this.parseOpera10(e);\n    } else {\n      return this.parseOpera11(e);\n    }\n  },\n  parseOpera9: function(e) {\n    const lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\n    const lines = e.message.split(\"\\n\");\n    const result = [];\n    for (let i = 2, len = lines.length; i < len; i += 2) {\n      const match = lineRE.exec(lines[i]);\n      if (match) {\n        result.push(\n          new StackFrame({\n            fileName: match[2],\n            lineNumber: parseFloat(match[1])\n          })\n        );\n      }\n    }\n    return result;\n  },\n  parseOpera10: function(e) {\n    const lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\n    const lines = e.stacktrace.split(\"\\n\");\n    const result = [];\n    for (let i = 0, len = lines.length; i < len; i += 2) {\n      const match = lineRE.exec(lines[i]);\n      if (match) {\n        result.push(\n          new StackFrame({\n            functionName: match[3] || void 0,\n            fileName: match[2],\n            lineNumber: parseFloat(match[1])\n          })\n        );\n      }\n    }\n    return result;\n  },\n  // Opera 10.65+ Error.stack very similar to FF/Safari\n  parseOpera11: function(error) {\n    const filtered = error.stack.split(\"\\n\").filter(function(line) {\n      return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\n    }, this);\n    return filtered.map(function(line) {\n      const tokens = line.split(\"@\");\n      const locationParts = this.extractLocation(tokens.pop());\n      const functionCall = tokens.shift() || \"\";\n      const functionName = functionCall.replace(/<anonymous function(: (\\w+))?>/, \"$2\").replace(/\\([^)]*\\)/g, \"\") || void 0;\n      return new StackFrame({\n        functionName,\n        fileName: locationParts[0],\n        lineNumber: locationParts[1],\n        columnNumber: locationParts[2]\n      });\n    }, this);\n  }\n};\nfunction pathToSelector(node) {\n  if (!node || !node.outerHTML) {\n    return \"\";\n  }\n  let path = \"\";\n  while (node.parentElement) {\n    let name = node.localName;\n    if (!name) {\n      break;\n    }\n    name = name.toLowerCase();\n    const parent = node.parentElement;\n    const domSiblings = [];\n    if (parent.children && parent.children.length > 0) {\n      for (let i = 0; i < parent.children.length; i++) {\n        const sibling = parent.children[i];\n        if (sibling.localName && sibling.localName.toLowerCase) {\n          if (sibling.localName.toLowerCase() === name) {\n            domSiblings.push(sibling);\n          }\n        }\n      }\n    }\n    if (domSiblings.length > 1) {\n      name += `:eq(${domSiblings.indexOf(node)})`;\n    }\n    path = name + (path ? \">\" + path : \"\");\n    node = parent;\n  }\n  return path;\n}\nfunction isObject(obj) {\n  return Object.prototype.toString.call(obj) === \"[object Object]\";\n}\nfunction isObjTooDeep(obj, limit) {\n  if (limit === 0) {\n    return true;\n  }\n  const keys = Object.keys(obj);\n  for (const key of keys) {\n    if (isObject(obj[key]) && isObjTooDeep(obj[key], limit - 1)) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction stringify(obj, stringifyOptions) {\n  const options = {\n    numOfKeysLimit: 50,\n    depthOfLimit: 4\n  };\n  Object.assign(options, stringifyOptions);\n  const stack = [];\n  const keys = [];\n  return JSON.stringify(\n    obj,\n    function(key, value) {\n      if (stack.length > 0) {\n        const thisPos = stack.indexOf(this);\n        ~thisPos ? stack.splice(thisPos + 1) : stack.push(this);\n        ~thisPos ? keys.splice(thisPos, Infinity, key) : keys.push(key);\n        if (~stack.indexOf(value)) {\n          if (stack[0] === value) {\n            value = \"[Circular ~]\";\n          } else {\n            value = \"[Circular ~.\" + keys.slice(0, stack.indexOf(value)).join(\".\") + \"]\";\n          }\n        }\n      } else {\n        stack.push(value);\n      }\n      if (value === null) return value;\n      if (value === void 0) return \"undefined\";\n      if (shouldIgnore(value)) {\n        return toString(value);\n      }\n      if (typeof value === \"bigint\") {\n        return value.toString() + \"n\";\n      }\n      if (value instanceof Event) {\n        const eventResult = {};\n        for (const eventKey in value) {\n          const eventValue = value[eventKey];\n          if (Array.isArray(eventValue)) {\n            eventResult[eventKey] = pathToSelector(\n              eventValue.length ? eventValue[0] : null\n            );\n          } else {\n            eventResult[eventKey] = eventValue;\n          }\n        }\n        return eventResult;\n      } else if (value instanceof Node) {\n        if (value instanceof HTMLElement) {\n          return value ? value.outerHTML : \"\";\n        }\n        return value.nodeName;\n      } else if (value instanceof Error) {\n        return value.stack ? value.stack + \"\\nEnd of stack for Error object\" : value.name + \": \" + value.message;\n      }\n      return value;\n    }\n  );\n  function shouldIgnore(_obj) {\n    if (isObject(_obj) && Object.keys(_obj).length > options.numOfKeysLimit) {\n      return true;\n    }\n    if (typeof _obj === \"function\") {\n      return true;\n    }\n    if (isObject(_obj) && isObjTooDeep(_obj, options.depthOfLimit)) {\n      return true;\n    }\n    return false;\n  }\n  function toString(_obj) {\n    let str = _obj.toString();\n    if (options.stringLengthLimit && str.length > options.stringLengthLimit) {\n      str = `${str.slice(0, options.stringLengthLimit)}...`;\n    }\n    return str;\n  }\n}\nconst defaultLogOptions = {\n  level: [\n    \"assert\",\n    \"clear\",\n    \"count\",\n    \"countReset\",\n    \"debug\",\n    \"dir\",\n    \"dirxml\",\n    \"error\",\n    \"group\",\n    \"groupCollapsed\",\n    \"groupEnd\",\n    \"info\",\n    \"log\",\n    \"table\",\n    \"time\",\n    \"timeEnd\",\n    \"timeLog\",\n    \"trace\",\n    \"warn\"\n  ],\n  lengthThreshold: 1e3,\n  logger: \"console\"\n};\nfunction initLogObserver(cb, win, options) {\n  const logOptions = options ? Object.assign({}, defaultLogOptions, options) : defaultLogOptions;\n  const loggerType = logOptions.logger;\n  if (!loggerType) {\n    return () => {\n    };\n  }\n  let logger;\n  if (typeof loggerType === \"string\") {\n    logger = win[loggerType];\n  } else {\n    logger = loggerType;\n  }\n  let logCount = 0;\n  let inStack = false;\n  const cancelHandlers = [];\n  if (logOptions.level.includes(\"error\")) {\n    const errorHandler = (event) => {\n      const message = event.message, error = event.error;\n      const trace = ErrorStackParser.parse(error).map(\n        (stackFrame) => stackFrame.toString()\n      );\n      const payload = [stringify(message, logOptions.stringifyOptions)];\n      cb({\n        level: \"error\",\n        trace,\n        payload\n      });\n    };\n    win.addEventListener(\"error\", errorHandler);\n    cancelHandlers.push(() => {\n      win.removeEventListener(\"error\", errorHandler);\n    });\n    const unhandledrejectionHandler = (event) => {\n      let error;\n      let payload;\n      if (event.reason instanceof Error) {\n        error = event.reason;\n        payload = [\n          stringify(\n            `Uncaught (in promise) ${error.name}: ${error.message}`,\n            logOptions.stringifyOptions\n          )\n        ];\n      } else {\n        error = new Error();\n        payload = [\n          stringify(\"Uncaught (in promise)\", logOptions.stringifyOptions),\n          stringify(event.reason, logOptions.stringifyOptions)\n        ];\n      }\n      const trace = ErrorStackParser.parse(error).map(\n        (stackFrame) => stackFrame.toString()\n      );\n      cb({\n        level: \"error\",\n        trace,\n        payload\n      });\n    };\n    win.addEventListener(\"unhandledrejection\", unhandledrejectionHandler);\n    cancelHandlers.push(() => {\n      win.removeEventListener(\"unhandledrejection\", unhandledrejectionHandler);\n    });\n  }\n  for (const levelType of logOptions.level) {\n    cancelHandlers.push(replace(logger, levelType));\n  }\n  return () => {\n    cancelHandlers.forEach((h) => h());\n  };\n  function replace(_logger, level) {\n    if (!_logger[level]) {\n      return () => {\n      };\n    }\n    return patch(\n      _logger,\n      level,\n      (original) => {\n        return (...args) => {\n          original.apply(this, args);\n          if (level === \"assert\" && !!args[0]) {\n            return;\n          }\n          if (inStack) {\n            return;\n          }\n          inStack = true;\n          try {\n            const trace = ErrorStackParser.parse(new Error()).map((stackFrame) => stackFrame.toString()).splice(1);\n            const argsForPayload = level === \"assert\" ? args.slice(1) : args;\n            const payload = argsForPayload.map(\n              (s) => stringify(s, logOptions.stringifyOptions)\n            );\n            logCount++;\n            if (logCount < logOptions.lengthThreshold) {\n              cb({\n                level,\n                trace,\n                payload\n              });\n            } else if (logCount === logOptions.lengthThreshold) {\n              cb({\n                level: \"warn\",\n                trace: [],\n                payload: [\n                  stringify(\"The number of log records reached the threshold.\")\n                ]\n              });\n            }\n          } catch (error) {\n            original(\"rrweb logger error:\", error, ...args);\n          } finally {\n            inStack = false;\n          }\n        };\n      }\n    );\n  }\n}\nconst PLUGIN_NAME = \"rrweb/console@1\";\nconst getRecordConsolePlugin = (options) => ({\n  name: PLUGIN_NAME,\n  observer: initLogObserver,\n  options\n});\nexport {\n  PLUGIN_NAME,\n  getRecordConsolePlugin\n};\n//# sourceMappingURL=rrweb-plugin-console-record.js.map\n","import { ErrorProperties } from '../extensions/exception-autocapture/error-conversion'\nimport type { PostHog } from '../posthog-core'\nimport { SessionIdManager } from '../sessionid'\nimport { DeadClicksAutoCaptureConfig, ExternalIntegrationKind, RemoteConfig, SiteAppLoader } from '../types'\n\n/*\n * Global helpers to protect access to browser globals in a way that is safer for different targets\n * like DOM, SSR, Web workers etc.\n *\n * NOTE: Typically we want the \"window\" but globalThis works for both the typical browser context as\n * well as other contexts such as the web worker context. Window is still exported for any bits that explicitly require it.\n * If in doubt - export the global you need from this file and use that as an optional value. This way the code path is forced\n * to handle the case where the global is not available.\n */\n\n// eslint-disable-next-line no-restricted-globals\nconst win: (Window & typeof globalThis) | undefined = typeof window !== 'undefined' ? window : undefined\n\nexport type AssignableWindow = Window &\n    typeof globalThis & {\n        /*\n         * Main PostHog instance\n         */\n        posthog: any\n\n        /*\n         * This is our contract between (potentially) lazily loaded extensions and the SDK\n         */\n        __PosthogExtensions__?: PostHogExtensions\n\n        /**\n         * When loading remote config, we assign it to this global configuration\n         * for ease of sharing it with the rest of the SDK\n         */\n        _POSTHOG_REMOTE_CONFIG?: Record<\n            string,\n            {\n                config: RemoteConfig\n                siteApps: SiteAppLoader[]\n            }\n        >\n\n        /**\n         * If this is set on the window, our logger will log to the console\n         * for ease of debugging. Used for testing purposes only.\n         *\n         * @see {Config.DEBUG} from config.ts\n         */\n        POSTHOG_DEBUG: any\n\n        // Exposed by the browser\n        doNotTrack: any\n\n        // See entrypoints/customizations.full.ts\n        posthogCustomizations: any\n\n        /**\n         * This is a legacy way to expose these functions, but we still need to support it for backwards compatibility\n         * Can be removed once we drop support for 1.161.1\n         *\n         * See entrypoints/exception-autocapture.ts\n         *\n         * @deprecated use `__PosthogExtensions__.errorWrappingFunctions` instead\n         */\n        posthogErrorWrappingFunctions: any\n\n        /**\n         * This is a legacy way to expose these functions, but we still need to support it for backwards compatibility\n         * Can be removed once we drop support for 1.161.1\n         *\n         * See entrypoints/posthog-recorder.ts\n         *\n         * @deprecated use `__PosthogExtensions__.rrweb` instead\n         */\n        rrweb: any\n\n        /**\n         * This is a legacy way to expose these functions, but we still need to support it for backwards compatibility\n         * Can be removed once we drop support for 1.161.1\n         *\n         * See entrypoints/posthog-recorder.ts\n         *\n         * @deprecated use `__PosthogExtensions__.rrwebConsoleRecord` instead\n         */\n        rrwebConsoleRecord: any\n\n        /**\n         * This is a legacy way to expose these functions, but we still need to support it for backwards compatibility\n         * Can be removed once we drop support for 1.161.1\n         *\n         * See entrypoints/posthog-recorder.ts\n         *\n         * @deprecated use `__PosthogExtensions__.getRecordNetworkPlugin` instead\n         */\n        getRecordNetworkPlugin: any\n\n        /**\n         * This is a legacy way to expose these functions, but we still need to support it for backwards compatibility\n         * Can be removed once we drop support for 1.161.1\n         *\n         * See entrypoints/web-vitals.ts\n         *\n         * @deprecated use `__PosthogExtensions__.postHogWebVitalsCallbacks` instead\n         */\n        postHogWebVitalsCallbacks: any\n\n        /**\n         * This is a legacy way to expose these functions, but we still need to support it for backwards compatibility\n         * Can be removed once we drop support for 1.161.1\n         *\n         * See entrypoints/tracing-headers.ts\n         *\n         * @deprecated use `__PosthogExtensions__.postHogTracingHeadersPatchFns` instead\n         */\n        postHogTracingHeadersPatchFns: any\n\n        /**\n         * This is a legacy way to expose these functions, but we still need to support it for backwards compatibility\n         * Can be removed once we drop support for 1.161.1\n         *\n         * See entrypoints/surveys.ts\n         *\n         * @deprecated use `__PosthogExtensions__.generateSurveys` instead\n         */\n        extendPostHogWithSurveys: any\n\n        /*\n         * These are used to handle our toolbar state.\n         * @see {Toolbar} from extensions/toolbar.ts\n         */\n        ph_load_toolbar: any\n        ph_load_editor: any\n        ph_toolbar_state: any\n    } & Record<`__$$ph_site_app_${string}`, any>\n\n/**\n * This is our contract between (potentially) lazily loaded extensions and the SDK\n * changes to this interface can be breaking changes for users of the SDK\n */\n\nexport type ExternalExtensionKind = 'intercom-integration' | 'crisp-chat-integration'\n\nexport type PostHogExtensionKind =\n    | 'toolbar'\n    | 'exception-autocapture'\n    | 'web-vitals'\n    | 'recorder'\n    | 'tracing-headers'\n    | 'surveys'\n    | 'dead-clicks-autocapture'\n    | 'remote-config'\n    | ExternalExtensionKind\n\nexport interface LazyLoadedDeadClicksAutocaptureInterface {\n    start: (observerTarget: Node) => void\n    stop: () => void\n}\n\ninterface PostHogExtensions {\n    loadExternalDependency?: (\n        posthog: PostHog,\n        kind: PostHogExtensionKind,\n        callback: (error?: string | Event, event?: Event) => void\n    ) => void\n\n    loadSiteApp?: (posthog: PostHog, appUrl: string, callback: (error?: string | Event, event?: Event) => void) => void\n\n    errorWrappingFunctions?: {\n        wrapOnError: (captureFn: (props: ErrorProperties) => void) => () => void\n        wrapUnhandledRejection: (captureFn: (props: ErrorProperties) => void) => () => void\n        wrapConsoleError: (captureFn: (props: ErrorProperties) => void) => () => void\n    }\n    rrweb?: { record: any; version: string }\n    rrwebPlugins?: { getRecordConsolePlugin: any; getRecordNetworkPlugin?: any }\n    generateSurveys?: (posthog: PostHog, isSurveysEnabled: boolean) => any | undefined\n    postHogWebVitalsCallbacks?: {\n        onLCP: (metric: any) => void\n        onCLS: (metric: any) => void\n        onFCP: (metric: any) => void\n        onINP: (metric: any) => void\n    }\n    tracingHeadersPatchFns?: {\n        _patchFetch: (distinctId: string, sessionManager?: SessionIdManager) => () => void\n        _patchXHR: (distinctId: string, sessionManager?: SessionIdManager) => () => void\n    }\n    initDeadClicksAutocapture?: (\n        ph: PostHog,\n        config: DeadClicksAutoCaptureConfig\n    ) => LazyLoadedDeadClicksAutocaptureInterface\n    integrations?: {\n        [K in ExternalIntegrationKind]?: { start: (posthog: PostHog) => void; stop: () => void }\n    }\n}\n\nconst global: typeof globalThis | undefined = typeof globalThis !== 'undefined' ? globalThis : win\n\nexport const ArrayProto = Array.prototype\nexport const nativeForEach = ArrayProto.forEach\nexport const nativeIndexOf = ArrayProto.indexOf\n\nexport const navigator = global?.navigator\nexport const document = global?.document\nexport const location = global?.location\nexport const fetch = global?.fetch\nexport const XMLHttpRequest =\n    global?.XMLHttpRequest && 'withCredentials' in new global.XMLHttpRequest() ? global.XMLHttpRequest : undefined\nexport const AbortController = global?.AbortController\nexport const userAgent = navigator?.userAgent\nexport const assignableWindow: AssignableWindow = win ?? ({} as any)\n\nexport { win as window }\n","import { window } from './globals'\nimport { knownUnsafeEditableEvent, KnownUnsafeEditableEvent } from '../types'\nimport { includes } from './string-utils'\n\n// eslint-disable-next-line posthog-js/no-direct-array-check\nconst nativeIsArray = Array.isArray\nconst ObjProto = Object.prototype\nexport const hasOwnProperty = ObjProto.hasOwnProperty\nconst toString = ObjProto.toString\n\nexport const isArray =\n    nativeIsArray ||\n    function (obj: any): obj is any[] {\n        return toString.call(obj) === '[object Array]'\n    }\n\n// from a comment on http://dbj.org/dbj/?p=286\n// fails on only one very rare and deliberate custom object:\n// let bomb = { toString : undefined, valueOf: function(o) { return \"function BOMBA!\"; }};\nexport const isFunction = (x: unknown): x is (...args: any[]) => any => {\n    // eslint-disable-next-line posthog-js/no-direct-function-check\n    return typeof x === 'function'\n}\n\nexport const isNativeFunction = (x: unknown): x is (...args: any[]) => any =>\n    isFunction(x) && x.toString().indexOf('[native code]') !== -1\n\n// When angular patches functions they pass the above `isNativeFunction` check (at least the MutationObserver)\nexport const isAngularZonePresent = (): boolean => {\n    return !!(window as any).Zone\n}\n\n// Underscore Addons\nexport const isObject = (x: unknown): x is Record<string, any> => {\n    // eslint-disable-next-line posthog-js/no-direct-object-check\n    return x === Object(x) && !isArray(x)\n}\nexport const isEmptyObject = (x: unknown) => {\n    if (isObject(x)) {\n        for (const key in x) {\n            if (hasOwnProperty.call(x, key)) {\n                return false\n            }\n        }\n        return true\n    }\n    return false\n}\nexport const isUndefined = (x: unknown): x is undefined => x === void 0\n\nexport const isString = (x: unknown): x is string => {\n    // eslint-disable-next-line posthog-js/no-direct-string-check\n    return toString.call(x) == '[object String]'\n}\n\nexport const isEmptyString = (x: unknown): boolean => isString(x) && x.trim().length === 0\n\nexport const isNull = (x: unknown): x is null => {\n    // eslint-disable-next-line posthog-js/no-direct-null-check\n    return x === null\n}\n\n/*\n    sometimes you want to check if something is null or undefined\n    that's what this is for\n */\nexport const isNullish = (x: unknown): x is null | undefined => isUndefined(x) || isNull(x)\n\nexport const isNumber = (x: unknown): x is number => {\n    // eslint-disable-next-line posthog-js/no-direct-number-check\n    return toString.call(x) == '[object Number]'\n}\nexport const isBoolean = (x: unknown): x is boolean => {\n    // eslint-disable-next-line posthog-js/no-direct-boolean-check\n    return toString.call(x) === '[object Boolean]'\n}\n\nexport const isDocument = (x: unknown): x is Document => {\n    // eslint-disable-next-line posthog-js/no-direct-document-check\n    return x instanceof Document\n}\n\nexport const isFormData = (x: unknown): x is FormData => {\n    // eslint-disable-next-line posthog-js/no-direct-form-data-check\n    return x instanceof FormData\n}\n\nexport const isFile = (x: unknown): x is File => {\n    // eslint-disable-next-line posthog-js/no-direct-file-check\n    return x instanceof File\n}\n\nexport const isError = (x: unknown): x is Error => {\n    return x instanceof Error\n}\n\nexport const isKnownUnsafeEditableEvent = (x: unknown): x is KnownUnsafeEditableEvent => {\n    return includes(knownUnsafeEditableEvent as unknown as string[], x)\n}\n","import Config from '../config'\nimport { isUndefined } from './type-utils'\nimport { assignableWindow, window } from './globals'\n\nexport type Logger = {\n    _log: (level: 'log' | 'warn' | 'error', ...args: any[]) => void\n    info: (...args: any[]) => void\n    warn: (...args: any[]) => void\n    error: (...args: any[]) => void\n    critical: (...args: any[]) => void\n    uninitializedWarning: (methodName: string) => void\n    createLogger: (prefix: string) => Logger\n}\n\nconst _createLogger = (prefix: string): Logger => {\n    const logger: Logger = {\n        _log: (level: 'log' | 'warn' | 'error', ...args: any[]) => {\n            if (\n                window &&\n                (Config.DEBUG || assignableWindow.POSTHOG_DEBUG) &&\n                !isUndefined(window.console) &&\n                window.console\n            ) {\n                const consoleLog =\n                    '__rrweb_original__' in window.console[level]\n                        ? (window.console[level] as any)['__rrweb_original__']\n                        : window.console[level]\n\n                // eslint-disable-next-line no-console\n                consoleLog(prefix, ...args)\n            }\n        },\n\n        info: (...args: any[]) => {\n            logger._log('log', ...args)\n        },\n\n        warn: (...args: any[]) => {\n            logger._log('warn', ...args)\n        },\n\n        error: (...args: any[]) => {\n            logger._log('error', ...args)\n        },\n\n        critical: (...args: any[]) => {\n            // Critical errors are always logged to the console\n            // eslint-disable-next-line no-console\n            console.error(prefix, ...args)\n        },\n\n        uninitializedWarning: (methodName: string) => {\n            logger.error(`You must initialize PostHog before calling ${methodName}`)\n        },\n\n        createLogger: (additionalPrefix: string) => _createLogger(`${prefix} ${additionalPrefix}`),\n    }\n    return logger\n}\n\nexport const logger = _createLogger('[PostHog.js]')\n\nexport const createLogger = logger.createLogger\n","import { Breaker, Properties } from '../types'\nimport { nativeForEach, nativeIndexOf } from './globals'\nimport { logger } from './logger'\nimport { hasOwnProperty, isArray, isFormData, isNull, isNullish, isNumber, isString, isUndefined } from './type-utils'\n\nconst breaker: Breaker = {}\n\nexport function eachArray<E = any>(\n    obj: E[] | null | undefined,\n    iterator: (value: E, key: number) => void | Breaker,\n    thisArg?: any\n): void {\n    if (isArray(obj)) {\n        if (nativeForEach && obj.forEach === nativeForEach) {\n            obj.forEach(iterator, thisArg)\n        } else if ('length' in obj && obj.length === +obj.length) {\n            for (let i = 0, l = obj.length; i < l; i++) {\n                if (i in obj && iterator.call(thisArg, obj[i], i) === breaker) {\n                    return\n                }\n            }\n        }\n    }\n}\n\n/**\n * @param {*=} obj\n * @param {function(...*)=} iterator\n * @param {Object=} thisArg\n */\nexport function each(obj: any, iterator: (value: any, key: any) => void | Breaker, thisArg?: any): void {\n    if (isNullish(obj)) {\n        return\n    }\n    if (isArray(obj)) {\n        return eachArray(obj, iterator, thisArg)\n    }\n    if (isFormData(obj)) {\n        for (const pair of obj.entries()) {\n            if (iterator.call(thisArg, pair[1], pair[0]) === breaker) {\n                return\n            }\n        }\n        return\n    }\n    for (const key in obj) {\n        if (hasOwnProperty.call(obj, key)) {\n            if (iterator.call(thisArg, obj[key], key) === breaker) {\n                return\n            }\n        }\n    }\n}\n\nexport const extend = function (obj: Record<string, any>, ...args: Record<string, any>[]): Record<string, any> {\n    eachArray(args, function (source) {\n        for (const prop in source) {\n            if (source[prop] !== void 0) {\n                obj[prop] = source[prop]\n            }\n        }\n    })\n    return obj\n}\n\nexport const extendArray = function <T>(obj: T[], ...args: T[][]): T[] {\n    eachArray(args, function (source) {\n        eachArray(source, function (item) {\n            obj.push(item)\n        })\n    })\n    return obj\n}\n\nexport const include = function (\n    obj: null | string | Array<any> | Record<string, any>,\n    target: any\n): boolean | Breaker {\n    let found = false\n    if (isNull(obj)) {\n        return found\n    }\n    if (nativeIndexOf && obj.indexOf === nativeIndexOf) {\n        return obj.indexOf(target) != -1\n    }\n    each(obj, function (value) {\n        if (found || (found = value === target)) {\n            return breaker\n        }\n        return\n    })\n    return found\n}\n\n/**\n * Object.entries() polyfill\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries\n */\nexport function entries<T = any>(obj: Record<string, T>): [string, T][] {\n    const ownProps = Object.keys(obj)\n    let i = ownProps.length\n    const resArray = new Array(i) // preallocate the Array\n\n    while (i--) {\n        resArray[i] = [ownProps[i], obj[ownProps[i]]]\n    }\n    return resArray\n}\n\nexport const trySafe = function <T>(fn: () => T): T | undefined {\n    try {\n        return fn()\n    } catch {\n        return undefined\n    }\n}\n\nexport const safewrap = function <F extends (...args: any[]) => any = (...args: any[]) => any>(f: F): F {\n    return function (...args) {\n        try {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            return f.apply(this, args)\n        } catch (e) {\n            logger.critical(\n                'Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A.'\n            )\n            logger.critical(e)\n        }\n    } as F\n}\n\n// eslint-disable-next-line @typescript-eslint/no-unsafe-function-type\nexport const safewrapClass = function (klass: Function, functions: string[]): void {\n    for (let i = 0; i < functions.length; i++) {\n        klass.prototype[functions[i]] = safewrap(klass.prototype[functions[i]])\n    }\n}\n\nexport const stripEmptyProperties = function (p: Properties): Properties {\n    const ret: Properties = {}\n    each(p, function (v, k) {\n        if ((isString(v) && v.length > 0) || isNumber(v)) {\n            ret[k] = v\n        }\n    })\n    return ret\n}\n\n/**\n * Deep copies an object.\n * It handles cycles by replacing all references to them with `undefined`\n * Also supports customizing native values\n *\n * @param value\n * @param customizer\n * @returns {{}|undefined|*}\n */\nfunction deepCircularCopy<T extends Record<string, any> = Record<string, any>>(\n    value: T,\n    customizer?: <K extends keyof T = keyof T>(value: T[K], key?: K) => T[K]\n): T | undefined {\n    const COPY_IN_PROGRESS_SET = new Set()\n\n    function internalDeepCircularCopy(value: T, key?: string): T | undefined {\n        if (value !== Object(value)) return customizer ? customizer(value as any, key) : value // primitive value\n\n        if (COPY_IN_PROGRESS_SET.has(value)) return undefined\n        COPY_IN_PROGRESS_SET.add(value)\n        let result: T\n\n        if (isArray(value)) {\n            result = [] as any as T\n            eachArray(value, (it) => {\n                result.push(internalDeepCircularCopy(it))\n            })\n        } else {\n            result = {} as T\n            each(value, (val, key) => {\n                if (!COPY_IN_PROGRESS_SET.has(val)) {\n                    ;(result as any)[key] = internalDeepCircularCopy(val, key)\n                }\n            })\n        }\n        return result\n    }\n    return internalDeepCircularCopy(value)\n}\n\nexport function _copyAndTruncateStrings<T extends Record<string, any> = Record<string, any>>(\n    object: T,\n    maxStringLength: number | null\n): T {\n    return deepCircularCopy(object, (value: any) => {\n        if (isString(value) && !isNull(maxStringLength)) {\n            return (value as string).slice(0, maxStringLength)\n        }\n        return value\n    }) as T\n}\n\n// NOTE: Update PostHogConfig docs if you change this list\n// We will not try to catch all bullets here, but we should make an effort to catch the most common ones\n// You should be highly against adding more to this list, because ultimately customers can configure\n// their `cross_subdomain_cookie` setting to anything they want.\nconst EXCLUDED_FROM_CROSS_SUBDOMAIN_COOKIE = ['herokuapp.com', 'vercel.app', 'netlify.app']\nexport function isCrossDomainCookie(documentLocation: Location | undefined) {\n    const hostname = documentLocation?.hostname\n\n    if (!isString(hostname)) {\n        return false\n    }\n    // split and slice isn't a great way to match arbitrary domains,\n    // but it's good enough for ensuring we only match herokuapp.com when it is the TLD\n    // for the hostname\n    const lastTwoParts = hostname.split('.').slice(-2).join('.')\n\n    for (const excluded of EXCLUDED_FROM_CROSS_SUBDOMAIN_COOKIE) {\n        if (lastTwoParts === excluded) {\n            return false\n        }\n    }\n\n    return true\n}\n\nexport function find<T>(value: T[], predicate: (value: T) => boolean): T | undefined {\n    for (let i = 0; i < value.length; i++) {\n        if (predicate(value[i])) {\n            return value[i]\n        }\n    }\n    return undefined\n}\n\n// Use this instead of element.addEventListener to avoid eslint errors\n// this properly implements the default options for passive event listeners\nexport function addEventListener(\n    element: Window | Document | Element | undefined,\n    event: string,\n    callback: EventListener,\n    options?: AddEventListenerOptions\n): void {\n    const { capture = false, passive = true } = options ?? {}\n\n    // This is the only place where we are allowed to call this function\n    // because the whole idea is that we should be calling this instead of the built-in one\n    // eslint-disable-next-line posthog-js/no-add-event-listener\n    element?.addEventListener(event, callback, { capture, passive })\n}\n\n/**\n * Helper to migrate deprecated config fields to new field names with appropriate warnings\n * @param config - The config object to check\n * @param newField - The new field name to use\n * @param oldField - The deprecated field name to check for\n * @param defaultValue - The default value if neither field is set\n * @param loggerInstance - Optional logger instance for deprecation warnings\n * @returns The value to use (new field takes precedence over old field)\n */\nexport function migrateConfigField<T>(\n    config: Record<string, any>,\n    newField: string,\n    oldField: string,\n    defaultValue: T,\n    loggerInstance?: { warn: (message: string) => void }\n): T {\n    const hasNewField = newField in config && !isUndefined(config[newField])\n    const hasOldField = oldField in config && !isUndefined(config[oldField])\n\n    if (hasNewField) {\n        return config[newField]\n    }\n\n    if (hasOldField) {\n        if (loggerInstance) {\n            loggerInstance.warn(\n                `Config field '${oldField}' is deprecated. Please use '${newField}' instead. ` +\n                    `The old field will be removed in a future major version.`\n            )\n        }\n        return config[oldField]\n    }\n\n    return defaultValue\n}\n","import { each } from './'\n\nimport { isArray, isFile, isUndefined } from './type-utils'\nimport { logger } from './logger'\nimport { document } from './globals'\n\nconst localDomains = ['localhost', '127.0.0.1']\n\n/**\n * IE11 doesn't support `new URL`\n * so we can create an anchor element and use that to parse the URL\n * there's a lot of overlap between HTMLHyperlinkElementUtils and URL\n * meaning useful properties like `pathname` are available on both\n */\nexport const convertToURL = (url: string): HTMLAnchorElement | null => {\n    const location = document?.createElement('a')\n    if (isUndefined(location)) {\n        return null\n    }\n\n    location.href = url\n    return location\n}\n\nexport const formDataToQuery = function (formdata: Record<string, any> | FormData, arg_separator = '&'): string {\n    let use_val: string\n    let use_key: string\n    const tph_arr: string[] = []\n\n    each(formdata, function (val: File | string | undefined, key: string | undefined) {\n        // the key might be literally the string undefined for e.g. if {undefined: 'something'}\n        if (isUndefined(val) || isUndefined(key) || key === 'undefined') {\n            return\n        }\n\n        use_val = encodeURIComponent(isFile(val) ? val.name : val.toString())\n        use_key = encodeURIComponent(key)\n        tph_arr[tph_arr.length] = use_key + '=' + use_val\n    })\n\n    return tph_arr.join(arg_separator)\n}\n\n// NOTE: Once we get rid of IE11/op_mini we can start using URLSearchParams\nexport const getQueryParam = function (url: string, param: string): string {\n    const withoutHash: string = url.split('#')[0] || ''\n\n    // Split only on the first ? to sort problem out for those with multiple ?s\n    // and then remove them\n    const queryParams: string = withoutHash.split(/\\?(.*)/)[1] || ''\n    const cleanedQueryParams = queryParams.replace(/^\\?+/g, '')\n\n    const queryParts = cleanedQueryParams.split('&')\n    let keyValuePair\n\n    for (let i = 0; i < queryParts.length; i++) {\n        const parts = queryParts[i].split('=')\n        if (parts[0] === param) {\n            keyValuePair = parts\n            break\n        }\n    }\n\n    if (!isArray(keyValuePair) || keyValuePair.length < 2) {\n        return ''\n    } else {\n        let result = keyValuePair[1]\n        try {\n            result = decodeURIComponent(result)\n        } catch {\n            logger.error('Skipping decoding for malformed query param: ' + result)\n        }\n        return result.replace(/\\+/g, ' ')\n    }\n}\n\n// replace any query params in the url with the provided mask value. Tries to keep the URL as instant as possible,\n// including preserving malformed text in most cases\nexport const maskQueryParams = function <T extends string | undefined>(\n    url: T,\n    maskedParams: string[] | undefined,\n    mask: string\n): T extends string ? string : undefined {\n    if (!url || !maskedParams || !maskedParams.length) {\n        return url as any\n    }\n\n    const splitHash = url.split('#')\n    const withoutHash: string = splitHash[0] || ''\n    const hash = splitHash[1]\n\n    const splitQuery: string[] = withoutHash.split('?')\n    const queryString: string = splitQuery[1]\n    const urlWithoutQueryAndHash: string = splitQuery[0]\n    const queryParts = (queryString || '').split('&')\n\n    // use an array of strings rather than an object to preserve ordering and duplicates\n    const paramStrings: string[] = []\n\n    for (let i = 0; i < queryParts.length; i++) {\n        const keyValuePair = queryParts[i].split('=')\n        if (!isArray(keyValuePair)) {\n            continue\n        } else if (maskedParams.includes(keyValuePair[0])) {\n            paramStrings.push(keyValuePair[0] + '=' + mask)\n        } else {\n            paramStrings.push(queryParts[i])\n        }\n    }\n\n    let result = urlWithoutQueryAndHash\n    if (queryString != null) {\n        result += '?' + paramStrings.join('&')\n    }\n    if (hash != null) {\n        result += '#' + hash\n    }\n\n    return result as any\n}\n\nexport const _getHashParam = function (hash: string, param: string): string | null {\n    const matches = hash.match(new RegExp(param + '=([^&]*)'))\n    return matches ? matches[1] : null\n}\n\nexport const isLocalhost = (): boolean => {\n    return localDomains.includes(location.hostname)\n}\n","// import { patch } from 'rrweb/typings/utils'\n// copied from https://github.com/rrweb-io/rrweb/blob/8aea5b00a4dfe5a6f59bd2ae72bb624f45e51e81/packages/rrweb/src/utils.ts#L129\n// which was copied from https://github.com/getsentry/sentry-javascript/blob/b2109071975af8bf0316d3b5b38f519bdaf5dc15/packages/utils/src/object.ts\nimport { isFunction } from '../../../utils/type-utils'\n\nexport function patch(\n    source: { [key: string]: any },\n    name: string,\n    replacement: (...args: unknown[]) => unknown\n): () => void {\n    try {\n        if (!(name in source)) {\n            return () => {\n                //\n            }\n        }\n\n        const original = source[name] as () => unknown\n        const wrapped = replacement(original)\n\n        // Make sure it's a function first, as we need to attach an empty prototype for `defineProperties` to work\n        // otherwise it'll throw \"TypeError: Object.defineProperties called on non-object\"\n        if (isFunction(wrapped)) {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            wrapped.prototype = wrapped.prototype || {}\n            Object.defineProperties(wrapped, {\n                __posthog_wrapped__: {\n                    enumerable: false,\n                    value: true,\n                },\n            })\n        }\n\n        source[name] = wrapped\n\n        return () => {\n            source[name] = original\n        }\n    } catch {\n        return () => {\n            //\n        }\n        // This can throw if multiple fill happens on a global object like XMLHttpRequest\n        // Fixes https://github.com/getsentry/sentry-javascript/issues/2043\n    }\n}\n","import { NetworkRecordOptions } from '../../../types'\n\nfunction hostnameFromURL(url: string | URL | RequestInfo): string | null {\n    try {\n        if (typeof url === 'string') {\n            return new URL(url).hostname\n        }\n        if ('url' in url) {\n            return new URL(url.url).hostname\n        }\n        return url.hostname\n    } catch {\n        return null\n    }\n}\n\nexport function isHostOnDenyList(url: string | URL | Request, options: NetworkRecordOptions) {\n    const hostname = hostnameFromURL(url)\n    const defaultNotDenied = { hostname, isHostDenied: false }\n\n    if (!options.payloadHostDenyList?.length || !hostname?.trim().length) {\n        return defaultNotDenied\n    }\n\n    for (const deny of options.payloadHostDenyList) {\n        if (hostname.endsWith(deny)) {\n            return { hostname, isHostDenied: true }\n        }\n    }\n\n    return defaultNotDenied\n}\n","import { CapturedNetworkRequest, NetworkRecordOptions, PostHogConfig } from '../../types'\nimport { isFunction, isNullish, isString, isUndefined } from '../../utils/type-utils'\nimport { convertToURL } from '../../utils/request-utils'\nimport { logger } from '../../utils/logger'\nimport { shouldCaptureValue } from '../../autocapture-utils'\nimport { each } from '../../utils'\n\nconst LOGGER_PREFIX = '[SessionRecording]'\n\nconst REDACTED = 'redacted'\n\nexport const defaultNetworkOptions: Required<NetworkRecordOptions> = {\n    initiatorTypes: [\n        'audio',\n        'beacon',\n        'body',\n        'css',\n        'early-hint',\n        'embed',\n        'fetch',\n        'frame',\n        'iframe',\n        'icon',\n        'image',\n        'img',\n        'input',\n        'link',\n        'navigation',\n        'object',\n        'ping',\n        'script',\n        'track',\n        'video',\n        'xmlhttprequest',\n    ],\n    maskRequestFn: (data: CapturedNetworkRequest) => data,\n    recordHeaders: false,\n    recordBody: false,\n    recordInitialRequests: false,\n    recordPerformance: false,\n    performanceEntryTypeToObserve: [\n        // 'event', // This is too noisy as it covers all browser events\n        'first-input',\n        // 'mark', // Mark is used too liberally. We would need to filter for specific marks\n        // 'measure', // Measure is used too liberally. We would need to filter for specific measures\n        'navigation',\n        'paint',\n        'resource',\n    ],\n    payloadSizeLimitBytes: 1000000,\n    payloadHostDenyList: [\n        '.lr-ingest.io',\n        '.ingest.sentry.io',\n        '.clarity.ms',\n        // NB no leading dot here\n        'analytics.google.com',\n        'bam.nr-data.net',\n    ],\n}\n\nconst HEADER_DENY_LIST = [\n    'authorization',\n    'x-forwarded-for',\n    'authorization',\n    'cookie',\n    'set-cookie',\n    'x-api-key',\n    'x-real-ip',\n    'remote-addr',\n    'forwarded',\n    'proxy-authorization',\n    'x-csrf-token',\n    'x-csrftoken',\n    'x-xsrf-token',\n]\n\nconst PAYLOAD_CONTENT_DENY_LIST = [\n    'password',\n    'secret',\n    'passwd',\n    'api_key',\n    'apikey',\n    'auth',\n    'credentials',\n    'mysql_pwd',\n    'privatekey',\n    'private_key',\n    'token',\n]\n\n// we always remove headers on the deny list because we never want to capture this sensitive data\nconst removeAuthorizationHeader = (data: CapturedNetworkRequest): CapturedNetworkRequest => {\n    const headers = data.requestHeaders\n    if (!isNullish(headers)) {\n        each(Object.keys(headers ?? {}), (header) => {\n            if (HEADER_DENY_LIST.includes(header.toLowerCase())) {\n                headers[header] = REDACTED\n            }\n        })\n    }\n    return data\n}\n\nconst POSTHOG_PATHS_TO_IGNORE = ['/s/', '/e/', '/i/']\n// want to ignore posthog paths when capturing requests, or we can get trapped in a loop\n// because calls to PostHog would be reported using a call to PostHog which would be reported....\nconst ignorePostHogPaths = (\n    data: CapturedNetworkRequest,\n    apiHostConfig: PostHogConfig['api_host']\n): CapturedNetworkRequest | undefined => {\n    const url = convertToURL(data.name)\n\n    // we need to account for api host config as e.g. pathname could be /ingest/s/ and we want to ignore that\n    let replaceValue = apiHostConfig.indexOf('http') === 0 ? convertToURL(apiHostConfig)?.pathname : apiHostConfig\n    if (replaceValue === '/') {\n        replaceValue = ''\n    }\n    const pathname = url?.pathname.replace(replaceValue || '', '')\n\n    if (url && pathname && POSTHOG_PATHS_TO_IGNORE.some((path) => pathname.indexOf(path) === 0)) {\n        return undefined\n    }\n    return data\n}\n\nfunction estimateBytes(payload: string): number {\n    return new Blob([payload]).size\n}\n\nfunction enforcePayloadSizeLimit(\n    payload: string | null | undefined,\n    headers: Record<string, any> | undefined,\n    limit: number,\n    description: string\n): string | null | undefined {\n    if (isNullish(payload)) {\n        return payload\n    }\n\n    let requestContentLength: string | number = headers?.['content-length'] || estimateBytes(payload)\n    if (isString(requestContentLength)) {\n        requestContentLength = parseInt(requestContentLength)\n    }\n\n    if (requestContentLength > limit) {\n        return LOGGER_PREFIX + ` ${description} body too large to record (${requestContentLength} bytes)`\n    }\n\n    return payload\n}\n\n// people can have arbitrarily large payloads on their site, but we don't want to ingest them\nconst limitPayloadSize = (\n    options: NetworkRecordOptions\n): ((data: CapturedNetworkRequest | undefined) => CapturedNetworkRequest | undefined) => {\n    // the smallest of 1MB or the specified limit if there is one\n    const limit = Math.min(1000000, options.payloadSizeLimitBytes ?? 1000000)\n\n    return (data) => {\n        if (data?.requestBody) {\n            data.requestBody = enforcePayloadSizeLimit(data.requestBody, data.requestHeaders, limit, 'Request')\n        }\n\n        if (data?.responseBody) {\n            data.responseBody = enforcePayloadSizeLimit(data.responseBody, data.responseHeaders, limit, 'Response')\n        }\n\n        return data\n    }\n}\n\nfunction scrubPayload(payload: string | null | undefined, label: 'Request' | 'Response'): string | null | undefined {\n    if (isNullish(payload)) {\n        return payload\n    }\n    let scrubbed = payload\n\n    if (!shouldCaptureValue(scrubbed, false)) {\n        scrubbed = LOGGER_PREFIX + ' ' + label + ' body ' + REDACTED\n    }\n    each(PAYLOAD_CONTENT_DENY_LIST, (text) => {\n        if (scrubbed?.length && scrubbed?.indexOf(text) !== -1) {\n            scrubbed = LOGGER_PREFIX + ' ' + label + ' body ' + REDACTED + ' as might contain: ' + text\n        }\n    })\n\n    return scrubbed\n}\n\nfunction scrubPayloads(capturedRequest: CapturedNetworkRequest | undefined): CapturedNetworkRequest | undefined {\n    if (isUndefined(capturedRequest)) {\n        return undefined\n    }\n\n    capturedRequest.requestBody = scrubPayload(capturedRequest.requestBody, 'Request')\n    capturedRequest.responseBody = scrubPayload(capturedRequest.responseBody, 'Response')\n\n    return capturedRequest\n}\n\n/**\n *  whether a maskRequestFn is provided or not,\n *  we ensure that we remove the denied header from requests\n *  we _never_ want to record that header by accident\n *  if someone complains then we'll add an opt-in to let them override it\n */\nexport const buildNetworkRequestOptions = (\n    instanceConfig: PostHogConfig,\n    remoteNetworkOptions: Pick<\n        NetworkRecordOptions,\n        'recordHeaders' | 'recordBody' | 'recordPerformance' | 'payloadHostDenyList'\n    >\n): NetworkRecordOptions => {\n    const config: NetworkRecordOptions = {\n        payloadSizeLimitBytes: defaultNetworkOptions.payloadSizeLimitBytes,\n        performanceEntryTypeToObserve: [...defaultNetworkOptions.performanceEntryTypeToObserve],\n        payloadHostDenyList: [\n            ...(remoteNetworkOptions.payloadHostDenyList || []),\n            ...defaultNetworkOptions.payloadHostDenyList,\n        ],\n    }\n    // client can always disable despite remote options\n    const canRecordHeaders =\n        instanceConfig.session_recording.recordHeaders === false ? false : remoteNetworkOptions.recordHeaders\n    const canRecordBody =\n        instanceConfig.session_recording.recordBody === false ? false : remoteNetworkOptions.recordBody\n    const canRecordPerformance =\n        instanceConfig.capture_performance === false ? false : remoteNetworkOptions.recordPerformance\n\n    const payloadLimiter = limitPayloadSize(config)\n\n    const enforcedCleaningFn: NetworkRecordOptions['maskRequestFn'] = (d: CapturedNetworkRequest) =>\n        payloadLimiter(ignorePostHogPaths(removeAuthorizationHeader(d), instanceConfig.api_host))\n\n    const hasDeprecatedMaskFunction = isFunction(instanceConfig.session_recording.maskNetworkRequestFn)\n\n    if (hasDeprecatedMaskFunction && isFunction(instanceConfig.session_recording.maskCapturedNetworkRequestFn)) {\n        logger.warn(\n            'Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored.'\n        )\n    }\n\n    if (hasDeprecatedMaskFunction) {\n        instanceConfig.session_recording.maskCapturedNetworkRequestFn = (data: CapturedNetworkRequest) => {\n            const cleanedURL = instanceConfig.session_recording.maskNetworkRequestFn!({ url: data.name })\n            return {\n                ...data,\n                name: cleanedURL?.url,\n            } as CapturedNetworkRequest\n        }\n    }\n\n    config.maskRequestFn = isFunction(instanceConfig.session_recording.maskCapturedNetworkRequestFn)\n        ? (data) => {\n              const cleanedRequest = enforcedCleaningFn(data)\n              return cleanedRequest\n                  ? (instanceConfig.session_recording.maskCapturedNetworkRequestFn?.(cleanedRequest) ?? undefined)\n                  : undefined\n          }\n        : (data) => scrubPayloads(enforcedCleaningFn(data))\n\n    return {\n        ...defaultNetworkOptions,\n        ...config,\n        recordHeaders: canRecordHeaders,\n        recordBody: canRecordBody,\n        recordPerformance: canRecordPerformance,\n        recordInitialRequests: canRecordPerformance,\n    }\n}\n","/// <reference lib=\"dom\" />\n\n// rrweb/network@1 code starts\n// most of what is below here will be removed when rrweb release their code for this\n// see https://github.com/rrweb-io/rrweb/pull/1105\n\n// NB adopted from https://github.com/rrweb-io/rrweb/pull/1105 which looks like it will be accepted into rrweb\n// however, in the PR, it throws when the performance observer data is not available\n// and assumes it is running in a browser with the Request API (i.e. not IE11)\n// copying here so that we can use it before rrweb adopt it\nimport type { IWindow, listenerHandler, RecordPlugin } from '@rrweb/types'\nimport { CapturedNetworkRequest, Headers, InitiatorType, NetworkRecordOptions } from '../../../types'\nimport {\n    isArray,\n    isBoolean,\n    isDocument,\n    isFormData,\n    isNull,\n    isNullish,\n    isObject,\n    isString,\n    isUndefined,\n} from '../../../utils/type-utils'\nimport { createLogger } from '../../../utils/logger'\nimport { formDataToQuery } from '../../../utils/request-utils'\nimport { patch } from '../rrweb-plugins/patch'\nimport { isHostOnDenyList } from '../../../extensions/replay/external/denylist'\nimport { defaultNetworkOptions } from '../config'\n\nconst logger = createLogger('[Recorder]')\n\nexport type NetworkData = {\n    requests: CapturedNetworkRequest[]\n    isInitial?: boolean\n}\n\ntype networkCallback = (data: NetworkData) => void\n\nconst isNavigationTiming = (entry: PerformanceEntry): entry is PerformanceNavigationTiming =>\n    entry.entryType === 'navigation'\nconst isResourceTiming = (entry: PerformanceEntry): entry is PerformanceResourceTiming => entry.entryType === 'resource'\n\ntype ObservedPerformanceEntry = (PerformanceNavigationTiming | PerformanceResourceTiming) & {\n    responseStatus?: number\n}\n\nexport function findLast<T>(array: Array<T>, predicate: (value: T) => boolean): T | undefined {\n    const length = array.length\n    for (let i = length - 1; i >= 0; i -= 1) {\n        if (predicate(array[i])) {\n            return array[i]\n        }\n    }\n    return undefined\n}\n\nfunction initPerformanceObserver(cb: networkCallback, win: IWindow, options: Required<NetworkRecordOptions>) {\n    // if we are only observing timings then we could have a single observer for all types, with buffer true,\n    // but we are going to filter by initiatorType _if we are wrapping fetch and xhr as the wrapped functions\n    // will deal with those.\n    // so we have a block which captures requests from before fetch/xhr is wrapped\n    // these are marked `isInitial` so playback can display them differently if needed\n    // they will never have method/status/headers/body because they are pre-wrapping that provides that\n    if (options.recordInitialRequests) {\n        const initialPerformanceEntries = win.performance\n            .getEntries()\n            .filter(\n                (entry): entry is ObservedPerformanceEntry =>\n                    isNavigationTiming(entry) ||\n                    (isResourceTiming(entry) && options.initiatorTypes.includes(entry.initiatorType as InitiatorType))\n            )\n        cb({\n            requests: initialPerformanceEntries.flatMap((entry) =>\n                prepareRequest({ entry, method: undefined, status: undefined, networkRequest: {}, isInitial: true })\n            ),\n            isInitial: true,\n        })\n    }\n    const observer = new win.PerformanceObserver((entries) => {\n        // if recordBody or recordHeaders is true then we don't want to record fetch or xhr here\n        // as the wrapped functions will do that. Otherwise, this filter becomes a noop\n        // because we do want to record them here\n        const wrappedInitiatorFilter = (entry: ObservedPerformanceEntry) =>\n            options.recordBody || options.recordHeaders\n                ? entry.initiatorType !== 'xmlhttprequest' && entry.initiatorType !== 'fetch'\n                : true\n\n        const performanceEntries = entries.getEntries().filter(\n            (entry): entry is ObservedPerformanceEntry =>\n                isNavigationTiming(entry) ||\n                (isResourceTiming(entry) &&\n                    options.initiatorTypes.includes(entry.initiatorType as InitiatorType) &&\n                    // TODO if we are _only_ capturing timing we don't want to filter initiator here\n                    wrappedInitiatorFilter(entry))\n        )\n\n        cb({\n            requests: performanceEntries.flatMap((entry) =>\n                prepareRequest({ entry, method: undefined, status: undefined, networkRequest: {} })\n            ),\n        })\n    })\n    // compat checked earlier\n    // eslint-disable-next-line compat/compat\n    const entryTypes = PerformanceObserver.supportedEntryTypes.filter((x) =>\n        options.performanceEntryTypeToObserve.includes(x)\n    )\n    // initial records are gathered above, so we don't need to observe and buffer each type separately\n    observer.observe({ entryTypes })\n    return () => {\n        observer.disconnect()\n    }\n}\n\nfunction shouldRecordHeaders(type: 'request' | 'response', recordHeaders: NetworkRecordOptions['recordHeaders']) {\n    return !!recordHeaders && (isBoolean(recordHeaders) || recordHeaders[type])\n}\n\nexport function shouldRecordBody({\n    type,\n    recordBody,\n    headers,\n    url,\n}: {\n    type: 'request' | 'response'\n    headers: Headers\n    url: string | URL | RequestInfo\n    recordBody: NetworkRecordOptions['recordBody']\n}) {\n    function matchesContentType(contentTypes: string[]) {\n        const contentTypeHeader = Object.keys(headers).find((key) => key.toLowerCase() === 'content-type')\n        const contentType = contentTypeHeader && headers[contentTypeHeader]\n        return contentTypes.some((ct) => contentType?.includes(ct))\n    }\n\n    /**\n     * particularly in canvas applications we see many requests to blob URLs\n     * e.g. blob:https://video_url\n     * these blob/object URLs are local to the browser, we can never capture that body\n     * so we can just return false here\n     */\n    function isBlobURL(url: string | URL | RequestInfo) {\n        try {\n            if (typeof url === 'string') {\n                return url.startsWith('blob:')\n            }\n            if (url instanceof URL) {\n                return url.protocol === 'blob:'\n            }\n            if (url instanceof Request) {\n                return isBlobURL(url.url)\n            }\n            return false\n        } catch {\n            return false\n        }\n    }\n    if (!recordBody) return false\n    if (isBlobURL(url)) return false\n    if (isBoolean(recordBody)) return true\n    if (isArray(recordBody)) return matchesContentType(recordBody)\n    const recordBodyType = recordBody[type]\n    if (isBoolean(recordBodyType)) return recordBodyType\n    return matchesContentType(recordBodyType)\n}\n\nasync function getRequestPerformanceEntry(\n    win: IWindow,\n    initiatorType: string,\n    url: string,\n    start?: number,\n    end?: number,\n    attempt = 0\n): Promise<PerformanceResourceTiming | null> {\n    if (attempt > 10) {\n        logger.warn('Failed to get performance entry for request', { url, initiatorType })\n        return null\n    }\n    const urlPerformanceEntries = win.performance.getEntriesByName(url) as PerformanceResourceTiming[]\n    const performanceEntry = findLast(\n        urlPerformanceEntries,\n        (entry) =>\n            isResourceTiming(entry) &&\n            entry.initiatorType === initiatorType &&\n            (isUndefined(start) || entry.startTime >= start) &&\n            (isUndefined(end) || entry.startTime <= end)\n    )\n    if (!performanceEntry) {\n        await new Promise((resolve) => setTimeout(resolve, 50 * attempt))\n        return getRequestPerformanceEntry(win, initiatorType, url, start, end, attempt + 1)\n    }\n    return performanceEntry\n}\n\n/**\n * According to MDN https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/response\n * xhr response is typed as any but can be an ArrayBuffer, a Blob, a Document, a JavaScript object,\n * or a string, depending on the value of XMLHttpRequest.responseType, that contains the response entity body.\n *\n * XHR request body is Document | XMLHttpRequestBodyInit | null | undefined\n */\nfunction _tryReadXHRBody({\n    body,\n    options,\n    url,\n}: {\n    body: Document | XMLHttpRequestBodyInit | any | null | undefined\n    options: NetworkRecordOptions\n    url: string | URL | RequestInfo\n}): string | null {\n    if (isNullish(body)) {\n        return null\n    }\n\n    const { hostname, isHostDenied } = isHostOnDenyList(url, options)\n    if (isHostDenied) {\n        return hostname + ' is in deny list'\n    }\n\n    if (isString(body)) {\n        return body\n    }\n\n    if (isDocument(body)) {\n        return body.textContent\n    }\n\n    if (isFormData(body)) {\n        return formDataToQuery(body)\n    }\n\n    if (isObject(body)) {\n        try {\n            return JSON.stringify(body)\n        } catch {\n            return '[SessionReplay] Failed to stringify response object'\n        }\n    }\n\n    return '[SessionReplay] Cannot read body of type ' + toString.call(body)\n}\n\nfunction initXhrObserver(cb: networkCallback, win: IWindow, options: Required<NetworkRecordOptions>): listenerHandler {\n    if (!options.initiatorTypes.includes('xmlhttprequest')) {\n        return () => {\n            //\n        }\n    }\n    const recordRequestHeaders = shouldRecordHeaders('request', options.recordHeaders)\n    const recordResponseHeaders = shouldRecordHeaders('response', options.recordHeaders)\n\n    const restorePatch = patch(\n        win.XMLHttpRequest.prototype,\n        'open',\n        // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n        // @ts-ignore\n        (originalOpen: typeof XMLHttpRequest.prototype.open) => {\n            return function (\n                method: string,\n                url: string | URL,\n                async = true,\n                username?: string | null,\n                password?: string | null\n            ) {\n                // because this function is returned in its actual context `this` _is_ an XMLHttpRequest\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                // @ts-ignore\n                const xhr = this as XMLHttpRequest\n\n                // check IE earlier than this, we only initialize if Request is present\n                // eslint-disable-next-line compat/compat\n                const req = new Request(url)\n                const networkRequest: Partial<CapturedNetworkRequest> = {}\n                let start: number | undefined\n                let end: number | undefined\n\n                const requestHeaders: Headers = {}\n                const originalSetRequestHeader = xhr.setRequestHeader.bind(xhr)\n                xhr.setRequestHeader = (header: string, value: string) => {\n                    requestHeaders[header] = value\n                    return originalSetRequestHeader(header, value)\n                }\n                if (recordRequestHeaders) {\n                    networkRequest.requestHeaders = requestHeaders\n                }\n\n                const originalSend = xhr.send.bind(xhr)\n                xhr.send = (body) => {\n                    if (\n                        shouldRecordBody({\n                            type: 'request',\n                            headers: requestHeaders,\n                            url,\n                            recordBody: options.recordBody,\n                        })\n                    ) {\n                        networkRequest.requestBody = _tryReadXHRBody({ body, options, url })\n                    }\n                    start = win.performance.now()\n                    return originalSend(body)\n                }\n\n                // This is very tricky code, and making it passive won't bring many performance benefits,\n                // so let's ignore the rule here.\n                // eslint-disable-next-line posthog-js/no-add-event-listener\n                xhr.addEventListener('readystatechange', () => {\n                    if (xhr.readyState !== xhr.DONE) {\n                        return\n                    }\n                    end = win.performance.now()\n                    const responseHeaders: Headers = {}\n                    const rawHeaders = xhr.getAllResponseHeaders()\n                    const headers = rawHeaders.trim().split(/[\\r\\n]+/)\n                    headers.forEach((line) => {\n                        const parts = line.split(': ')\n                        const header = parts.shift()\n                        const value = parts.join(': ')\n                        if (header) {\n                            responseHeaders[header] = value\n                        }\n                    })\n                    if (recordResponseHeaders) {\n                        networkRequest.responseHeaders = responseHeaders\n                    }\n                    if (\n                        shouldRecordBody({\n                            type: 'response',\n                            headers: responseHeaders,\n                            url,\n                            recordBody: options.recordBody,\n                        })\n                    ) {\n                        networkRequest.responseBody = _tryReadXHRBody({ body: xhr.response, options, url })\n                    }\n                    getRequestPerformanceEntry(win, 'xmlhttprequest', req.url, start, end)\n                        .then((entry) => {\n                            const requests = prepareRequest({\n                                entry,\n                                method: method,\n                                status: xhr?.status,\n                                networkRequest,\n                                start,\n                                end,\n                                url: url.toString(),\n                                initiatorType: 'xmlhttprequest',\n                            })\n                            cb({ requests })\n                        })\n                        .catch(() => {\n                            //\n                        })\n                })\n\n                originalOpen.call(xhr, method, url, async, username, password)\n            }\n        }\n    )\n    return () => {\n        restorePatch()\n    }\n}\n\n/**\n *  Check if this PerformanceEntry is either a PerformanceResourceTiming or a PerformanceNavigationTiming\n *  NB PerformanceNavigationTiming extends PerformanceResourceTiming\n *  Here we don't care which interface it implements as both expose `serverTimings`\n */\nconst exposesServerTiming = (event: PerformanceEntry | null): event is PerformanceResourceTiming =>\n    !isNull(event) && (event.entryType === 'navigation' || event.entryType === 'resource')\n\nfunction prepareRequest({\n    entry,\n    method,\n    status,\n    networkRequest,\n    isInitial,\n    start,\n    end,\n    url,\n    initiatorType,\n}: {\n    entry: PerformanceResourceTiming | null\n    method: string | undefined\n    status: number | undefined\n    networkRequest: Partial<CapturedNetworkRequest>\n    isInitial?: boolean\n    start?: number\n    end?: number\n    // if there is no performance observer entry, we still need to know the url\n    url?: string\n    // if there is no performance observer entry, we can provide the initiatorType\n    initiatorType?: string\n}): CapturedNetworkRequest[] {\n    start = entry ? entry.startTime : start\n    end = entry ? entry.responseEnd : end\n\n    // kudos to sentry javascript sdk for excellent background on why to use Date.now() here\n    // https://github.com/getsentry/sentry-javascript/blob/e856e40b6e71a73252e788cd42b5260f81c9c88e/packages/utils/src/time.ts#L70\n    // can't start observer if performance.now() is not available\n    // eslint-disable-next-line compat/compat\n    const timeOrigin = Math.floor(Date.now() - performance.now())\n    // clickhouse can't ingest timestamps that are floats\n    // (in this case representing fractions of a millisecond we don't care about anyway)\n    // use timeOrigin if we really can't gather a start time\n    const timestamp = Math.floor(timeOrigin + (start || 0))\n\n    const entryJSON = entry ? entry.toJSON() : { name: url }\n\n    const requests: CapturedNetworkRequest[] = [\n        {\n            ...entryJSON,\n            startTime: isUndefined(start) ? undefined : Math.round(start),\n            endTime: isUndefined(end) ? undefined : Math.round(end),\n            timeOrigin,\n            timestamp,\n            method: method,\n            initiatorType: initiatorType ? initiatorType : entry ? (entry.initiatorType as InitiatorType) : undefined,\n            status,\n            requestHeaders: networkRequest.requestHeaders,\n            requestBody: networkRequest.requestBody,\n            responseHeaders: networkRequest.responseHeaders,\n            responseBody: networkRequest.responseBody,\n            isInitial,\n        },\n    ]\n\n    if (exposesServerTiming(entry)) {\n        for (const timing of entry.serverTiming || []) {\n            requests.push({\n                timeOrigin,\n                timestamp,\n                startTime: Math.round(entry.startTime),\n                name: timing.name,\n                duration: timing.duration,\n                // the spec has a closed list of possible types\n                // https://developer.mozilla.org/en-US/docs/Web/API/PerformanceEntry/entryType\n                // but, we need to know this was a server timing so that we know to\n                // match it to the appropriate navigation or resource timing\n                // that matching will have to be on timestamp and $current_url\n                entryType: 'serverTiming',\n            })\n        }\n    }\n\n    return requests\n}\n\nconst contentTypePrefixDenyList = ['video/', 'audio/']\n\nfunction _checkForCannotReadResponseBody({\n    r,\n    options,\n    url,\n}: {\n    r: Response\n    options: NetworkRecordOptions\n    url: string | URL | RequestInfo\n}): string | null {\n    if (r.headers.get('Transfer-Encoding') === 'chunked') {\n        return 'Chunked Transfer-Encoding is not supported'\n    }\n\n    // `get` and `has` are case-insensitive\n    // but return the header value with the casing that was supplied\n    const contentType = r.headers.get('Content-Type')?.toLowerCase()\n    const contentTypeIsDenied = contentTypePrefixDenyList.some((prefix) => contentType?.startsWith(prefix))\n    if (contentType && contentTypeIsDenied) {\n        return `Content-Type ${contentType} is not supported`\n    }\n\n    const { hostname, isHostDenied } = isHostOnDenyList(url, options)\n    if (isHostDenied) {\n        return hostname + ' is in deny list'\n    }\n\n    return null\n}\n\nfunction _tryReadBody(r: Request | Response): Promise<string> {\n    // there are now already multiple places where we're using Promise...\n    // eslint-disable-next-line compat/compat\n    return new Promise((resolve, reject) => {\n        const timeout = setTimeout(() => resolve('[SessionReplay] Timeout while trying to read body'), 500)\n        try {\n            r.clone()\n                .text()\n                .then(\n                    (txt) => resolve(txt),\n                    (reason) => reject(reason)\n                )\n                .finally(() => clearTimeout(timeout))\n        } catch {\n            clearTimeout(timeout)\n            resolve('[SessionReplay] Failed to read body')\n        }\n    })\n}\n\nasync function _tryReadRequestBody({\n    r,\n    options,\n    url,\n}: {\n    r: Request\n    options: NetworkRecordOptions\n    url: string | URL | RequestInfo\n}): Promise<string> {\n    const { hostname, isHostDenied } = isHostOnDenyList(url, options)\n    if (isHostDenied) {\n        return Promise.resolve(hostname + ' is in deny list')\n    }\n\n    return _tryReadBody(r)\n}\n\nasync function _tryReadResponseBody({\n    r,\n    options,\n    url,\n}: {\n    r: Response\n    options: NetworkRecordOptions\n    url: string | URL | RequestInfo\n}): Promise<string> {\n    const cannotReadBodyReason: string | null = _checkForCannotReadResponseBody({ r, options, url })\n    if (!isNull(cannotReadBodyReason)) {\n        return Promise.resolve(cannotReadBodyReason)\n    }\n\n    return _tryReadBody(r)\n}\n\nfunction initFetchObserver(\n    cb: networkCallback,\n    win: IWindow,\n    options: Required<NetworkRecordOptions>\n): listenerHandler {\n    if (!options.initiatorTypes.includes('fetch')) {\n        return () => {\n            //\n        }\n    }\n    const recordRequestHeaders = shouldRecordHeaders('request', options.recordHeaders)\n    const recordResponseHeaders = shouldRecordHeaders('response', options.recordHeaders)\n\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    const restorePatch = patch(win, 'fetch', (originalFetch: typeof fetch) => {\n        return async function (url: URL | RequestInfo, init?: RequestInit | undefined) {\n            // check IE earlier than this, we only initialize if Request is present\n            // eslint-disable-next-line compat/compat\n            const req = new Request(url, init)\n            let res: Response | undefined\n            const networkRequest: Partial<CapturedNetworkRequest> = {}\n            let start: number | undefined\n            let end: number | undefined\n\n            try {\n                const requestHeaders: Headers = {}\n                req.headers.forEach((value, header) => {\n                    requestHeaders[header] = value\n                })\n                if (recordRequestHeaders) {\n                    networkRequest.requestHeaders = requestHeaders\n                }\n                if (\n                    shouldRecordBody({\n                        type: 'request',\n                        headers: requestHeaders,\n                        url,\n                        recordBody: options.recordBody,\n                    })\n                ) {\n                    networkRequest.requestBody = await _tryReadRequestBody({ r: req, options, url })\n                }\n\n                start = win.performance.now()\n                res = await originalFetch(req)\n                end = win.performance.now()\n\n                const responseHeaders: Headers = {}\n                res.headers.forEach((value, header) => {\n                    responseHeaders[header] = value\n                })\n                if (recordResponseHeaders) {\n                    networkRequest.responseHeaders = responseHeaders\n                }\n                if (\n                    shouldRecordBody({\n                        type: 'response',\n                        headers: responseHeaders,\n                        url,\n                        recordBody: options.recordBody,\n                    })\n                ) {\n                    networkRequest.responseBody = await _tryReadResponseBody({ r: res, options, url })\n                }\n\n                return res\n            } finally {\n                getRequestPerformanceEntry(win, 'fetch', req.url, start, end)\n                    .then((entry) => {\n                        const requests = prepareRequest({\n                            entry,\n                            method: req.method,\n                            status: res?.status,\n                            networkRequest,\n                            start,\n                            end,\n                            url: req.url,\n                            initiatorType: 'fetch',\n                        })\n                        cb({ requests })\n                    })\n                    .catch(() => {\n                        //\n                    })\n            }\n        }\n    })\n    return () => {\n        restorePatch()\n    }\n}\n\nlet initialisedHandler: listenerHandler | null = null\n\nfunction initNetworkObserver(\n    callback: networkCallback,\n    win: IWindow, // top window or in an iframe\n    options: NetworkRecordOptions\n): listenerHandler {\n    if (!('performance' in win)) {\n        return () => {\n            //\n        }\n    }\n\n    if (initialisedHandler) {\n        logger.warn('Network observer already initialised, doing nothing')\n        return () => {\n            // the first caller should already have this handler and will be responsible for teardown\n        }\n    }\n\n    const networkOptions = (\n        options ? Object.assign({}, defaultNetworkOptions, options) : defaultNetworkOptions\n    ) as Required<NetworkRecordOptions>\n\n    const cb: networkCallback = (data) => {\n        const requests: CapturedNetworkRequest[] = []\n        data.requests.forEach((request) => {\n            const maskedRequest = networkOptions.maskRequestFn(request)\n            if (maskedRequest) {\n                requests.push(maskedRequest)\n            }\n        })\n\n        if (requests.length > 0) {\n            callback({ ...data, requests })\n        }\n    }\n    const performanceObserver = initPerformanceObserver(cb, win, networkOptions)\n\n    // only wrap fetch and xhr if headers or body are being recorded\n    let xhrObserver: listenerHandler = () => {}\n    let fetchObserver: listenerHandler = () => {}\n    if (networkOptions.recordHeaders || networkOptions.recordBody) {\n        xhrObserver = initXhrObserver(cb, win, networkOptions)\n        fetchObserver = initFetchObserver(cb, win, networkOptions)\n    }\n\n    initialisedHandler = () => {\n        performanceObserver()\n        xhrObserver()\n        fetchObserver()\n    }\n    return initialisedHandler\n}\n\n// use the plugin name so that when this functionality is adopted into rrweb\n// we can remove this plugin and use the core functionality with the same data\nexport const NETWORK_PLUGIN_NAME = 'rrweb/network@1'\n\n// TODO how should this be typed?\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nexport const getRecordNetworkPlugin: (options?: NetworkRecordOptions) => RecordPlugin = (options) => {\n    return {\n        name: NETWORK_PLUGIN_NAME,\n        observer: initNetworkObserver,\n        options: options,\n    }\n}\n\n// rrweb/networ@1 ends\n","import { record as rrwebRecord } from '@posthog/rrweb-record'\nimport { getRecordConsolePlugin } from '@posthog/rrweb-plugin-console-record'\nimport { assignableWindow } from '../utils/globals'\nimport { getRecordNetworkPlugin } from '../extensions/replay/external/network-plugin'\n\nassignableWindow.__PosthogExtensions__ = assignableWindow.__PosthogExtensions__ || {}\nassignableWindow.__PosthogExtensions__.rrwebPlugins = { getRecordConsolePlugin, getRecordNetworkPlugin }\nassignableWindow.__PosthogExtensions__.rrweb = { record: rrwebRecord, version: 'v2' }\n\n// we used to put all of these items directly on window, and now we put it on __PosthogExtensions__\n// but that means that old clients which lazily load this extension are looking in the wrong place\n// yuck,\n// so we also put them directly on the window\n// when 1.161.1 is the oldest version seen in production we can remove this\nassignableWindow.rrweb = { record: rrwebRecord, version: 'v2' }\nassignableWindow.rrwebConsoleRecord = { getRecordConsolePlugin }\nassignableWindow.getRecordNetworkPlugin = getRecordNetworkPlugin\n\nexport default rrwebRecord\n"],"names":["_a","__defProp","Object","defineProperty","__publicField","obj","key","value","__defNormalProp","enumerable","configurable","writable","__defProp$1","__publicField$1","__defNormalProp$1","NodeType$1$1","NodeType2","testableAccessors$1","Node","ShadowRoot","Element","MutationObserver","testableMethods$1","untaintedBasePrototype$1","getUntaintedPrototype$1","candidate","_a2","_b","angularUnpatchedVersionSymbol","globalThis","Zone","__symbol__","call","angularZoneUnpatchedAlternative$1","defaultPrototype","prototype","accessorNames","isUntaintedAccessors","Boolean","every","accessor","getOwnPropertyDescriptor","get","toString","includes","methodNames","isUntaintedMethods","method","iframeEl","document","createElement","body","appendChild","win","contentWindow","untaintedObject","removeChild","_unused","untaintedAccessorCache$1","getUntaintedAccessor$1","instance","cacheKey","String","untaintedPrototype","untaintedAccessor","untaintedMethodCache$1","getUntaintedMethod$1","bind","untaintedMethod","index$1","childNodes","n2","parentNode","parentElement","textContent","contains","other","getRootNode","host","styleSheets","shadowRoot","querySelector","selectors","querySelectorAll","mutationObserver","constructor","patch","source","name","replacement","original","wrapped","defineProperties","__rrweb_original__","_unused2","isElement","nodeType","ELEMENT_NODE","isShadowRoot","hostEl","isNativeShadowDom","shadowRoot2","stringifyStylesheet","s2","rules2","rules","cssRules","stringifiedRules","Array","from","rule2","stringifyRule","href","join","cssText","replace","error","sheetHref","isCSSImportRule","importStringified","styleSheet","split","length","statement","JSON","stringify","layerName","push","supportsText","media","mediaText","escapeImportStatement","absolutifyURLs","regex","ruleStringified","isCSSStyleRule","selectorText","Mirror","this","Map","WeakMap","getId","id","getMeta","getNode","idNodeMap","getIds","keys","nodeMetaMap","removeNodeFromMap","delete","forEach","childNode","has","hasNode","node2","add","meta","set","oldNode","reset","maskInputValue","_ref","element","maskInputOptions","tagName","type","maskInputFn","text","actualType","toLowerCase","repeat","str","ORIGINAL_ATTRIBUTE_NAME","getInputType","hasAttribute","extractFileExtension","path","baseURL","_ref2","url","URL","window","location","err","match","pathname","URL_IN_CSS_REF","URL_PROTOCOL_MATCH","URL_WWW_MATCH","DATA_URI","origin","quote1","path1","quote2","path2","path3","filePath","maybeQuote","test","indexOf","slice","stack","parts","part","pop","canvasService","canvasCtx","_id","tagNameRegex","RegExp","IGNORED_NODE","genId","SRCSET_NOT_SPACES","SRCSET_COMMAS_OR_SPACES","cachedDocument","absoluteToDoc","doc","attributeValue","trim","getHref","isSVGElement","el","ownerSVGElement","customHref","a2","startsWith","setAttribute","transformAttribute","pos","collectCharacters","regEx","chars2","exec","substring","output","descriptorsStr","inParens","c2","charAt","getAbsoluteSrcsetString","ignoreAttribute","_value","classMatchesRegex","checkAncestors","eIndex","classList","className","needMaskingText","maskTextClass","maskTextSelector","closest","matches","e2","serializeNode","options","mirror","mirror2","blockClass","blockSelector","needsMask","inlineStylesheet","maskTextFn","dataURLOptions","inlineImages","recordCanvas","keepIframeSrcFn","newlyAddedElement","rootId","docId","getRootId","DOCUMENT_NODE","compatMode","Document","DOCUMENT_TYPE_NODE","DocumentType","publicId","systemId","isCustomElement","needBlock","_isBlockedElement","HTMLFormElement","processedTagName","getValidTagName$1","attributes","len","i2","attr","hrefFrom","stylesheet","findStylesheet","rel","_cssText","sheet","innerText","checked","selected","open","rr_open_mode","_unused3","ph_rr_could_not_detect_modal","__context","canvas","ctx","getContext","x","width","y","height","getImageData","originalGetImageData","Uint32Array","Math","min","data","buffer","some","pixel","is2DCanvasBlank","rr_dataURL","toDataURL","quality","canvasDataURL","blankCanvas","image","imageSrc","currentSrc","getAttribute","priorCrossOrigin","crossOrigin","recordInlineImage","removeEventListener","naturalWidth","naturalHeight","drawImage","complete","addEventListener","console","warn","removeAttribute","mediaAttributes","rr_mediaState","paused","rr_mediaCurrentTime","currentTime","rr_mediaPlaybackRate","playbackRate","rr_mediaMuted","muted","rr_mediaLoop","loop","rr_mediaVolume","volume","scrollLeft","rr_scrollLeft","scrollTop","rr_scrollTop","getBoundingClientRect","class","rr_width","rr_height","src","contentDocument","rr_src","customElements","isSVG","isCustom","serializeElementNode","TEXT_NODE","parent","parentTagName","isStyle","isScript","nextSibling","previousSibling","Text","serializeTextNode","CDATA_SECTION_NODE","CDATA","COMMENT_NODE","Comment","find","lowerIfExists","maybeAttr","serializeNodeWithId","skipChild","slimDOMOptions","onSerialize","onIframeLoad","iframeLoadTimeout","onStylesheetLoad","stylesheetLoadTimeout","preserveWhiteSpace","_serializedNode","sn","comment","script","as","headFavicon","headMetaDescKeywords","headMetaSocial","property","headMetaRobots","headMetaHttpEquiv","headMetaAuthorship","headMetaVerification","slimDOMExcluded","serializedNode","assign","recordChild","shadowRootEl","isShadowHost","headWhitespace","bypassOptions","childN","serializedChildNode","isShadow","listener","readyState","fired","blankUrl","setTimeout","timer","clearTimeout","onceIframeLoaded","iframeDoc","serializedIframeNode","link","styleSheetLoadTimeout","styleSheetLoaded","onceStylesheetLoaded","serializedLinkNode","getDefaultExportFromCjs$1","__esModule","hasOwnProperty","getAugmentedNamespace$1","f2","default","a22","Reflect","construct","arguments","apply","k","d","hasRequiredPicocolors_browser$1","picocolors_browser$1","exports","requirePicocolors_browser$1","create","isColorSupported","bold","dim","italic","underline","inverse","hidden","strikethrough","black","red","green","yellow","blue","magenta","cyan","white","gray","bgBlack","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","blackBright","redBright","greenBright","yellowBright","blueBright","magentaBright","cyanBright","whiteBright","bgBlackBright","bgRedBright","bgGreenBright","bgYellowBright","bgBlueBright","bgMagentaBright","bgCyanBright","bgWhiteBright","createColors","cssSyntaxError$1","hasRequiredCssSyntaxError$1","stringifier$1","hasRequiredStringifier$1","stringify_1$1","hasRequiredStringify$1","require$$2$1","freeze","__proto__","Symbol","toStringTag","requireCssSyntaxError$1","pico","terminalHighlight","CssSyntaxError","Error","message","line","column","file","plugin","super","reason","endLine","endColumn","setMessage","captureStackTrace","showSourceCode","color","css","aside","mark","highlight","lines","start","max","end","maxWidth","map","index2","number","gutter","subLineStart","subLineEnd","subLine","spacing2","padding","spacing","code","requireStringifier$1","DEFAULT_RAW","after","beforeClose","beforeComment","beforeDecl","beforeOpen","beforeRule","colon","commentLeft","commentRight","emptyBody","indent","semicolon","Stringifier","builder","atrule","params","rawValue","raws","afterName","nodes","block","between","beforeAfter","detect","raw","buf","depth","step","last","child","before","left","right","decl","string","prop","important","own","first","root2","root","rawCache","toUpperCase","walk","rawBeforeClose","rawBeforeComment","walkComments","rawBeforeDecl","walkDecls","rawBeforeOpen","rawBeforeRule","rawColon","rawEmptyBody","rawIndent","p","rawSemicolon","rule","ownSemicolon","requireStringify$1","hasRequiredSymbols$1","node$1","hasRequiredNode$1","comment$1","hasRequiredComment$1","declaration$1","hasRequiredDeclaration$1","container$1","hasRequiredContainer$1","atRule$1","hasRequiredAtRule$1","document$1$1","hasRequiredDocument$1","nonSecure$1","hasRequiredNonSecure$1","previousMap$1","hasRequiredPreviousMap$1","input$1","hasRequiredInput$1","root$1","hasRequiredRoot$1","list_1$1","hasRequiredList$1","rule$1","hasRequiredRule$1","fromJSON_1$1","hasRequiredFromJSON$1","mapGenerator$1","hasRequiredMapGenerator$1","tokenize$1","hasRequiredTokenize$1","parser$1","hasRequiredParser$1","parse_1$1","hasRequiredParse$1","warning$1","hasRequiredWarning$1","result$1","hasRequiredResult$1","warnOnce$1","hasRequiredWarnOnce$1","lazyResult$1","hasRequiredLazyResult$1","noWorkResult$1","hasRequiredNoWorkResult$1","processor$1","hasRequiredProcessor$1","postcss_1$1","hasRequiredPostcss$1","safeParser$1$1","hasRequiredSafeParser$1","safeParse$1","hasRequiredSafeParse$1","symbols$1","requireSymbols$1","isClean","my","requireNode$1","cloneNode","cloned","isArray","j","sourceOffset","inputCSS","position","offset","Node2","defaults","clone","append","addToError","postcssNode","input","insertAfter","overrides","insertBefore","cleanRaws","keepBetween","cloneAfter","cloneBefore","opts","rangeBy","getProxyProcessor","toProxy","markDirty","markClean","next","index","positionBy","positionInside","word","inputString","prev","endIndex","defaultType","remove","replaceWith","bookmark","foundSelf","_len","_key","result2","toJSON","_","inputs","fixed","emitInputs","inputsNextIndex","inputId","input2","proxyCache","Proxy","stringifier2","node","proxyOf","requireComment$1","requireDeclaration$1","Declaration","_extends","variable","requireContainer$1","AtRule","parse","Root","Rule","cleanSource","markTreeDirty","Container","_len2","children","_key2","normalize","each","callback","iterator","getIterator","indexes","condition","lastEach","_len3","args","_key3","cb","_len4","_key4","exist","existIndex","reverse","splice","sample","selector","processed","rebuild","prepend","_len5","_key5","unshift","removeAll","replaceValues","pattern","props","fast","walkAtRules","walkRules","registerParse","dependant","registerRule","registerAtRule","registerRoot","setPrototypeOf","requireAtRule$1","requireDocument$1","LazyResult","Processor","Document2","toResult","registerLazyResult","registerProcessor","requireNonSecure$1","nanoid","size","random","customAlphabet","alphabet","defaultSize","requirePreviousMap$1","existsSync","readFileSync","dirname","SourceMapConsumer","SourceMapGenerator","PreviousMap","loadAnnotation","inline","startWith","annotation","loadMap","mapFile","consumer","consumerCache","decodeInline","uriMatch","decodeURIComponent","substr","baseUriMatch","Buffer","atob","encoding","getAnnotationURL","sourceMapString","isMap","mappings","_mappings","sections","comments","lastIndexOf","loadFile","fromSourceMap","prevPath","withContent","sourcesContent","requireInput$1","isAbsolute","resolve","fileURLToPath","pathToFileURL","fromOffsetCache","sourceMapAvailable","pathAvailable","Input","hasBOM","mapResolve","fromOffset","col","lineToIndex","prevIndex","l2","mid","sourceRoot","to","fromUrl","originalPositionFor","protocol","sourceContentFor","json","registerInput","requireRoot$1","ignore","requireList$1","list","comma","space","separators","array","current","func","inQuote","prevQuote","escape","letter","requireRule$1","values","sep","requireMapGenerator$1","relative","cssString","mapOpts","originalCSS","usesFileUrls","absolute","memoizedFileURLs","memoizedPaths","memoizedURLs","addAnnotation","content","isInline","toBase64","outputFile","eol","applyPrevMaps","previous","toUrl","applySourceMap","clearAnnotation","generate","generateMap","generateString","ignoreInvalidMapping","addMapping","generated","isSourcesContent","setSourcesContent","isAnnotation","noSource","mapping","sourcePath","charCodeAt","cached","previousMaps","already","toFileUrl","setSourceContent","btoa","unescape","encodeURIComponent","fileURL","encodeURI","requireTokenize$1","SINGLE_QUOTE","DOUBLE_QUOTE","BACKSLASH","SLASH","NEWLINE","SPACE","FEED","TAB","CR","OPEN_SQUARE","CLOSE_SQUARE","OPEN_PARENTHESES","CLOSE_PARENTHESES","OPEN_CURLY","CLOSE_CURLY","SEMICOLON","ASTERISK","COLON","AT","RE_AT_END","RE_WORD_END","RE_BAD_BRACKET","RE_HEX_ESCAPE","quote","currentToken","escaped","escapePos","valueOf","ignoreErrors","returned","unclosed","what","back","token","endOfFile","nextToken","ignoreUnclosed","controlChar","fromCharCode","lastIndex","requireParser$1","tokenizer","SAFE_COMMENT_NEIGHBOR","empty","spaces","createTokenizer","shift","unnamedAtrule","init","brackets","getPosition","spacesAndCommentsFromEnd","spacesAndCommentsFromStart","checkMissedSemicolon","tokens","founded","entries","doubleColon","customProperty","findLastWithPosition","unknownWord","firstSpaces","precheckMissedSemicolon","stringFrom","spacesFromEnd","cache","hasWord","concat","emptyRule","unexpectedClose","endFile","unclosedBlock","freeSemicolon","bracket","unclosedBracket","clean","reduce","all","lastTokenType","requireParse$1","Parser","parser2","process","env","NODE_ENV","requireWarning$1","Warning","range","opt","requireResult$1","Result","processor2","processor","messages","lastPlugin","postcssPlugin","warning2","warnings","filter","requireWarnOnce$1","printed","requireLazyResult$1","MapGenerator","warnOnce2","TYPE_TO_CLASS_NAME","PLUGIN_PROPS","AtRuleExit","CommentExit","DeclarationExit","DocumentExit","Once","OnceExit","prepare","RootExit","RuleExit","NOT_VISITORS","CHILDREN","isPromise","then","getEvents","toStack","eventIndex","events","visitorIndex","visitors","cleanMarks","postcss2","stringified","syntax","parser","result","helpers","postcss","plugins","async","Promise","reject","processing","runAsync","catch","onRejected","finally","onFinally","getAsyncError","handleError","postcssVersion","pluginName","pluginVer","runtimeVer","version","b","parseInt","prepareVisitors","listeners","event","hasListener","_this","_asyncToGenerator","promise","runOnRoot","visitTick","_loop","visitor","roots","subRoot","sync","stringifier","walkSync","visitSync","onFulfilled","visit2","registerPostcss","requireProcessor$1","NoWorkResult","_processor","_css","_opts","_map","self2","generatedCSS","generatedMap","_root","requireNoWorkResult$1","normalized","use","requirePostcss$1","fromJSON","ownInputs","_objectWithoutPropertiesLoose","_excluded","inputHydrated","_defaults$source","_excluded2","requireFromJSON$1","_len6","_key6","initializer","warningPrinted","creator","LANG","transformer","processOpts","pluginOpts","atRule","SafeParser","nextStart","prevEnd","requireSafeParser$1","requireSafeParse$1","postcss$1","__defProp2","__publicField2","__defNormalProp2","getDefaultExportFromCjs","getAugmentedNamespace","hasRequiredPicocolors_browser","picocolors_browser","requirePicocolors_browser","cssSyntaxError","hasRequiredCssSyntaxError","hasRequiredStringifier","stringify_1","hasRequiredStringify","require$$2","requireCssSyntaxError","requireStringifier","requireStringify","hasRequiredSymbols","hasRequiredNode","hasRequiredComment","declaration","hasRequiredDeclaration","container","hasRequiredContainer","hasRequiredAtRule","document$1","hasRequiredDocument","nonSecure","hasRequiredNonSecure","previousMap","hasRequiredPreviousMap","hasRequiredInput","hasRequiredRoot","list_1","hasRequiredList","hasRequiredRule","fromJSON_1","hasRequiredFromJSON","mapGenerator","hasRequiredMapGenerator","tokenize","hasRequiredTokenize","hasRequiredParser","parse_1","hasRequiredParse","warning","hasRequiredWarning","hasRequiredResult","warnOnce","hasRequiredWarnOnce","lazyResult","hasRequiredLazyResult","noWorkResult","hasRequiredNoWorkResult","hasRequiredProcessor","postcss_1","hasRequiredPostcss","safeParser$1","hasRequiredSafeParser","safeParse","hasRequiredSafeParse","symbols","requireSymbols","requireNode","_len7","_key7","requireComment","requireDeclaration","requireContainer","_len8","_key8","_len9","_key9","_len0","_key0","_len1","_key1","requireAtRule","requireDocument","requireNonSecure","requirePreviousMap","requireInput","requireRoot","requireList","requireRule","requireMapGenerator","requireTokenize","requireParser","requireParse","requireWarning","requireResult","requireWarnOnce","requireLazyResult","_this2","_loop2","requireProcessor","requireNoWorkResult","requirePostcss","_excluded3","_defaults$source2","_excluded4","requireFromJSON","_len10","_key10","requireSafeParser","requireSafeParse","BaseRRNode","childNodes2","childIterator","firstChild","ownerDocument","_newChild","_refChild","_node","testableAccessors","testableMethods","untaintedBasePrototype","getUntaintedPrototype","angularZoneUnpatchedAlternative","_unused4","untaintedAccessorCache","getUntaintedAccessor","untaintedMethodCache","getUntaintedMethod","mutationObserverCtor","_unused5","on","fn","target","capture","passive","DEPARTED_MIRROR_ACCESS_WARNING","_mirror","throttle","wait","timeout","_len11","_key11","now","Date","leading","remaining","context","trailing","hookSetter","isRevoked","receiver","nowTimestamp","getWindowScroll","_c","_d","scrollingElement","pageXOffset","documentElement","top","pageYOffset","getWindowHeight","innerHeight","clientHeight","getWindowWidth","innerWidth","clientWidth","closestElementOfNode","isBlocked","isIgnored","headTitleMutations","isAncestorRemoved","legacy_isTouchEvent","changedTouches","isSerializedIframe","nodeName","isSerializedStylesheet","hasShadowRoot","getTime","StyleSheetMirror","_this$styleIDMap$get","styleIDMap","newId","idStyleMap","getStyle","generateId","getShadowHost","shadowHost","DOCUMENT_FRAGMENT_NODE","shadowHostInDom","rootShadowHost","getRootShadowHost","inDom","EventType","EventType2","IncrementalSource","IncrementalSource2","MouseInteractions","MouseInteractions2","PointerTypes","PointerTypes2","CanvasContext","CanvasContext2","MediaInteractions","MediaInteractions2","NodeType","isNodeInLinkedList","DoubleLinkedList","head","addNode","__ln","tail","removeNode","errorHandler","moveKey","parentId","MutationBuffer","Set","mutations","processMutation","emit","frozen","locked","adds","addedIds","addList","getNextId","ns","nextId","pushAdd","currentN","iframeManager","addIframe","stylesheetManager","trackLinkElement","shadowDomManager","addShadowRoot","iframe","childSn","attachIframe","observeAttachShadow","attachLinkElement","mapRemoves","movedSet","isParentRemoved","removesSubTreeCache","addedSet","isAncestorInSet","droppedSet","tailNode","unhandledNode","payload","texts","genTextAreaValueMutation","attribute","style","diffAsStr","styleDiff","unchangedAsStr","_unchangedStyles","removes","attributeMap","movedMap","mutationCb","textarea","item","cn","m","oldValue","attributeName","unattachedDoc","implementation","createHTMLDocument","old","pname","newValue","getPropertyValue","newPriority","getPropertyPriority","addedNodes","genAdds","removedNodes","nodeId","isSerialized","deepDelete","queue","n22","processRemoves","processedNodeManager","inOtherBuffer","targetId","canvasManager","unfreeze","isFrozen","lock","unlock","addsSet","_mirror2","_isParentRemoved","_isAncestorInSet","callbackWrapper","mutationBuffers","getEventTarget","composedPath","_unused6","initMutationObserver","rootEl","mutationBuffer","observer","processMutations","observe","attributeOldValue","characterData","characterDataOldValue","childList","subtree","initMouseInteractionObserver","_ref4","mouseInteractionCb","sampling","mouseInteraction","disableMap","handlers","currentPointerType","Number","isNaN","endsWith","eventKey","eventName","handler","pointerType","thisEventKey","Mouse","Touch","Pen","MouseDown","MouseUp","Click","clientX","clientY","getHandler","PointerEvent","TouchStart","TouchEnd","h","initScrollObserver","_ref5","scrollCb","evt","defaultView","scrollLeftTop","scroll","INPUT_TAGS","lastInputValueMap","getNestedCSSRulePositions","childRule","hasNestedCSSRule","parentRule","CSSGroupingRule","CSSMediaRule","CSSSupportsRule","CSSConditionRule","parentStyleSheet","recurse","getIdAndStyleId","styleMirror","styleId","ownerNode","initAdoptedStyleSheetObserver","_ref11","host2","hostId","patchTarget","originalPropertyDescriptor","_a3","sheets","adoptStyleSheets","initObservers","o2","hooks","currentWindow","mousemoveCb","viewportResizeCb","inputCb","mediaInteractionCb","styleSheetRuleCb","styleDeclarationCb","canvasMutationCb","fontCb","selectionCb","customElementCb","mutation","mousemove","viewportResize","mediaInteaction","styleSheetRule","styleDeclaration","canvasMutation","font","selection","customElement","mergeHooks","recordDOM","mousemoveHandler","_ref3","timeBaseline","threshold","callbackThreshold","mousemoveCallback","positions","wrappedCb","totalOffset","timeOffset","updatePosition","DragEvent","Drag","MouseEvent","MouseMove","TouchMove","initMoveObserver","mouseInteractionHandler","scrollHandler","viewportResizeHandler","_ref6","_ref7","lastH","lastW","initViewportResizeObserver","inputHandler","_ref8","ignoreClass","ignoreSelector","userTriggeredOnInput","eventHandler","userTriggered","isTrusted","isChecked","cbWithDedup","text2","v2","lastInputValue","propertyDescriptor","HTMLInputElement","hookProperties","HTMLSelectElement","HTMLTextAreaElement","HTMLOptionElement","initInputObserver","mediaInteractionHandler","_ref14","Play","Pause","Seeked","VolumeChange","RateChange","initMediaInteractionObserver","styleSheetObserver","adoptedStyleSheetObserver","styleDeclarationObserver","fontObserver","_ref9","_ref0","CSSStyleSheet","insertRule","thisArg","argumentsList","addRule","styleBlock","replaceSync","deleteRule","removeRule","supportedNestedCSSRuleTypes","canMonkeyPatchNestedCSSRule","unmodifiedFunctions","_ref1","typeKey","_ref10","initStyleSheetObserver","_ref12","_ref13","ignoreCSSAttributes","setProperty","CSSStyleDeclaration","priority","removeProperty","initStyleDeclarationObserver","collectFonts","_ref15","fontMap","originalFontFace","FontFace","family","descriptors","fontFace","fontSource","Uint8Array","restoreHandler","fonts","initFontObserver","selectionObserver","param","collapsed","updateSelection","getSelection","isCollapsed","ranges","count","rangeCount","getRangeAt","startContainer","startOffset","endContainer","endOffset","initSelectionObserver","customElementObserver","_ref16","define","initCustomElementObserver","pluginHandlers","disconnect","CrossOriginIframeMirror","generateIdFn","remoteId","idToRemoteMap","remoteToIdMap","idToRemoteIdMap","getIdToRemoteIdMap","remoteIdToIdMap","getRemoteIdToIdMap","getRemoteId","getRemoteIds","ids","iframeIdToRemoteIdMap","iframeRemoteIdToIdMap","IframeManager","wrappedEmit","recordCrossOriginIframes","crossOriginIframeStyleMirror","handleMessage","iframes","crossOriginIframeMap","addLoadListener","loadListener","isAttachIframe","adoptedStyleSheets","crossOriginMessageEvent","transformedEvent","transformCrossOriginEvent","isCheckout","FullSnapshot","crossOriginIframeMirror","replaceIdOnNode","crossOriginIframeRootIdMap","patchRootIdOnNode","timestamp","IncrementalSnapshot","Mutation","Meta","Load","DomContentLoaded","Plugin","Custom","replaceIds","ViewportResize","MediaInteraction","MouseInteraction","Scroll","CanvasMutation","StyleSheetRule","StyleDeclaration","replaceStyleIds","Font","Selection","AdoptedStyleSheet","styles","iframeMirror","ShadowDomManager","WeakSet","patchAttachShadow","shadowDoms","restoreHandlers","iframeElement","manager","option","sRoot","chars","lookup","i$1","canvasVarMap","saveWebGLVar","isInstanceOfWebGLObject","ctor","contextMap","variableListFor$1","serializeArg","arg","Float32Array","Float64Array","Int32Array","Uint16Array","Int16Array","Int8Array","Uint8ClampedArray","rr_type","ArrayBuffer","base64","arraybuffer","bytes","encode","DataView","byteOffset","byteLength","HTMLImageElement","HTMLCanvasElement","ImageData","serializeArgs","supportedWebGLConstructorNames","initCanvasContextObserver","setPreserveDrawingBufferToTrue","contextType","_len13","_key13","ctxName","getNormalizedContextName","contextAttributes","preserveDrawingBuffer","_unused8","patchGLPrototype","getOwnPropertyNames","_loop4","_len14","_key14","recordArgs","_unused9","hookHandler","setter","takeFullSnapshot$1","jsContent","blob","self","Blob","WorkerWrapper","objURL","webkitURL","createObjectURL","worker","Worker","revokeObjectURL","CanvasManager","latestId","invokeId","rafStamps","pendingCanvasMutations","initCanvasMutationObserver","initCanvasFPSObserver","clear","resetObservers","fps","_this3","canvasContextReset","snapshotInProgressMap","onmessage","commands","rafId","timeBetweenSnapshots","lastSnapshotTime","takeCanvasSnapshots","getCanvas","matchedCanvas","searchCanvas","requestAnimationFrame","haystack","elem","_ref17","getContextAttributes","COLOR_BUFFER_BIT","bitmap","createImageBitmap","resizeWidth","resizeHeight","postMessage","_x","cancelAnimationFrame","startRAFTimestamping","startPendingCanvasMutationFlusher","canvas2DReset","props2D","CanvasRenderingContext2D","_loop3","_len12","_key12","_unused7","initCanvas2DMutationObserver","canvasWebGL1and2Reset","WebGLRenderingContext","WebGL","WebGL2RenderingContext","WebGL2","initCanvasWebGLMutationObserver","flushPendingCanvasMutations","setLatestRAFTimestamp","_values","flushPendingCanvasMutationFor","valuesWithType","_excluded5","StylesheetManager","adoptedStyleSheetCb","linkEl","trackedLinkElements","trackStylesheetInLinkElement","_this4","adoptedStyleSheetData","styleIds","_loop5","CSSRule","r2","_linkEl","ProcessedNodeManager","thisBuffer","buffers","nodeMap","active","destroy","recording","cleanFrame","debug","n","t2","record","checkoutEveryNms","checkoutEveryNth","maskAllInputs","_maskInputOptions","_slimDOMOptions","packFn","mousemoveWait","recordAfter","errorHandler2","inEmittingFrame","passEmitsToParent","lastFullSnapshotEvent","date","email","month","search","tel","time","week","select","password","NodeList","DOMTokenList","polyfill$1","incrementalSnapshotCount","eventProcessor","exceedCount","exceedTime","wrappedMutationEmit","wrappedScrollEmit","wrappedCanvasMutationEmit","getMirror","nodeMirror","slimDOM","snapshot","initialOffset","CustomElement","addCustomEvent","tag","freezePage","takeFullSnapshot","NotStarted","Running","Stopped","undefined","global","nativeForEach","navigator","fetch","XMLHttpRequest","AbortController","userAgent","assignableWindow","nativeIsArray","ObjProto","isFunction","isObject","isUndefined","isString","isNull","isNullish","isBoolean","isDocument","isFormData","FormData","_createLogger","prefix","logger","_log","level","consoleLog","info","critical","uninitializedWarning","methodName","createLogger","additionalPrefix","breaker","i","l","eachArray","pair","formDataToQuery","formdata","arg_separator","use_val","use_key","tph_arr","val","File","__posthog_wrapped__","isHostOnDenyList","_options$payloadHostD","hostname","hostnameFromURL","defaultNotDenied","isHostDenied","payloadHostDenyList","deny","defaultNetworkOptions","initiatorTypes","maskRequestFn","recordHeaders","recordBody","recordInitialRequests","recordPerformance","performanceEntryTypeToObserve","payloadSizeLimitBytes","isNavigationTiming","entry","entryType","isResourceTiming","initPerformanceObserver","initialPerformanceEntries","performance","getEntries","initiatorType","requests","flatMap","prepareRequest","status","networkRequest","isInitial","PerformanceObserver","performanceEntries","wrappedInitiatorFilter","entryTypes","supportedEntryTypes","shouldRecordHeaders","shouldRecordBody","headers","matchesContentType","contentTypes","contentTypeHeader","contentType","ct","isBlobURL","Request","recordBodyType","getRequestPerformanceEntry","_x2","_x3","_x4","_x5","_x6","_getRequestPerformanceEntry","attempt","performanceEntry","predicate","findLast","getEntriesByName","startTime","_tryReadXHRBody","exposesServerTiming","responseEnd","timeOrigin","floor","round","endTime","requestHeaders","requestBody","responseHeaders","responseBody","timing","serverTiming","duration","contentTypePrefixDenyList","_tryReadBody","r","txt","_tryReadRequestBody2","_tryReadResponseBody2","cannotReadBodyReason","_r$headers$get","contentTypeIsDenied","_checkForCannotReadResponseBody","initFetchObserver","recordRequestHeaders","recordResponseHeaders","restorePatch","originalFetch","res","req","header","_x7","_tryReadRequestBody","_x8","_tryReadResponseBody","_res","_x9","_x0","initialisedHandler","initNetworkObserver","networkOptions","request","maskedRequest","performanceObserver","xhrObserver","fetchObserver","originalOpen","username","xhr","originalSetRequestHeader","setRequestHeader","originalSend","send","DONE","getAllResponseHeaders","response","initXhrObserver","getRecordNetworkPlugin","__PosthogExtensions__","rrwebPlugins","getRecordConsolePlugin","rrweb","rrwebRecord","rrwebConsoleRecord"],"mappings":"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","x_google_ignoreList":[0,1]}